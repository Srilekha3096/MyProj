"use strict";(self.webpackChunkjumbo_react_6_x=self.webpackChunkjumbo_react_6_x||[]).push([[90],{63677:(e,t,s)=>{s.d(t,{Z:()=>i});var n=s(72791),l=s(56355),a=s(67807),r=s(80184);const i=e=>{let{Scrollheight:t}=e;const[s,i]=(0,n.useState)(!1),o=(0,a.Z)("up","xl"),c=()=>{window.scrollY>t?i(!0):i(!1)};return(0,n.useEffect)((()=>(window.addEventListener("scroll",c),()=>{window.removeEventListener("scroll",c)})),[]),(0,r.jsx)("div",{style:{display:s?"flex":"none",justifyContent:"center",alignItems:"center",position:"fixed",bottom:o?"10%":"10.5%",right:"10px",zIndex:99999,borderRadius:"50%",boxShadow:"0px 2px 9px lightgray",padding:.5,width:"35px",height:"35px",backgroundColor:"white",color:"#00bfff",transition:"linear 1.5s ease-in-out",cursor:"pointer"},onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"topToBottomAnimation",children:(0,r.jsx)(l.nbd,{size:22})})}},46090:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var n=s(46170),l=s(89484),a=s(20890),r=s(79012),i=s(85523),o=s(94454),c=s(64280),d=s(72791),h=s(29067),x=s(82763),u=s(74569),m=s.n(u),j=s(20560),g=s(75985),Z=s(63677),p=s(16584),b=s(52443),v=s.n(b),k=s(77573),f=s(3787),y=s(67965),C=s(16030),I=s(80184);const S=()=>{const e=localStorage.getItem("accesstoken"),t={headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json",Accept:"application/json"}},s=(0,C.I0)(),{userRolePermissions:u,formPermissions:b,modulePermissions:S}=(0,C.v9)(y.YT),[w,P]=(0,d.useState)(!0),[N,_]=(0,d.useState)(!1),[E,z]=(0,d.useState)(!1),[q,A]=(0,d.useState)(""),[O,W]=(0,d.useState)(""),[U,B]=(0,d.useState)(!1),[F,R]=(0,d.useState)(!1),[D,T]=(0,d.useState)(!1),[Y,M]=(0,d.useState)(!1),[G,K]=(0,d.useState)(!1),[H,J]=(0,d.useState)(""),[L,Q]=(0,d.useState)(""),X=(parseInt(localStorage.getItem("PartnerId")),parseInt(localStorage.getItem("OrganizationId"))),$=(e,t)=>{var s=null===t||void 0===t?void 0:t.getData();J(s)},V=()=>{x.Z.getPurchaseOrderSettings(X,t).then((e=>{console.log(e),0===(null===e||void 0===e?void 0:e.Created_By)?(P(!0),_(!1)):(P(!1),_(!0)),A(null===e||void 0===e?void 0:e.id),W(null===e||void 0===e?void 0:e.Purchasepreference_Id),B(null===e||void 0===e?void 0:e.PO_schedule),R(null===e||void 0===e?void 0:e.Goods_received),T(null===e||void 0===e?void 0:e.Stock_quantity),M(null===e||void 0===e?void 0:e.PR_quantity),K(null===e||void 0===e?void 0:e.Bill_overdue),J(null===e||void 0===e?void 0:e.Termsandcondition),Q(null===e||void 0===e?void 0:e.Notifyto)})).catch((e=>{console.log(e)}))};(0,d.useEffect)((()=>{V()}),[]);return(0,d.useEffect)((()=>{s((0,y.sr)(e))}),[]),(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(n.Z,{children:[(0,I.jsx)(h.Z,{}),(0,I.jsx)(a.Z,{variant:"h3",sx:{fontWeight:600},children:"Preferences"}),(0,I.jsx)(a.Z,{variant:"h3",sx:{fontWeight:500},children:"Purchase Order"}),(0,I.jsx)(l.Z,{sx:{display:!0===w?"block":"none"},children:(0,I.jsxs)("form",{onSubmit:e=>{e.preventDefault(),L||g.Am.error("Please Enter the Email Id");var s={PO_schedule:U,Goods_received:F,Stock_quantity:D,PR_quantity:Y,Bill_overdue:G,Termsandcondition:H,Notifyto:L,Partner_Id:parseInt(localStorage.getItem("PartnerId")),Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))};m().post("".concat(j._n,"/Erpapp/PurchasepreferenceCRUD/"),s,t).then((e=>{console.log(e),201===e.status&&e.data.id?(g.Am.success("Created Successfully"),0===e.data.id?(_(!1),P(!0)):(P(!1),_(!0),V())):g.Am.error("Purchase Matching Query Doesn't Exist.")})).catch((e=>{console.log(e),g.Am.error(e.message)}))},children:[(0,I.jsxs)(l.Z,{sx:{mt:1,ml:5},children:[(0,I.jsxs)(r.Z,{children:[(0,I.jsx)(i.Z,{control:(0,I.jsx)(o.Z,{size:"small",checked:U,onChange:e=>{B(e.target.checked)}}),label:"Notify me when the PO schedule is due before 3 days"}),(0,I.jsx)(i.Z,{control:(0,I.jsx)(o.Z,{size:"small",checked:F,onChange:e=>{R(e.target.checked)}}),label:"Notify me when the goods received at store against the PO"})]}),(0,I.jsxs)(l.Z,{sx:{mt:1},children:[(0,I.jsx)(a.Z,{variant:"h4",children:"Purchase requisition"}),(0,I.jsxs)(r.Z,{children:[(0,I.jsx)(i.Z,{control:(0,I.jsx)(o.Z,{size:"small",checked:D,onChange:e=>{T(e.target.checked)}}),label:"Show Item Stock quantity against the required quantity"}),(0,I.jsx)(i.Z,{control:(0,I.jsx)(o.Z,{size:"small",checked:Y,onChange:e=>{M(e.target.checked)}}),label:"Show pending PR quantity during PO"})]})]}),(0,I.jsxs)(l.Z,{sx:{mt:1},children:[(0,I.jsx)(a.Z,{variant:"h4",children:"Payments"}),(0,I.jsx)(r.Z,{children:(0,I.jsx)(i.Z,{control:(0,I.jsx)(o.Z,{size:"small",checked:G,onChange:e=>{K(e.target.checked)}}),label:"Get Notified when supplier bill is overdue",sx:{mt:0}})})]}),(0,I.jsxs)(l.Z,{className:"row mt-2",children:[(0,I.jsxs)(a.Z,{for:"staticEmail",className:"input-label col-12 col-md-5 col-lg-2 col-xl-2",children:["Email Id ",(0,I.jsx)("span",{class:"required",children:"*"})]}),(0,I.jsx)(l.Z,{className:"col-12 col-md-7 col-lg-5 col-xl-5",children:(0,I.jsx)(c.Z,{type:"text",className:"input-box col-12",id:"staticEmail",placeholder:"Enter Email Id",value:L,onChange:e=>Q(e.target.value),required:!0})})]}),(0,I.jsxs)(l.Z,{className:"row mt-2",children:[(0,I.jsx)(a.Z,{className:"input-label col-12 col-md-5 col-lg-2 col-xl-2",children:"Terms and Condition"}),(0,I.jsx)(l.Z,{className:"col-12 col-md-7 col-lg-7 col-xl-7",children:(0,I.jsx)(p.CKEditor,{editor:v(),content:H,data:H,events:{change:$},onChange:$})})]})]}),(0,I.jsx)(l.Z,{className:"buttons",sx:{mt:5},children:Array.isArray(u)&&u.includes(397)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(f.Yr,{name:"Save",type:"submit"}),(0,I.jsx)(f.o$,{handleClick:()=>{z(!0)}})]})})]})}),(0,I.jsx)(l.Z,{sx:{display:!0===N?"block":"none"},children:(0,I.jsxs)("form",{onSubmit:e=>{e.preventDefault();var s={id:q,Purchasepreference_Id:O,PO_schedule:U,Goods_received:F,Stock_quantity:D,PR_quantity:Y,Bill_overdue:G,Termsandcondition:H,Notifyto:L,Partner_Id:parseInt(localStorage.getItem("PartnerId")),Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))};m().put("".concat(j._n,"/Erpapp/PurchasepreferenceCRUD/"),s,t).then((e=>{console.log(e),e.data.id&&200===e.status?g.Am.success("Updated Successfully"):g.Am.error("Purchase Matching Query Doesn't Exist.")})).catch((e=>{console.log(e),g.Am.error(e.message)}))},children:[(0,I.jsxs)(l.Z,{sx:{mt:1,ml:5},children:[(0,I.jsxs)(r.Z,{children:[(0,I.jsx)(i.Z,{control:(0,I.jsx)(o.Z,{size:"small",checked:U,onChange:e=>{B(e.target.checked)}}),label:"Notify me when the PO schedule is due before 3 days",sx:{mt:0,mb:-1}}),(0,I.jsx)(i.Z,{control:(0,I.jsx)(o.Z,{size:"small",checked:F,onChange:e=>{R(e.target.checked)}}),label:"Notify me when the goods received at store against the PO"})]}),(0,I.jsxs)(l.Z,{sx:{mt:1},children:[(0,I.jsx)(a.Z,{variant:"h4",children:"Purchase requisition"}),(0,I.jsxs)(r.Z,{sx:{mt:-.5},children:[(0,I.jsx)(i.Z,{control:(0,I.jsx)(o.Z,{size:"small",checked:D,onChange:e=>{T(e.target.checked)}}),label:"Show Item Stock quantity against the required quantity",sx:{mt:0,mb:-1}}),(0,I.jsx)(i.Z,{control:(0,I.jsx)(o.Z,{size:"small",checked:Y,onChange:e=>{M(e.target.checked)}}),label:"Show pending PR quantity during PO"})]})]}),(0,I.jsxs)(l.Z,{sx:{mt:1},children:[(0,I.jsx)(a.Z,{variant:"h4",children:"Payments"}),(0,I.jsx)(r.Z,{sx:{mt:-.5},children:(0,I.jsx)(i.Z,{control:(0,I.jsx)(o.Z,{size:"small",checked:G,onChange:e=>{K(e.target.checked)}}),label:"Get Notified when supplier bill is overdue",sx:{mt:0}})})]}),(0,I.jsxs)(l.Z,{className:"row mt-2",children:[(0,I.jsx)(a.Z,{for:"staticEmail",className:"input-label col-2",children:"Email Id :"}),(0,I.jsx)(l.Z,{className:"col-5",children:(0,I.jsx)(c.Z,{type:"text",className:"input-box col-10",id:"staticEmail",placeholder:"Enter Email Id",value:L,onChange:e=>Q(e.target.value)})})]}),(0,I.jsxs)(l.Z,{className:"row mt-2",children:[(0,I.jsx)(a.Z,{className:"input-label col-2",children:"Terms and Condition"}),(0,I.jsx)(l.Z,{className:"col-7",children:(0,I.jsx)(p.CKEditor,{editor:v(),content:H,data:H,events:{change:$},onChange:$})})]})]}),(0,I.jsx)(l.Z,{sx:{mt:10},children:Array.isArray(u)&&u.includes(398)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(f.Yr,{name:"Update",type:"submit"}),(0,I.jsx)(f.o$,{handleClick:()=>{z(!0)}})]})})]})}),(0,I.jsx)(k.rJ,{flag:E,setFlag:z,handleClick:()=>{z(!1),V()},content:"You have done some changes. Onclicking the cancel button changed data will not be saved."}),(0,I.jsx)(Z.Z,{Scrollheight:180})]})})}},29067:(e,t,s)=>{s.d(t,{Z:()=>r});s(72791);var n=s(20890),l=s(89484),a=(s(90046),s(80184));const r=()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(n.Z,{variant:"h1",sx:{fontWeight:800,mt:-2},children:"Settings"})})})},67807:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(13967),l=s(25046);function a(e,t,s,a){const r=(0,n.Z)(),i=(0,l.Z)(r.breakpoints.up(t)),o=(0,l.Z)(r.breakpoints.down(t)),c=(0,l.Z)(r.breakpoints.between(s,a)),d=(0,l.Z)(r.breakpoints.only(t));return"up"===e?i:"down"===e?o:"between"===e?c:"only"===e?d:null}},77573:(e,t,s)=>{s.d(t,{cF:()=>f,e4:()=>v,rJ:()=>k});var n=s(89484),l=s(66934),a=s(5289),r=s(13400),i=s(20890),o=s(13967),c=s(25046),d=s(39157),h=s(97123),x=s(10094),u=s(65523),m=(s(72791),s(16856)),j=s(36036),g=s(80184);const Z=(0,l.ZP)(a.Z)((e=>{let{theme:t}=e;return{"& .MuiDialog-paper":{borderRadius:5,backgroundColor:t.palette.background.default,border:"1px solid ".concat(t.palette.divider)}}})),p=(0,l.ZP)(r.Z)((e=>{let{theme:t}=e;return{color:t.palette.error.main,"&:hover":{backgroundColor:t.palette.error.light,color:t.palette.background.default}}})),b=(0,l.ZP)(i.Z)((e=>{let{theme:t}=e;return{padding:t.spacing(.5),textAlign:"left",borderRadius:t.shape.borderRadius}})),v=e=>{let{flag:t,setFlag:s,handleClick:l,content:a,id:r,isMobile:p}=e;const b=(0,o.Z)(),v=(0,c.Z)(b.breakpoints.down("md"));return(0,g.jsxs)(Z,{open:t,maxWidth:window.innerWidth<=600?"xs":(window.innerWidth<=768||window.innerWidth,"sm"),fullWidth:!0,onClose:()=>s(!1),children:[(0,g.jsx)(d.Z,{children:(0,g.jsxs)(i.Z,{variant:"h3",children:[a,(0,g.jsx)("span",{children:"\xa0"}),(0,g.jsxs)("span",{style:{fontWeight:700},children:[" ",'"',r,'" ?']})]})}),(0,g.jsx)(h.Z,{children:p||(v?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(x.Z,{variant:"contained",color:"error",endIcon:(0,g.jsx)(m.ZkW,{}),onClick:l,children:"Delete"}),(0,g.jsx)(x.Z,{variant:"contained",endIcon:(0,g.jsx)(j.KZq,{}),onClick:()=>s(!1),children:"Cancel"})]}):(0,g.jsxs)(n.Z,{className:"buttons",children:[(0,g.jsxs)(u.Z,{"aria-label":"split button",onClick:l,sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,g.jsx)(x.Z,{className:"plus-button",children:"Delete"}),(0,g.jsx)(x.Z,{variant:"contained",className:"icon-button",children:(0,g.jsx)(m.ZkW,{size:18})})]}),(0,g.jsxs)(u.Z,{"aria-label":"split button",onClick:()=>s(!1),sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,g.jsx)(x.Z,{className:"plus-button",children:"Cancel"}),(0,g.jsx)(x.Z,{variant:"contained",className:"icon-button",children:(0,g.jsx)(j.KZq,{size:22})})]})]}))})]})},k=e=>{let{flag:t,setFlag:s,handleClick:l,content:r,isMobile:o}=e;return(0,g.jsxs)(a.Z,{open:t,maxWidth:"sm",fullWidth:!0,children:[(0,g.jsxs)(d.Z,{children:[(0,g.jsx)(i.Z,{variant:"h4",children:r}),(0,g.jsx)("br",{}),(0,g.jsx)(i.Z,{variant:"h4",children:"Do you want still to continue..."})]}),(0,g.jsx)(h.Z,{children:o?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(x.Z,{variant:"contained",color:"error",endIcon:(0,g.jsx)(m.HhX,{}),onClick:()=>s(!1),children:"Yes"}),(0,g.jsx)(x.Z,{variant:"contained",endIcon:(0,g.jsx)(m.lUB,{}),onClick:l,children:"No"})]}):(0,g.jsxs)(n.Z,{className:"buttons",children:[(0,g.jsxs)(u.Z,{"aria-label":"split button",onClick:()=>s(!1),sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,g.jsx)(x.Z,{className:"plus-button",children:"Yes"}),(0,g.jsx)(x.Z,{variant:"contained",className:"icon-button",children:(0,g.jsx)(m.HhX,{size:16})})]}),(0,g.jsxs)(u.Z,{"aria-label":"split button",onClick:l,sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,g.jsx)(x.Z,{className:"plus-button",children:"No"}),(0,g.jsx)(x.Z,{variant:"contained",className:"icon-button",children:(0,g.jsx)(m.lUB,{size:16})})]})]})})]})},f=e=>{let{flag:t,setFlag:s,isMobile:l}=e;return(0,g.jsx)(Z,{open:t,maxWidth:"xs",children:(0,g.jsxs)(d.Z,{children:[(0,g.jsxs)(n.Z,{sx:{p:0,m:0,mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,g.jsx)(b,{variant:"h3",children:"Alert"}),(0,g.jsx)(p,{onClick:()=>s(!1),sx:{p:.3},children:(0,g.jsx)(m.FU5,{size:22})})]}),(0,g.jsx)(i.Z,{variant:"h4",sx:{color:"text.secondary"},children:"You don't have the permission to view this page."})]})})}},90046:()=>{}}]);
//# sourceMappingURL=90.5f03b580.chunk.js.map