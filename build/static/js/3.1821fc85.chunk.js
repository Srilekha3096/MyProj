"use strict";(self.webpackChunkjumbo_react_6_x=self.webpackChunkjumbo_react_6_x||[]).push([[3],{63677:(e,l,o)=>{o.d(l,{Z:()=>i});var a=o(72791),s=o(56355),n=o(67807),t=o(80184);const i=e=>{let{Scrollheight:l}=e;const[o,i]=(0,a.useState)(!1),d=(0,n.Z)("up","xl"),r=()=>{window.scrollY>l?i(!0):i(!1)};return(0,a.useEffect)((()=>(window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)})),[]),(0,t.jsx)("div",{style:{display:o?"flex":"none",justifyContent:"center",alignItems:"center",position:"fixed",bottom:d?"10%":"10.5%",right:"10px",zIndex:99999,borderRadius:"50%",boxShadow:"0px 2px 9px lightgray",padding:.5,width:"35px",height:"35px",backgroundColor:"white",color:"#00bfff",transition:"linear 1.5s ease-in-out",cursor:"pointer"},onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"topToBottomAnimation",children:(0,t.jsx)(s.nbd,{size:22})})}},29067:(e,l,o)=>{o.d(l,{Z:()=>t});o(72791);var a=o(20890),s=o(89484),n=(o(90046),o(80184));const t=()=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.Z,{children:(0,n.jsx)(a.Z,{variant:"h1",sx:{fontWeight:800,mt:-2},children:"Settings"})})})},49003:(e,l,o)=>{o.r(l),o.d(l,{default:()=>Q});var a=o(46170),s=o(94819),n=o(89484),t=o(20890),i=o(61889),d=o(79836),r=o(56890),c=o(35855),m=o(53994),u=o(53382),v=o(72791),x=o(75985),h=o(82763),p=o(1413),j=o(40131),N=o(64280),Z=o(85523),f=o(94454),g=o(68096),_=o(65523),b=o(10094),w=o(5289),k=o(39157),y=o(97123),C=o(29067),W=o(52510),S=o(59516),F=o(74569),P=o.n(F),I=o(20560),L=o(56355),E=o(36036),A=o(14423),D=o(26550),O=o(10375),B=o(98396),R=o(80184);const q=e=>{let{setListWorkflow:l,setCreateWorkflow:o,listOfWorkflows:a,scrollHeight:n}=e;const F=localStorage.getItem("accesstoken"),q={headers:{Authorization:"Bearer ".concat(F),"Content-Type":"application/json",Accept:"application/json"}},[U,H]=(0,v.useState)([]),[T,z]=(0,v.useState)(!1),[M,V]=(0,v.useState)(!1),[K,Y]=(0,v.useState)([]),[Q,X]=(0,v.useState)([]),[J,G]=(0,v.useState)([]),[$,ee]=(0,v.useState)([]),[le,oe]=(0,v.useState)([]),[ae,se]=(0,v.useState)([]),[ne,te]=(0,v.useState)([]),[ie,de]=(0,v.useState)(""),[re,ce]=(0,v.useState)(""),[me,ue]=(0,v.useState)(""),[ve,xe]=(0,v.useState)(""),[he,pe]=(0,v.useState)(""),[je,Ne]=(0,v.useState)(""),[Ze,fe]=(0,v.useState)(""),[ge,_e]=(0,v.useState)("Amount"),[be,we]=(0,v.useState)(!1),[ke,ye]=(0,v.useState)(""),[Ce,We]=(0,v.useState)(""),[Se,Fe]=(0,v.useState)(""),[Pe,Ie]=(0,v.useState)(""),[Le,Ee]=(0,v.useState)([]),[Ae,De]=(0,v.useState)([{id:"",level:"Level 1",from_value:"",to_value:"",approver_name:"",role:""}]),[Oe,Be]=(0,v.useState)();(0,v.useEffect)((()=>{A.Z.listofDropdownAllEmployees(q).then((e=>{console.log(e),Y(e)})).catch((e=>{console.log(e)}))}),[re]);(0,v.useEffect)((()=>{(async()=>{await P().get("".concat(I._n,"/Erpapp/Workflowlistwithoutpagination/?Partner_Id=").concat(ie),q).then((e=>{H(null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log(e)}))})()}),[ie]);const Re=(e,l)=>{const{name:o,value:a}=e.target,s=[...Ae];s[l][o]="from_value"===o||"to_value"===o?Number(a):a,De(s),console.log(s)};let qe=localStorage.getItem("Username"),Ue=localStorage.getItem("Designation");const He=null===K||void 0===K?void 0:K.filter((e=>("Admin"===Ue||"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName)!==qe)&&!(null!==Le&&void 0!==Le&&Le.includes("".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName)))));return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(C.Z,{}),(0,R.jsx)(t.Z,{variant:"h3",sx:{fontWeight:600},children:"Workflow Approval"}),(0,R.jsx)(t.Z,{variant:"h4",sx:{fontWeight:500},children:"Users shall use this form to set up the approvers to approve various documents"}),(0,R.jsx)(W.Z,{children:(0,R.jsxs)("form",{onSubmit:e=>{var s;if(e.preventDefault(),console.log("workflowsworkflows",U),(()=>{const e={};return void 0!==re&&null!==re&&""!==re||(e.partnerName="Business Unit is required."),void 0!==je&&null!==je&&""!==je||(e.workflowName="Workflow is required."),void 0!==he&&null!==he&&""!==he||(e.ruleName="Rule Name is required."),ve||(e.documentName="Document Name is required."),ke||(e.noOfLevels="No of level is required."),Be(e),0===Object.keys(e).length})())if(null!==U&&void 0!==U&&null!==(s=U.filter((e=>{var l;return(null===e||void 0===e||null===(l=e.Partner_Id)||void 0===l?void 0:l.id)===ie})))&&void 0!==s&&s.find((e=>(null===e||void 0===e?void 0:e.Document_Name)===ve)))x.Am.warning("Workflow Approval For ".concat(ve," is already created."));else{var n={Workflow_Name:je,Assignworkflow_Id:me,Workflow_Basedon:ge,Document_Name:ve,Field_Name:Ze,Noof_Level:ke,Amountjosn:Ae,leveljson:Ae,Head_Approval:T,Partner_Id:parseInt(ie),Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId")),Created_Date:D.vQ};P().post("".concat(I._n,"/Erpapp/WorkflowCRUD/"),n,q).then((e=>{var s;console.log(e),201===(null===e||void 0===e?void 0:e.status)&&null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.id&&(x.Am.success("Workflow is Created Successfully"),o(!1),l(!0),a(),ce(""),xe(""),Ne(""),fe(""),pe(""),ye(""),De([{id:"",from_value:"",to_value:"",approver_name:"",role:"",level:""}]),Be({}))})).catch((e=>{console.log(e),(0,O.S)(e)}))}},children:[(0,R.jsxs)(W.Z,{className:"container",sx:{minHeight:"300px"},children:[(0,R.jsxs)(i.ZP,{container:!0,sx:{mt:2,ml:{sm:0,md:3}},children:[(0,R.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,R.jsxs)(t.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["Business Unit ",(0,R.jsx)("span",{className:"required",children:"*"})]}),(0,R.jsxs)(W.Z,{className:"col-md-4",children:[(0,R.jsx)(j.Z,{className:"search-select",name:"partnerName",onFocus:()=>{S.Z.listPartners(q).then((e=>{console.log("Partners",e),X(e)})).catch((e=>{console.log(e)}))},getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.Partner_Name?null===e||void 0===e?void 0:e.Partner_Name:"",options:Q,value:(null===Q||void 0===Q?void 0:Q.find((e=>(null===e||void 0===e?void 0:e.Partner_Name)===re)))||null,onChange:(e,l)=>{console.log(l),ce(null===l||void 0===l?void 0:l.Partner_Name),de(null===l||void 0===l?void 0:l.id)},isOptionEqualToValue:(e,l)=>(null===e||void 0===e?void 0:e.Partner_Name)===l||""===l,renderInput:e=>(0,R.jsx)(N.Z,(0,p.Z)((0,p.Z)({},e),{},{placeholder:"Business Unit",variant:"outlined",autoComplete:"off"}))}),(0,R.jsx)(W.Z,{style:{color:"red"},children:!re&&(null===Oe||void 0===Oe?void 0:Oe.partnerName)})]})]}),(0,R.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,R.jsxs)(t.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["Document Name ",(0,R.jsx)("span",{className:"required",children:"*"})]}),(0,R.jsxs)(W.Z,{className:"col-md-4",children:[(0,R.jsx)(j.Z,{className:"search-select",name:"documentName",onFocus:()=>{P().get("".concat(I._n,"/Erpapp/Assignworkflowdropdwonlist/"),q).then((e=>{console.log(e.data),oe(null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log(e)}))},getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.Document_Name?null===e||void 0===e?void 0:e.Document_Name:"",options:le,value:(null===le||void 0===le?void 0:le.find((e=>(null===e||void 0===e?void 0:e.Document_Name)===ve)))||null,onChange:(e,l)=>{console.log(l),l?(xe(null===l||void 0===l?void 0:l.Document_Name),ue(null===l||void 0===l?void 0:l.id),(async e=>{await P().get("".concat(I._n,"/Erpapp/Assignworkflowfilter/?Document_Name=").concat(e),q).then((e=>{var l,o,a,s,n,t,i;console.log("WFNAmesWFNAmes",null===e||void 0===e?void 0:e.data),Ne(null===e||void 0===e||null===(l=e.data[0])||void 0===l?void 0:l.Workflow_Name),fe(null===e||void 0===e||null===(o=e.data[0])||void 0===o?void 0:o.Field_Name),pe(null===e||void 0===e||null===(a=e.data[0])||void 0===a?void 0:a.Rule_Name),ye(null===e||void 0===e||null===(s=e.data[0])||void 0===s?void 0:s.Noof_Level),z(null===e||void 0===e||null===(n=e.data[0])||void 0===n?void 0:n.Head_Approval),""===(null===e||void 0===e||null===(t=e.data[0])||void 0===t?void 0:t.Field_Name)?(we(!1),_e("Level")):(we(!0),_e("Amount"));const d=null===(i=e.data[0])||void 0===i?void 0:i.Noof_Level;if(d){const e=[];for(let l=0;l<d;l++){const o={id:"",level:"Level ".concat(l+1),from_value:"",to_value:"",approver_name:"",role:""};e.push(o)}De(e)}})).catch((e=>{console.log(e)}))})(null===l||void 0===l?void 0:l.Document_Name)):(Ne(""),fe(""),pe(""),ye(""),xe(""),z(!1),De([{id:"",level:"Level 1",from_value:"",to_value:"",approver_name:"",role:""}]))},isOptionEqualToValue:(e,l)=>(null===e||void 0===e?void 0:e.Document_Name)===l||""===l,renderInput:e=>(0,R.jsx)(N.Z,(0,p.Z)((0,p.Z)({},e),{},{placeholder:"Document Name",variant:"outlined",autoComplete:"off"}))}),(0,R.jsx)(W.Z,{style:{color:"red"},children:!ve&&(null===Oe||void 0===Oe?void 0:Oe.documentName)})]})]}),(0,R.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,R.jsxs)(t.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["Workflow Name ",(0,R.jsx)("span",{className:"required",children:"*"})]}),(0,R.jsxs)(W.Z,{className:"col-md-4",children:[(0,R.jsx)(N.Z,{className:"col-12 input-box",name:"workflowName",value:je,placeholder:"Workflow Name",variant:"outlined",autoComplete:"off",disabled:!0}),(0,R.jsx)(W.Z,{style:{color:"red"},children:!je&&(null===Oe||void 0===Oe?void 0:Oe.workflowName)})]})]}),!0===be&&(0,R.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,R.jsx)(t.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:"Field Name"}),(0,R.jsx)(W.Z,{className:"col-md-4",children:(0,R.jsx)(N.Z,{className:"col-12 input-box",name:"fieldName",value:Ze,placeholder:"Field Name",variant:"outlined",autoComplete:"off",disabled:!0})})]}),(0,R.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,R.jsxs)(t.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["Rule Name ",(0,R.jsx)("span",{className:"required",children:"*"})]}),(0,R.jsxs)(W.Z,{className:"col-md-4",children:[(0,R.jsx)(N.Z,{className:"col-12 input-box",name:"ruleName",value:he,placeholder:"Rule Name",variant:"outlined",autoComplete:"off",disabled:!0}),(0,R.jsx)(W.Z,{style:{color:"red"},children:!he&&(null===Oe||void 0===Oe?void 0:Oe.ruleName)})]})]}),(0,R.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,R.jsxs)(t.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["No of Levels ",(0,R.jsx)("span",{className:"required",children:"*"})]}),(0,R.jsxs)(W.Z,{className:"col-md-4",children:[(0,R.jsx)(N.Z,{className:"col-12 input-box",name:"noOfLevels",value:ke,placeholder:"No of Levels",variant:"outlined",autoComplete:"off",disabled:!0}),(0,R.jsx)(W.Z,{style:{color:"red"},children:!ke&&(null===Oe||void 0===Oe?void 0:Oe.noOfLevels)})]})]})]}),(0,R.jsx)(W.Z,{sx:{mt:2},children:(0,R.jsx)(Z.Z,{className:"input-label",checked:T,onChange:e=>z(e.target.checked),control:(0,R.jsx)(f.Z,{size:"small"}),label:"Require Department Head Approval",labelPlacement:"start"})}),(0,R.jsx)(W.Z,{sx:{mt:2},children:(0,R.jsx)(s.Z,{autoHeight:!0,autoHideTimeout:4e3,autoHeightMin:n||200,autoHide:!0,hideTracksWhenNotNeeded:!0,id:"no-more-tables",children:(0,R.jsxs)(d.Z,{className:"table table-bordered",sx:{width:"95%"},children:[(0,R.jsx)(r.Z,{className:"table-head",children:(0,R.jsxs)(c.Z,{children:[(0,R.jsx)(m.Z,{children:"Level"}),be&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(m.Z,{children:"From Range"}),(0,R.jsx)(m.Z,{children:"To Range"})]}),(0,R.jsx)(m.Z,{children:"Approver's Name"})]})}),(0,R.jsx)(u.Z,{children:Ae&&(null===Ae||void 0===Ae?void 0:Ae.map(((e,l)=>{const{level:o,from_value:a,to_value:s,approver_name:n}=e;return(0,R.jsxs)(c.Z,{children:[(0,R.jsx)(m.Z,{sx:{minWidth:"210px"},"data-title":"Level",children:(0,R.jsx)(N.Z,{className:"input-box col-12",placeholder:"Level",name:"level",value:"Level ".concat(l+1),autoComplete:"off",disabled:!0})}),be&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(m.Z,{sx:{minWidth:"210px"},"data-title":"From Range",children:(0,R.jsx)(B._,{className:"input-box col-12",placeholder:"From Range",name:"from_value",value:a,onChange:(e,o)=>{Re(e,l)},autoComplete:"off"})}),(0,R.jsx)(m.Z,{sx:{minWidth:"210px"},"data-title":"To Range",children:(0,R.jsx)(B._,{className:"input-box col-12",placeholder:"To Range",name:"to_value",value:s,onChange:(e,o)=>{Re(e,l)},autoComplete:"off"})})]}),(0,R.jsx)(m.Z,{sx:{minWidth:"210px"},"data-title":"Approver's Name",children:(0,R.jsx)(g.Z,{className:"col-12",children:(0,R.jsx)(j.Z,{className:"search-select col-12",name:"approver_name",getOptionLabel:e=>"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName),options:He,value:(null===K||void 0===K?void 0:K.find((e=>"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName)===n)))||null,onChange:(e,o)=>{((e,l,o)=>{const a=[...Ae];if(o<0||o>=a.length)return;const s=(0,p.Z)({},a[o]),n=null===s||void 0===s?void 0:s.approver_name;s.approver_name="".concat(null===l||void 0===l?void 0:l.Employee_FirstName," ").concat(null===l||void 0===l?void 0:l.Employee_LasttName)||"",s.id=(null===l||void 0===l?void 0:l.id)||"",s.role=(null===l||void 0===l?void 0:l.Designation)||"",s.level="",a[o]=s,De(a);const t=[...Le];if(n){const e=t.indexOf(n);-1!==e&&t.splice(e,1)}if(n&&n!=="".concat(null===l||void 0===l?void 0:l.Employee_FirstName," ").concat(null===l||void 0===l?void 0:l.Employee_LasttName)){const e=t.indexOf(n);-1!==e&&t.splice(e,1)}const i="".concat(null===l||void 0===l?void 0:l.Employee_FirstName," ").concat(null===l||void 0===l?void 0:l.Employee_LasttName);l&&i&&!t.includes(i)&&t.push(i),Ee(t)})(0,o,l)},isOptionEqualToValue:(e,l)=>(null===e||void 0===e?void 0:e.id)===(null===l||void 0===l?void 0:l.id)||""===l,renderInput:e=>(0,R.jsx)(N.Z,(0,p.Z)((0,p.Z)({},e),{},{placeholder:"Approver Name",variant:"outlined",autoComplete:"off"}))})})})]},l)})))})]})})})]}),(0,R.jsxs)(W.Z,{className:"buttons",sx:{mt:5},children:[(0,R.jsxs)(_.Z,{"aria-label":"split button",type:"submit",sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,R.jsx)(b.Z,{type:"submit",className:"plus-button",children:"Save"}),(0,R.jsx)(b.Z,{variant:"contained",className:"icon-button",children:(0,R.jsx)(L.TvB,{size:18})})]}),(0,R.jsxs)(_.Z,{"aria-label":"split button",sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},onClick:()=>{l(!0),o(!1),ce(""),xe(""),Ne(""),fe(""),pe(""),ye(""),De([{id:"",level:"",from_value:"",to_value:"",approver_name:"",role:""}]),Be({})},children:[(0,R.jsx)(b.Z,{className:"plus-button",children:"Cancel"}),(0,R.jsx)(b.Z,{variant:"contained",className:"icon-button",children:(0,R.jsx)(E.KZq,{size:24})})]})]})]})}),(0,R.jsx)(w.Z,{open:M,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,R.jsx)("form",{onSubmit:e=>{e.preventDefault();var l={Form_Name:Se,Field_Name:Pe,FieldShort_Name:"",Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId")),Created_Date:D.vQ};P().post("".concat(I._n,"/Erpapp/WorkfloworiginCRUD/"),l,q).then((e=>{console.log(e),V(!1),201===e.status&&x.Am.success("Fields Created Successfully")})).catch((e=>{console.log(e)}))},children:(0,R.jsxs)("div",{children:[(0,R.jsxs)(k.Z,{children:[(0,R.jsx)(t.Z,{variant:"h3",children:"Create Field Name "}),(0,R.jsxs)(i.ZP,{container:!0,sx:{mt:2},children:[(0,R.jsx)(i.ZP,{item:!0,xs:12,sx:{ml:2},children:(0,R.jsxs)(t.Z,{className:"col-12 input-label",children:["Model Name ",(0,R.jsx)("span",{className:"required",children:"*"})]})}),(0,R.jsxs)(i.ZP,{item:!0,xs:12,sx:{ml:2},children:[(0,R.jsx)(j.Z,{onFocus:()=>{h.Z.filterFormNames(q).then((e=>{console.log(null===e||void 0===e?void 0:e.results),G(null===e||void 0===e?void 0:e.results)})).catch((e=>{console.log(e)}))},className:"search-select col-12",id:"free-solo-demo",options:J,getOptionLabel:e=>null===e||void 0===e?void 0:e.ModuleName,value:null===J||void 0===J?void 0:J.find((e=>(null===e||void 0===e?void 0:e.ModuleName)===Ce)),onChange:(e,l)=>{console.log(l),We(null===l||void 0===l?void 0:l.ModuleName),(e=>{var l={ModuleName:null===e||void 0===e?void 0:e.ModuleName};P().post("".concat(I._n,"/Erpapp/Formpermissionfilter/"),l,q).then((e=>{console.log("res",e),ee(e.data)})).catch((e=>{console.log(e)}))})(l)},sx:{minWidth:"280px",maxWidth:"1005px"},renderInput:e=>(0,R.jsx)(N.Z,(0,p.Z)((0,p.Z)({},e),{},{placeholder:"Form Name",variant:"outlined",autoComplete:"off"}))}),(0,R.jsx)(W.Z,{style:{color:"red"}})]}),(0,R.jsx)(i.ZP,{item:!0,xs:12,sx:{ml:2},children:(0,R.jsxs)(t.Z,{className:"col-12 input-label",children:["Document Name/Form Name ",(0,R.jsx)("span",{className:"required",children:"*"})]})}),(0,R.jsxs)(i.ZP,{item:!0,xs:12,sx:{ml:2},children:[(0,R.jsx)(j.Z,{className:"search-select col-12",id:"free-solo-demo",options:$,getOptionLabel:e=>null===e||void 0===e?void 0:e.FormName,value:$.find((e=>(null===e||void 0===e?void 0:e.FormName)===Se)),onChange:(e,l)=>{console.log(l),Fe(null===l||void 0===l?void 0:l.FormName),(e=>{console.log("newValue.FormName",null===e||void 0===e?void 0:e.FormName);var l=null===e||void 0===e?void 0:e.FormName;h.Z.filterlistFieldNames(l,q).then((e=>{var l;console.log("res1",e),te(e),fe(null===(l=e[0])||void 0===l?void 0:l.Field_Name),we(!!e)})).catch((e=>{console.log(e)}))})(l)},sx:{minWidth:"280px",maxWidth:"1005px"},renderInput:e=>(0,R.jsx)(N.Z,(0,p.Z)((0,p.Z)({},e),{},{placeholder:"Document Name",variant:"outlined",autoComplete:"off"}))}),(0,R.jsx)(W.Z,{style:{color:"red"}})]}),(0,R.jsx)(i.ZP,{item:!0,xs:12,sx:{ml:2},children:(0,R.jsxs)(t.Z,{className:"col-12 input-label",children:["Field Name ",(0,R.jsx)("span",{className:"required",children:"*"})]})}),(0,R.jsxs)(i.ZP,{item:!0,xs:12,sx:{ml:2},children:[(0,R.jsx)(j.Z,{className:"search-select col-12",id:"free-solo-demo",name:"fieldName2",getOptionLabel:e=>null===e||void 0===e?void 0:e.Field_Name,value:ne.find((e=>(null===e||void 0===e?void 0:e.Field_Name)===Pe)),options:ne,onChange:(e,l)=>{console.log(l),Ie(null===l||void 0===l?void 0:l.Field_Name)},autoComplete:"off",sx:{minWidth:"280px",maxWidth:"1005px"},renderInput:e=>(0,R.jsx)(N.Z,(0,p.Z)((0,p.Z)({},e),{},{placeholder:"Field Name",variant:"outlined",autoComplete:"off"}))}),(0,R.jsx)(W.Z,{style:{color:"red"}})]})]})]}),(0,R.jsxs)(y.Z,{children:[(0,R.jsxs)(_.Z,{"aria-label":"split button",sx:{mr:3},children:[(0,R.jsx)(b.Z,{className:"plus-button",type:"submit",children:"Save"}),(0,R.jsx)(b.Z,{variant:"contained",type:"submit",className:"icon-button",children:(0,R.jsx)(L.TvB,{size:18})})]}),(0,R.jsxs)(_.Z,{"aria-label":"split button",onClick:()=>V(!1),children:[(0,R.jsx)(b.Z,{className:"plus-button",children:"Cancel"}),(0,R.jsx)(b.Z,{variant:"contained",className:"icon-button",children:(0,R.jsx)(E.KZq,{size:24})})]})]})]})})})]})},U=e=>{var l;let{setListWorkflow:o,setEditWorkflow:a,listOfWorkflows:n,currentWorkflows:h,scrollHeight:w}=e;const k=localStorage.getItem("accesstoken"),y={headers:{Authorization:"Bearer ".concat(k),"Content-Type":"application/json",Accept:"application/json"}},[F,D]=(0,v.useState)(!0),[O,q]=(0,v.useState)(!1),[U,H]=(0,v.useState)(!1),[T,z]=(0,v.useState)([]),[M,V]=(0,v.useState)([]),[K,Y]=(0,v.useState)([]),[Q,X]=(0,v.useState)([]),[J,G]=(0,v.useState)(""),[$,ee]=(0,v.useState)(""),[le,oe]=(0,v.useState)(""),[ae,se]=(0,v.useState)(""),[ne,te]=(0,v.useState)("Amount"),[ie,de]=(0,v.useState)(!1),[re,ce]=(0,v.useState)(""),[me,ue]=(0,v.useState)(""),[ve,xe]=(0,v.useState)([]),[he,pe]=(0,v.useState)([{id:"",from_value:"",to_value:"",approver_name:"",role:"",level:""}]),je=null===h||void 0===h?void 0:h.Partner_Id,Ne=null===h||void 0===h?void 0:h.Workflow_Name,Ze=null===h||void 0===h?void 0:h.Document_Name,fe=null===h||void 0===h?void 0:h.Field_Name,ge=null===h||void 0===h||null===(l=h.Assignworkflow_Id)||void 0===l?void 0:l.Rule_Name,_e=null===h||void 0===h?void 0:h.Noof_Level,be=null===h||void 0===h?void 0:h.Head_Approval,we=null===h||void 0===h?void 0:h.Amountjosn;(0,v.useEffect)((()=>{G(je),oe(Ne),ce(Ze),se(fe),ee(ge),ue(_e),H(be),pe(we)}),[h,je,Ne,Ze,fe,ge,_e,be,we]),(0,v.useEffect)((e=>{e?(D(!0),q(!1)):(D(!1),q(!0))}),[]);Array.from({length:100},((e,l)=>l+1));(0,v.useEffect)((()=>{A.Z.listofDropdownAllEmployees(y).then((e=>{console.log(e),z(e)})).catch((e=>{console.log(e)}))}),[]);(0,v.useEffect)((()=>{P().get("".concat(I._n,"/Erpapp/Assignworkflowfilter/?Document_Name=").concat(Ze),y).then((e=>{var l;console.log("WFNAmes",e.data),""===(null===e||void 0===e||null===(l=e.data[0])||void 0===l?void 0:l.Field_Name)?(de(!1),te("Level")):(de(!0),te("Amount"))})).catch((e=>{console.log(e)}))}),[null===h||void 0===h?void 0:h.id]);const ke=(e,l)=>{const{name:o,value:a}=e.target,s=[...he];s[l][o]="from_value"===o||"to_value"===o?Number(a):a,pe(s),console.log(s)};let ye=localStorage.getItem("Username"),Ce=localStorage.getItem("Designation");null===T||void 0===T||T.filter((e=>("Admin"===Ce||"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName)!==ye)&&!(null!==ve&&void 0!==ve&&ve.includes("".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName)))));const We=e=>{var l;const o=null===he||void 0===he||null===(l=he.map(((l,o)=>o!==e?l.approver_name:null)))||void 0===l?void 0:l.filter((e=>e&&""!==e));return null===T||void 0===T?void 0:T.filter((l=>{const a="".concat(null===l||void 0===l?void 0:l.Employee_FirstName," ").concat(null===l||void 0===l?void 0:l.Employee_LasttName);return("Admin"===Ce||a!==ye)&&(!o.includes(a)||he[e].approver_name===a)}))};return console.log("approverNameLists",ve),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(C.Z,{}),(0,R.jsx)(t.Z,{variant:"h3",sx:{fontWeight:600},children:"Workflow Approval"}),(0,R.jsx)(t.Z,{variant:"h4",sx:{fontWeight:500},children:"Users shall use this form to set up the approvers to approve various documents"}),(0,R.jsx)(W.Z,{children:(0,R.jsxs)("form",{onSubmit:e=>{e.preventDefault();var l={id:null===h||void 0===h?void 0:h.id,Workflow_Id:null===h||void 0===h?void 0:h.Workflow_Id,Workflow_Name:null===le||void 0===le?void 0:le.Workflow_Name,WorkflowName_Id:null===le||void 0===le?void 0:le.id,Workflow_Basedon:ne,Document_Name:null===re||void 0===re?void 0:re.Document_Name,Field_Name:ae,Noof_Level:me,Amountjosn:he,leveljson:he,Head_Approval:U,Partner_Id:null===J||void 0===J?void 0:J.id,Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))};P().put("".concat(I._n,"/Erpapp/WorkflowCRUD/"),l,y).then((e=>{var l;console.log(e),null!==e&&void 0!==e&&null!==(l=e.data)&&void 0!==l&&l.id&&(x.Am.success("Workflow is Updated Successfully"),a(!1),o(!0),n())})).catch((e=>{console.log(e)}))},children:[(0,R.jsxs)(W.Z,{className:"container",sx:{minHeight:"300px"},children:[(0,R.jsxs)(i.ZP,{container:!0,sx:{mt:2,ml:{sm:0,md:3}},children:[(0,R.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,R.jsxs)(t.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["Business Unit ",(0,R.jsx)("span",{className:"required",children:"*"})]}),(0,R.jsx)(W.Z,{className:"col-md-4",children:(0,R.jsx)(j.Z,{className:"search-select",name:"partnerName",onFocus:()=>{S.Z.listPartners(y).then((e=>{console.log("Partners",e),V(e)})).catch((e=>{console.log(e)}))},getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.Partner_Name?null===e||void 0===e?void 0:e.Partner_Name:"",options:M,value:J,onChange:(e,l)=>{console.log(l),G(l)},isOptionEqualToValue:(e,l)=>(null===e||void 0===e?void 0:e.Partner_Name)===l||""===l,renderInput:e=>(0,R.jsx)(N.Z,(0,p.Z)((0,p.Z)({},e),{},{placeholder:"Business Unit",variant:"outlined",autoComplete:"off"}))})})]}),(0,R.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,R.jsxs)(t.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["Document Name ",(0,R.jsx)("span",{className:"required",children:"*"})]}),(0,R.jsx)(W.Z,{className:"col-md-4",children:(0,R.jsx)(j.Z,{className:"col-12 search-select",name:"documentName",onFocus:()=>{P().get("".concat(I._n,"/Erpapp/Assignworkflowdropdwonlist/"),y).then((e=>{console.log(null===e||void 0===e?void 0:e.data),Y(null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log(e)}))},getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.Document_Name?null===e||void 0===e?void 0:e.Document_Name:"",options:K,value:re,onChange:(e,l)=>{console.log(l),ce(l),(e=>{P().get("".concat(I._n,"/Erpapp/Assignworkflowfilter/?Document_Name=").concat(e),y).then((e=>{var l,o,a,s,n,t,i;console.log("WFNAmes",e.data),oe(null===(l=e.data[0])||void 0===l?void 0:l.Workflow_Name),se(null===e||void 0===e||null===(o=e.data[0])||void 0===o?void 0:o.Field_Name),ee(null===e||void 0===e||null===(a=e.data[0])||void 0===a?void 0:a.Rule_Name),ue(null===e||void 0===e||null===(s=e.data[0])||void 0===s?void 0:s.Noof_Level),H(null===e||void 0===e||null===(n=e.data[0])||void 0===n?void 0:n.Head_Approval),""===(null===e||void 0===e||null===(t=e.data[0])||void 0===t?void 0:t.Field_Name)?(de(!1),te("Level")):(de(!0),te("Amount"));const d=null===(i=e.data[0])||void 0===i?void 0:i.Noof_Level;if(d){const e=[];for(let l=0;l<d;l++){const o={id:"",level:"Level ".concat(l+1),from_value:"",to_value:"",approver_name:"",role:""};e.push(o)}pe(e)}})).catch((e=>{console.log(e)}))})(null===l||void 0===l?void 0:l.Document_Name)},isOptionEqualToValue:(e,l)=>(null===e||void 0===e?void 0:e.Document_Name)===l||""===l,renderInput:e=>(0,R.jsx)(N.Z,(0,p.Z)((0,p.Z)({},e),{},{placeholder:"Document Name",variant:"outlined",autoComplete:"off"}))})})]}),(0,R.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,R.jsxs)(t.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["Workflow Name ",(0,R.jsx)("span",{className:"required",children:"*"})]}),(0,R.jsx)(W.Z,{className:"col-md-4",children:(0,R.jsx)(N.Z,{className:"col-12 input-box",name:"workflowName",value:le,placeholder:"Workflow Name",variant:"outlined",autoComplete:"off",disabled:!0})})]}),!0===ie&&(0,R.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,R.jsx)(t.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:"Field Name"}),(0,R.jsx)(W.Z,{className:"col-md-4",children:(0,R.jsx)(N.Z,{className:"col-12 input-box",name:"fieldName",value:ae,placeholder:"Field Name",variant:"outlined",autoComplete:"off",disabled:!0})})]}),(0,R.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,R.jsxs)(t.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["Rule Name ",(0,R.jsx)("span",{className:"required",children:"*"})]}),(0,R.jsx)(W.Z,{className:"col-md-4",children:(0,R.jsx)(N.Z,{className:"col-12 input-box",name:"ruleName",value:$,placeholder:"Rule Name",variant:"outlined",autoComplete:"off",disabled:!0})})]}),(0,R.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,R.jsxs)(t.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["No of Levels ",(0,R.jsx)("span",{className:"required",children:"*"})]}),(0,R.jsx)(W.Z,{className:"col-md-4",children:(0,R.jsx)(N.Z,{className:"col-12 input-box",name:"noOfLevels",value:me,placeholder:"No of Levels",variant:"outlined",autoComplete:"off",disabled:!0})})]})]}),(0,R.jsx)(W.Z,{sx:{mt:2,p:{xs:0,md:2}},children:(0,R.jsx)(Z.Z,{className:"input-label",checked:U,onChange:e=>H(e.target.checked),control:(0,R.jsx)(f.Z,{size:"small"}),label:"Require Department Head Approval",labelPlacement:"start"})}),(0,R.jsx)(W.Z,{sx:{mt:2},children:(0,R.jsx)(s.Z,{autoHeight:!0,autoHideTimeout:4e3,autoHeightMin:w||200,autoHide:!0,hideTracksWhenNotNeeded:!0,id:"no-more-tables",children:(0,R.jsxs)(d.Z,{className:"table table-bordered",children:[(0,R.jsx)(r.Z,{className:"table-head",children:(0,R.jsxs)(c.Z,{children:[(0,R.jsx)(m.Z,{children:"Level"}),ie&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(m.Z,{children:"From Range"}),(0,R.jsx)(m.Z,{children:"To Range"})]}),(0,R.jsx)(m.Z,{children:"Approver's Name"})]})}),(0,R.jsx)(u.Z,{children:null===he||void 0===he?void 0:he.map(((e,l)=>{let{level:o,from_value:a,to_value:s,approver_name:n}=e;return(0,R.jsxs)(c.Z,{children:[(0,R.jsx)(m.Z,{sx:{minWidth:"210px"},"data-title":"Level",children:(0,R.jsx)(N.Z,{className:"input-box col-12",placeholder:"Level",name:"level",value:"Level ".concat(l+1),autoComplete:"off",disabled:!0})}),ie&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(m.Z,{sx:{minWidth:"210px"},"data-title":"From Range",children:(0,R.jsx)(B._,{className:"input-box col-12",placeholder:"From Range",name:"from_value",value:a,onChange:(e,o)=>{ke(e,l)},autoComplete:"off"})}),(0,R.jsx)(m.Z,{sx:{minWidth:"210px"},"data-title":"To Range",children:(0,R.jsx)(B._,{className:"input-box col-12",placeholder:"To Range",name:"to_value",value:s,onChange:(e,o)=>{ke(e,l)},autoComplete:"off"})})]}),(0,R.jsx)(m.Z,{sx:{minWidth:"210px"},"data-title":"Approver Name",children:(0,R.jsx)(g.Z,{className:"col-12",children:(0,R.jsx)(j.Z,{className:"search-select col-12",name:"approver_name",getOptionLabel:e=>"string"===typeof e?e:e&&"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName)?"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName):"",options:We(l),value:n||"",onChange:(e,o)=>((e,l,o)=>{const a=[...he];if(o<0||o>=a.length)return;const s=(0,p.Z)({},a[o]),n=null===s||void 0===s?void 0:s.approver_name;s.approver_name=l?"".concat(null===l||void 0===l?void 0:l.Employee_FirstName," ").concat(null===l||void 0===l?void 0:l.Employee_LasttName):"",s.id=(null===l||void 0===l?void 0:l.id)||"",s.role=(null===l||void 0===l?void 0:l.Designation)||"",s.level="Level ".concat(o+1),a[o]=s,pe(a);let t=null===a||void 0===a?void 0:a.map((e=>null===e||void 0===e?void 0:e.approver_name)).filter((e=>e&&""!==e));const i=l?"".concat(null===l||void 0===l?void 0:l.Employee_FirstName," ").concat(null===l||void 0===l?void 0:l.Employee_LasttName):"";var d;i&&!t.includes(i)&&t.push(i),n&&n!==i&&(t=null===(d=t)||void 0===d?void 0:d.filter((e=>e!==n))),xe(t)})(0,o,l),isOptionEqualToValue:(e,l)=>"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName)===l||""===l,renderInput:e=>(0,R.jsx)(N.Z,(0,p.Z)((0,p.Z)({},e),{},{placeholder:"Approver Name",variant:"outlined",autoComplete:"off"}))})})})]},l)}))})]})})})]}),(0,R.jsxs)(W.Z,{className:"buttons",sx:{mt:5},children:[(0,R.jsxs)(_.Z,{"aria-label":"split button",type:"submit",sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,R.jsx)(b.Z,{className:"plus-button",type:"submit",children:"Update"}),(0,R.jsx)(b.Z,{variant:"contained",type:"submit",className:"icon-button",children:(0,R.jsx)(L.TvB,{size:18})})]}),(0,R.jsxs)(_.Z,{"aria-label":"split button",onClick:()=>{o(!0),a(!1),G(je),oe(Ne),ce(Ze),se(fe),ee(ge),ue(_e),H(be),pe(we)},sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,R.jsx)(b.Z,{className:"plus-button",children:"Cancel"}),(0,R.jsx)(b.Z,{variant:"contained",className:"icon-button",children:(0,R.jsx)(E.KZq,{size:24})})]})]})]})})]})};var H=o(63677),T=o(67807),z=o(27490),M=o(77573),V=o(3787),K=o(16030),Y=o(67965);const Q=e=>{let{scrollHeight:l}=e;const o=localStorage.getItem("accesstoken"),p={headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"}},j=(0,K.I0)(),{userRolePermissions:N,formPermissions:Z,modulePermissions:f}=(0,K.v9)(Y.YT),[g,_]=(0,v.useState)(!0),[b,w]=(0,v.useState)(!1),[k,y]=(0,v.useState)(!1),[C,W]=(0,v.useState)(!1),[S,F]=(0,v.useState)(""),[L,E]=(0,v.useState)(""),[A,O]=(0,v.useState)([]),[Q,X]=(0,v.useState)([]),[J,G]=(0,v.useState)(""),[$,ee]=(0,v.useState)(!1),[le,oe]=(0,v.useState)(1),[ae,se]=(0,v.useState)(0),[ne,te]=(0,v.useState)(10),[ie,de]=(0,v.useState)(le-1),re=ae,ce=Math.ceil(re/ne);(0,T.Z)("down","md");const me=()=>{ee(!0),h.Z.listWorkflows(le,p).then((e=>{console.log(null===e||void 0===e?void 0:e.count),O(null===e||void 0===e?void 0:e.results),se(null===e||void 0===e?void 0:e.count),ee(!1)})).catch((e=>{console.log(e),ee(!1)}))};(0,v.useEffect)((()=>{me()}),[O]);return(0,v.useEffect)((()=>{j((0,Y.sr)(o))}),[]),(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(a.Z,{children:[(0,R.jsxs)(n.Z,{sx:{display:!0===g?"block":"none"},children:[(0,R.jsxs)(t.Z,{variant:"h3",sx:{fontWeight:600},children:["Business Unit Workflow List - Count : ",ae||0]}),(0,R.jsx)(t.Z,{variant:"h4",sx:{fontWeight:500},children:"User shall use this form to apply the workflow to business unit for specific documents."}),(0,R.jsxs)(i.ZP,{container:!0,sx:{mt:2},children:[(0,R.jsx)(i.ZP,{item:!0,className:"filter",xs:12,md:1,lg:3,xl:5}),(0,R.jsx)(i.ZP,{item:!0,xs:12,md:5,sm:12,lg:4,xl:4,children:(0,R.jsx)(V.WS,{handleChange:e=>{var l=e.target.value;G(l),""!==l?(async e=>{await P().get("".concat(I._n,"/Erpapp/workflowsearch/?search=").concat(e),p).then((e=>{var l;console.log(null===e||void 0===e?void 0:e.data),O(null===e||void 0===e?void 0:e.data),se(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.length)})).catch((e=>{console.log("ds",e)}))})(l):me()},searchData:J})}),(0,R.jsx)(i.ZP,{item:!0,xs:12,md:6,sm:12,lg:5,xl:3,sx:{display:"flex",justifyContent:"flex-end",mt:{xs:1,md:0}},children:Array.isArray(N)&&N.includes(217)&&(0,R.jsx)(V.pO,{handleClick:()=>{_(!1),w(!0)},name:"Create Workflow"})})]}),(0,R.jsx)(n.Z,{sx:{mt:1},children:(0,R.jsxs)(v.Fragment,{children:[(0,R.jsx)(s.Z,{autoHeight:!0,autoHideTimeout:4e3,autoHeightMin:l||360,autoHide:!0,hideTracksWhenNotNeeded:!0,id:"no-more-tables",children:(0,R.jsxs)(d.Z,{stickyHeader:!0,className:"table",children:[(0,R.jsx)(r.Z,{className:"table-head",children:(0,R.jsxs)(c.Z,{children:[(0,R.jsx)(m.Z,{children:"Date"}),(0,R.jsx)(m.Z,{children:"Business Unit"}),(0,R.jsx)(m.Z,{children:"Workflow Name"}),(0,R.jsx)(m.Z,{sx:{minWidth:"200px !important"},children:"Workflow Based On"}),(0,R.jsx)(m.Z,{sx:{minWidth:"200px !important"},children:"Document Name"}),(0,R.jsx)(m.Z,{children:"No Of Levels"}),(0,R.jsx)(m.Z,{children:"Action"})]})}),(0,R.jsx)(u.Z,{children:$?(0,R.jsx)(B.tv,{headCount:7,rowCount:10}):(null===A||void 0===A?void 0:A.length)>0?null===A||void 0===A?void 0:A.map((e=>{var l;return(0,R.jsxs)(c.Z,{hover:!0,sx:{fontSize:14},children:[(0,R.jsx)(m.Z,{"data-title":"Date",children:(0,R.jsx)(D.CN,{date:null===e||void 0===e?void 0:e.Created_Date})}),(0,R.jsx)(m.Z,{"data-title":"Business Unit",children:null===e||void 0===e||null===(l=e.Partner_Id)||void 0===l?void 0:l.Partner_Name}),(0,R.jsx)(m.Z,{"data-title":"Workflow Name",children:null===e||void 0===e?void 0:e.Workflow_Name}),(0,R.jsx)(m.Z,{"data-title":"Workflow Based On",children:null===e||void 0===e?void 0:e.Workflow_Basedon}),(0,R.jsx)(m.Z,{"data-title":"Document Name",children:null===e||void 0===e?void 0:e.Document_Name}),(0,R.jsx)(m.Z,{"data-title":"No Of Levels",children:null===e||void 0===e?void 0:e.Noof_Level}),(0,R.jsx)(m.Z,{"data-title":"Action",children:(0,R.jsx)(V.i8,{userRolePermissions:N,editPermissionId:218,deletePermissionId:219,onClickEdit:()=>(e=>{y(!0),_(!1),X(e)})(e),onClickDelete:()=>(e=>{W(!0),F(null===e||void 0===e?void 0:e.id),E(null===e||void 0===e?void 0:e.Workflow_Id),X(e)})(e),align:"left"})})]},null===e||void 0===e?void 0:e.id)})):(0,R.jsx)(c.Z,{children:(0,R.jsx)(m.Z,{colSpan:8,align:"center",children:"No Workflows"})})})]})}),(0,R.jsx)(n.Z,{sx:{display:"flex",flexWrap:"wrap"},children:(0,R.jsx)(z.Z,{totalPages:ce,page:le,handleChangePage:async(e,l)=>{oe(l),ee(!0);try{Boolean(J)&&Boolean((null===J||void 0===J?void 0:J.length)>0)?await P().get("".concat(I._n,"/Erpapp/workflowsearch/?search=").concat(J,"&page=").concat(l),p).then((e=>{var l;console.log(null===e||void 0===e?void 0:e.data),O(null===e||void 0===e?void 0:e.data),se(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.length)})).catch((e=>{console.log("ds",e)})):h.Z.listWorkflows(l,p).then((e=>{O(null===e||void 0===e?void 0:e.results),se(null===e||void 0===e?void 0:e.count),ee(!1)})).catch((e=>{console.log(e),ee(!1)}))}catch(o){console.log(o)}},rowsPerPageOptions:[10],rowsPerPage:ne,handleChangeRowsPerPage:e=>{const l=parseInt(e.target.value,10),o=Math.floor((le-1)*ne/l)+1;te(l),oe(o)}})})]})}),(0,R.jsx)(M.e4,{flag:C,setFlag:W,handleClick:e=>{e.preventDefault(),h.Z.deleteWorkflow(L,p).then((e=>{x.Am.success("".concat(null===Q||void 0===Q?void 0:Q.Document_Name," is Deleted Successfully")),W(!1),me()})).catch((e=>{console.log(e)}))},content:"Are you sure you want to delete the workflow",id:null===Q||void 0===Q?void 0:Q.Document_Name})]}),(0,R.jsx)(n.Z,{sx:{display:!0===b?"block":"none"},children:(0,R.jsx)(q,{setCreateWorkflow:w,setListWorkflow:_,listOfWorkflows:me,workflows:A})}),(0,R.jsx)(n.Z,{sx:{display:!0===k?"block":"none"},children:(0,R.jsx)(U,{setEditWorkflow:y,setListWorkflow:_,listOfWorkflows:me,currentWorkflows:Q})}),(0,R.jsx)(H.Z,{Scrollheight:180})]})})}},67807:(e,l,o)=>{o.d(l,{Z:()=>n});var a=o(13967),s=o(25046);function n(e,l,o,n){const t=(0,a.Z)(),i=(0,s.Z)(t.breakpoints.up(l)),d=(0,s.Z)(t.breakpoints.down(l)),r=(0,s.Z)(t.breakpoints.between(o,n)),c=(0,s.Z)(t.breakpoints.only(l));return"up"===e?i:"down"===e?d:"between"===e?r:"only"===e?c:null}},27490:(e,l,o)=>{o.d(l,{Z:()=>c});var a=o(45820),s=o(61889),n=o(57246),t=o(67807),i=o(72791),d=o(80184);const r=e=>{let{totalPages:l,page:o=1,handleChangePage:i=(()=>{}),rowsPerPageOptions:r,rowsPerPage:c,handleChangeRowsPerPage:m=(()=>{})}=e,u=(0,t.Z)("down","md"),v=(0,t.Z)("down","lg");const{sidebarOptions:x,setSidebarOptions:h}=(0,a.bV)();return console.log("sidebarOptions from pagination",null===x||void 0===x?void 0:x.open),(0,d.jsxs)(s.ZP,{container:!0,spacing:1,sx:{mt:2,display:"flex",alignItems:"center"},children:[(0,d.jsx)(s.ZP,{item:!0,xs:12,md:0,lg:null!==x&&void 0!==x&&x.open?1.5:3,xl:4.5}),(0,d.jsx)(s.ZP,{item:!0,xs:12,md:null!==x&&void 0!==x&&x.open?5:4,lg:(null!==x&&void 0!==x&&x.open,4),xl:3.5,sx:{display:"flex",justifyContent:{xs:"center",md:"flex-end"},alignItems:"center",gap:"10px !important"}}),(0,d.jsx)(s.ZP,{item:!0,xs:12,md:null!==x&&void 0!==x&&x.open?7:8,lg:null!==x&&void 0!==x&&x.open?6.5:5,xl:4,sx:{display:"flex",justifyContent:{xs:"center",md:"flex-end"},alignItems:"center",gap:"10px !important"},children:(0,d.jsx)(n.Z,{color:"primary",count:l,page:o,onChange:(e,l)=>i(e,l),variant:"outlined",shape:"rounded",showFirstButton:!Boolean(u||v)||!Boolean((null===x||void 0===x?void 0:x.open)||u),showLastButton:!Boolean(u||v)||!Boolean((null===x||void 0===x?void 0:x.open)||u),siblingCount:0})})]})},c=(0,i.memo)(r)},77573:(e,l,o)=>{o.d(l,{cF:()=>_,e4:()=>f,rJ:()=>g});var a=o(89484),s=o(66934),n=o(5289),t=o(13400),i=o(20890),d=o(13967),r=o(25046),c=o(39157),m=o(97123),u=o(10094),v=o(65523),x=(o(72791),o(16856)),h=o(36036),p=o(80184);const j=(0,s.ZP)(n.Z)((e=>{let{theme:l}=e;return{"& .MuiDialog-paper":{borderRadius:5,backgroundColor:l.palette.background.default,border:"1px solid ".concat(l.palette.divider)}}})),N=(0,s.ZP)(t.Z)((e=>{let{theme:l}=e;return{color:l.palette.error.main,"&:hover":{backgroundColor:l.palette.error.light,color:l.palette.background.default}}})),Z=(0,s.ZP)(i.Z)((e=>{let{theme:l}=e;return{padding:l.spacing(.5),textAlign:"left",borderRadius:l.shape.borderRadius}})),f=e=>{let{flag:l,setFlag:o,handleClick:s,content:n,id:t,isMobile:N}=e;const Z=(0,d.Z)(),f=(0,r.Z)(Z.breakpoints.down("md"));return(0,p.jsxs)(j,{open:l,maxWidth:window.innerWidth<=600?"xs":(window.innerWidth<=768||window.innerWidth,"sm"),fullWidth:!0,onClose:()=>o(!1),children:[(0,p.jsx)(c.Z,{children:(0,p.jsxs)(i.Z,{variant:"h3",children:[n,(0,p.jsx)("span",{children:"\xa0"}),(0,p.jsxs)("span",{style:{fontWeight:700},children:[" ",'"',t,'" ?']})]})}),(0,p.jsx)(m.Z,{children:N||(f?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{variant:"contained",color:"error",endIcon:(0,p.jsx)(x.ZkW,{}),onClick:s,children:"Delete"}),(0,p.jsx)(u.Z,{variant:"contained",endIcon:(0,p.jsx)(h.KZq,{}),onClick:()=>o(!1),children:"Cancel"})]}):(0,p.jsxs)(a.Z,{className:"buttons",children:[(0,p.jsxs)(v.Z,{"aria-label":"split button",onClick:s,sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,p.jsx)(u.Z,{className:"plus-button",children:"Delete"}),(0,p.jsx)(u.Z,{variant:"contained",className:"icon-button",children:(0,p.jsx)(x.ZkW,{size:18})})]}),(0,p.jsxs)(v.Z,{"aria-label":"split button",onClick:()=>o(!1),sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,p.jsx)(u.Z,{className:"plus-button",children:"Cancel"}),(0,p.jsx)(u.Z,{variant:"contained",className:"icon-button",children:(0,p.jsx)(h.KZq,{size:22})})]})]}))})]})},g=e=>{let{flag:l,setFlag:o,handleClick:s,content:t,isMobile:d}=e;return(0,p.jsxs)(n.Z,{open:l,maxWidth:"sm",fullWidth:!0,children:[(0,p.jsxs)(c.Z,{children:[(0,p.jsx)(i.Z,{variant:"h4",children:t}),(0,p.jsx)("br",{}),(0,p.jsx)(i.Z,{variant:"h4",children:"Do you want still to continue..."})]}),(0,p.jsx)(m.Z,{children:d?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{variant:"contained",color:"error",endIcon:(0,p.jsx)(x.HhX,{}),onClick:()=>o(!1),children:"Yes"}),(0,p.jsx)(u.Z,{variant:"contained",endIcon:(0,p.jsx)(x.lUB,{}),onClick:s,children:"No"})]}):(0,p.jsxs)(a.Z,{className:"buttons",children:[(0,p.jsxs)(v.Z,{"aria-label":"split button",onClick:()=>o(!1),sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,p.jsx)(u.Z,{className:"plus-button",children:"Yes"}),(0,p.jsx)(u.Z,{variant:"contained",className:"icon-button",children:(0,p.jsx)(x.HhX,{size:16})})]}),(0,p.jsxs)(v.Z,{"aria-label":"split button",onClick:s,sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,p.jsx)(u.Z,{className:"plus-button",children:"No"}),(0,p.jsx)(u.Z,{variant:"contained",className:"icon-button",children:(0,p.jsx)(x.lUB,{size:16})})]})]})})]})},_=e=>{let{flag:l,setFlag:o,isMobile:s}=e;return(0,p.jsx)(j,{open:l,maxWidth:"xs",children:(0,p.jsxs)(c.Z,{children:[(0,p.jsxs)(a.Z,{sx:{p:0,m:0,mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,p.jsx)(Z,{variant:"h3",children:"Alert"}),(0,p.jsx)(N,{onClick:()=>o(!1),sx:{p:.3},children:(0,p.jsx)(x.FU5,{size:22})})]}),(0,p.jsx)(i.Z,{variant:"h4",sx:{color:"text.secondary"},children:"You don't have the permission to view this page."})]})})}},90046:()=>{}}]);
//# sourceMappingURL=3.1821fc85.chunk.js.map