"use strict";(self.webpackChunkjumbo_react_6_x=self.webpackChunkjumbo_react_6_x||[]).push([[577],{29067:(e,r,s)=>{s.d(r,{Z:()=>n});s(72791);var a=s(20890),i=s(89484),t=(s(90046),s(80184));const n=()=>(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(i.Z,{children:(0,t.jsx)(a.Z,{variant:"h1",sx:{fontWeight:800,mt:-2},children:"Settings"})})})},87577:(e,r,s)=>{s.r(r),s.d(r,{default:()=>w});var a=s(1413),i=(s(50225),s(46170)),t=(s(94819),s(20890)),n=s(697),o=s(64280),l=s(68096),c=s(40131),d=s(10094),u=s(5289),m=s(39157),p=s(61889),h=s(97123),x=s(72791),Z=s(29067),N=s(52510),j=s(74569),v=s.n(j),q=s(20560),g=s(61134),f=s(44695),y=s(26479),_=s(75985),b=s(80184);const C=[{id:0,name:"Rule Based"},{id:1,name:"Level Based"}],R=[{id:0,name:"Create"},{id:1,name:"Create/Edit"},{id:2,name:"Delete"}],w=e=>{var r,s,j,w,k,I;let{scrollHeight:S}=e;const W=localStorage.getItem("accesstoken"),[D,O]=("Bearer ".concat(W),(0,x.useState)()),[A,E]=(0,x.useState)(!1),[B,L]=(0,x.useState)(""),[P,U]=(0,x.useState)(""),[z,T]=(0,x.useState)(""),[F,M]=(0,x.useState)(""),[V,H]=(0,x.useState)(null),[X,G]=(0,x.useState)(""),J=Array.from({length:100},((e,r)=>r+1)),[K,Q]=(0,x.useState)([]),{register:Y,handleSubmit:$,formState:{errors:ee}}=(0,g.cI)({mode:"onBlur",resolver:(0,f.X)(y.NC)}),re=()=>{v().get("".concat(q._n,"/Erpapp/WorkflowRulelist/"),{headers:{Authorization:"Bearer ".concat(W),"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{console.log(e),Q(e.data.results)}))};(0,x.useEffect)((()=>{re()}),[]);const{reset:se,register:ae,handleSubmit:ie,formState:{errors:te}}=(0,g.cI)({mode:"onBlur",resolver:(0,f.X)(y.AR)});return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(i.Z,{children:[(0,b.jsx)(Z.Z,{}),(0,b.jsx)(t.Z,{variant:"h3",sx:{fontWeight:600},children:"Workflow"}),(0,b.jsx)(t.Z,{variant:"h4",sx:{fontWeight:500},children:"Users shall use this form to set up the approvers to approve various documents"}),(0,b.jsx)(x.Fragment,{children:(0,b.jsxs)("form",{onSubmit:e=>{e.preventDefault();var r={Partner_Id:1,WorkflowRule_Id:z.id,Rule_Name:z.Rule_Name,Workflow_Name:B,Workflow_Basedon:P,Noof_Level:X,Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))};v().post("".concat(q._n,"/Erpapp/WorkflowNameCRUD/"),r,{headers:{Authorization:"Bearer ".concat(W),"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{console.log(e),_.Am.success("Created Successfully")}))},children:[(0,b.jsxs)(N.Z,{sx:{mt:3,ml:15,width:"800px",minHeight:"350px"},children:[(0,b.jsx)(n.Z,{children:(0,b.jsxs)(N.Z,{className:"row",children:[(0,b.jsx)(N.Z,{className:"input-label col-md-4",sx:{pl:3,fontWeight:600},children:"Workflow Name"}),(0,b.jsxs)(N.Z,{className:"col-md-7",children:[(0,b.jsx)(o.Z,(0,a.Z)((0,a.Z)({className:"input-box col-12",variant:"outlined"},ae("workflowName")),{},{value:B,onChange:e=>L(e.target.value),placeholder:"Workflow Name"})),(0,b.jsx)(N.Z,{style:{color:"red"},children:null===(r=te.workflowName)||void 0===r?void 0:r.message})]})]})}),(0,b.jsx)("br",{}),(0,b.jsx)(n.Z,{children:(0,b.jsxs)(N.Z,{className:"row",children:[(0,b.jsx)(N.Z,{className:"input-label col-md-4",sx:{pl:3,fontWeight:600},children:"Workflow Based On"}),(0,b.jsx)(N.Z,{className:"col-md-7",children:(0,b.jsxs)(l.Z,{className:"col-md-12",children:[(0,b.jsx)(c.Z,{className:"search-select",value:C.find((e=>e.name===P)),onChange:e=>U(e.target.value),getOptionLabel:e=>e.name,options:C,renderInput:e=>(0,b.jsx)(o.Z,(0,a.Z)((0,a.Z)((0,a.Z)({},e),ae("basedOnWorkflow")),{},{placeholder:"Workflow Based On"}))}),(0,b.jsx)(N.Z,{style:{color:"red"},children:null===(s=te.basedOnWorkflow)||void 0===s?void 0:s.message})]})})]})}),(0,b.jsx)("br",{}),(0,b.jsxs)(n.Z,{children:[(0,b.jsxs)(N.Z,{className:"row",children:[(0,b.jsx)(N.Z,{className:"input-label col-md-4",sx:{pl:3,fontWeight:600},children:"Rule Name"}),(0,b.jsx)(N.Z,{className:"col-md-7",children:(0,b.jsxs)(l.Z,{className:"col-md-12",children:[(0,b.jsx)(c.Z,{className:"search-select",getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.Rule_Name&&(null===e||void 0===e?void 0:e.Rule_Name)||"",options:K,value:K.find((e=>(null===e||void 0===e?void 0:e.Rule_Name)===z)),onChange:(e,r)=>{T(r)},isOptionEqualToValue:(e,r)=>(null===e||void 0===e?void 0:e.Rule_Name)===r||""===r,renderInput:e=>(0,b.jsx)(o.Z,(0,a.Z)((0,a.Z)((0,a.Z)({},e),ae("ruleName")),{},{placeholder:"Rule Name"}))}),(0,b.jsx)(N.Z,{style:{color:"red"},children:null===(j=te.ruleName)||void 0===j?void 0:j.message})]})}),(0,b.jsx)(N.Z,{className:"col-md-1",children:(0,b.jsx)(d.Z,{className:"save-button col-md-12",onClick:()=>E(!0),sx:{width:"130px"},children:"Add Rule"})})]}),(0,b.jsx)("br",{}),(0,b.jsxs)(N.Z,{className:"row",children:[(0,b.jsx)(N.Z,{className:"input-label col-md-4",sx:{pl:3,fontWeight:600},children:"No. of Levels"}),(0,b.jsx)(N.Z,{className:"col-md-7",children:(0,b.jsxs)(l.Z,{className:"col-md-12",children:[(0,b.jsx)(c.Z,{className:"search-select",name:"noOfLevels",getOptionLabel:e=>"number"===typeof e?e.toString():e&&e?e:0,options:J,value:J.find((e=>e===X)),onChange:(e,r)=>{console.log(r),G(r)},isOptionEqualToValue:(e,r)=>e===r||0===r,renderInput:e=>(0,b.jsx)(o.Z,(0,a.Z)((0,a.Z)((0,a.Z)({},e),ae("noOfLevels")),{},{placeholder:"No of Levels",variant:"outlined",autoComplete:"off"}))}),(0,b.jsx)(N.Z,{style:{color:"red"},children:null===(w=te.noOfLevels)||void 0===w?void 0:w.message})]})})]})]})]}),(0,b.jsxs)(N.Z,{sx:{mt:5,ml:1},children:[(0,b.jsx)(d.Z,{type:"submit",className:"save-button",sx:{mr:3},children:"Save"}),(0,b.jsx)(d.Z,{className:"cancel-button",onClick:()=>{T(""),L(""),G(""),U("")},children:"Cancel"})]})]})}),(0,b.jsx)(u.Z,{open:A,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,b.jsx)("form",{onSubmit:e=>{e.preventDefault(),console.log("NEW");var r={Partner_Id:1,Rule_Name:F,Action:V,Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))};v().post("".concat(q._n,"/Erpapp/WorkflowRuleCRUD/"),r,{headers:{Authorization:"Bearer ".concat(W),"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{console.log(e),_.Am.success("Created Successfully"),E(!1),re()}))},children:(0,b.jsxs)("div",{children:[(0,b.jsxs)(m.Z,{children:[(0,b.jsx)(t.Z,{variant:"h3",children:"Create Rule Name "}),(0,b.jsxs)(p.ZP,{container:!0,sx:{mt:2},children:[(0,b.jsx)(p.ZP,{item:!0,xs:12,sx:{ml:2},children:(0,b.jsxs)(t.Z,{className:"col-12 input-label",children:["Rule Name ",(0,b.jsx)("span",{className:"required",children:"*"})]})}),(0,b.jsxs)(p.ZP,{item:!0,xs:12,sx:{ml:2},children:[(0,b.jsx)(o.Z,(0,a.Z)((0,a.Z)({className:"input-box col-12",name:"ruleName1"},Y("ruleName1")),{},{value:F,onChange:e=>M(e.target.value),placeholder:"Rule Name",sx:{minWidth:"280px",maxWidth:"1005px"}})),(0,b.jsx)(N.Z,{style:{color:"red"},children:null===(k=ee.ruleName1)||void 0===k?void 0:k.message})]}),(0,b.jsx)(p.ZP,{item:!0,xs:12,sx:{ml:2},children:(0,b.jsxs)(t.Z,{className:"col-12 input-label",children:["Action When ",(0,b.jsx)("span",{className:"required",children:"*"})]})}),(0,b.jsx)(p.ZP,{item:!0,xs:12,sx:{ml:2},children:(0,b.jsxs)(l.Z,{className:"col-12",children:[(0,b.jsx)(c.Z,{className:"search-select col-12 ".concat(ee.action?"is-invalid":""),name:"action",getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.name?null===e||void 0===e?void 0:e.name:"",options:R,value:R.find((e=>(null===e||void 0===e?void 0:e.name)===V)),onChange:(e,r)=>{console.log(r),H(null===r||void 0===r?void 0:r.name)},isOptionEqualToValue:(e,r)=>(null===e||void 0===e?void 0:e.id)===r.id||""===r,renderInput:e=>(0,b.jsx)(o.Z,(0,a.Z)((0,a.Z)((0,a.Z)({},e),{},{placeholder:"Action Name"},Y("action")),{},{variant:"outlined",autoComplete:"off"})),sx:{minWidth:"280px",maxWidth:"1005px"}}),(0,b.jsx)(N.Z,{style:{color:"red"},children:null===(I=ee.action)||void 0===I?void 0:I.message})]})})]})]}),(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(d.Z,{type:"submit",className:"save-button",sx:{mr:2},children:"Save"}),(0,b.jsx)(d.Z,{onClick:()=>E(!1),className:"cancel-button",autoFocus:!0,children:"Cancel"})]})]})})})]})})}},26479:(e,r,s)=>{s.d(r,{AR:()=>n,NC:()=>t,kk:()=>i});s(72791);var a=s(81724);a.Ry({entityName:a.Z_("Enter your entity name").required("Entity name is required"),entityDescription:a.Z_("Enter your entity description").required("Entity Description is required").min(10,"Entity Description must be at least 10 characters").max(240,"Entity Description must not exceed 240 characters")}),a.Ry({countryName:a.Z_().required("Country name is required"),countryDescription:a.Z_().required("Country Description is required").min(10,"Country Description must be at least 10 characters").max(240,"Country Description must not exceed 240 characters")}),a.Ry({regionName:a.Z_().required("Region name is required"),regionDescription:a.Z_().required("Region Description is required").min(10,"Region Description must be at least 10 characters").max(240,"Region Description must not exceed 240 characters")}),a.Ry({stateName:a.Z_().required("State name is required"),stateDescription:a.Z_().required("State Description is required").min(10,"State Description must be at least 10 characters").max(240,"State Description must not exceed 240 characters")}),a.Ry({cityName:a.Z_().required("City name is required"),cityDescription:a.Z_().required("City Description is required").min(10,"City Description must be at least 10 characters").max(240,"City Description must not exceed 240 characters")}),a.Ry({pincode:a.Z_("Enter the pincode").required("Enter valid pincode"),zoneName:a.Z_("Enter the zone name").required("Zone name is required")}),a.Ry({itemName:a.Z_().required("Item name is required"),uom:a.Z_().required("Uom is required"),purchaseDescription:a.Z_(),inventoryDescription:a.Z_(),purchaseAccount:a.Z_().required("Purchase account is required"),inventoryAccount:a.Z_().required("Inventory account is required")}),a.Ry({itemName:a.Z_().required("Lookup name is required")}),a.Ry({});const i=a.Ry({storeName:a.Z_().required("Store Name is required")}),t=(a.Ry({costCentreName:a.Z_().required("Cost Centre Name is required")}),a.Ry({mailId:a.Z_().required("Mail Id is required"),mailPassword:a.Z_().required("Mail Password is required").min(8,"Mail Password must be at least 8 characters")}),a.Ry({partnerName:a.Z_().required("Partner Name is required"),workflowName:a.Z_().required("Workflow Name is required"),basedOnWorkflow:a.Z_().required("Workflow Based On is required"),documentName:a.Z_().required("Document Name is required"),fieldName:a.Z_().required("Field Name is required"),noOfLevels:a.Z_().required("No of Level is required")}),a.Ry({ruleName1:a.Z_().required("Rule Name is required"),action:a.Z_().required("Action is required")})),n=a.Ry({partnerName:a.Z_().required("Partner Name is required"),workflowName:a.Z_().required("Workflow Name is required"),basedOnWorkflow:a.Z_().required("Workflow Based On is required"),ruleName:a.Z_().required("Rule Name is required"),noOfLevels:a.Z_().required("No of Level is required")})},90046:()=>{}}]);
//# sourceMappingURL=577.9bde428d.chunk.js.map