"use strict";(self.webpackChunkjumbo_react_6_x=self.webpackChunkjumbo_react_6_x||[]).push([[766],{78169:(e,t,l)=>{l.r(t),l.d(t,{DataContext:()=>Ee,default:()=>we});var o=l(1413),a=l(46170),i=l(20890),s=l(697),n=l(43896),d=l(79836),c=l(56890),r=l(35855),u=l(53994),m=l(53382),x=l(85523),v=l(19055),p=l(20068),h=l(13400),g=l(5289),j=l(39157),Z=l(61889),N=l(64280),y=l(97123),_=l(65523),C=l(10094),S=l(68096),f=l(40131),I=l(72791),b=l(29067),P=l(89484),U=l(83449),D=l(15060),E=l(37463),w=l(74569),A=l.n(w),B=l(75985),O=l(20560),k=l(94819),R=l(56355),q=l(36036),z=l(3787),T=l(80184);const L=e=>{const{name1:t,name3:l,name4:a,cities:s,zones:n,getId4:p,getId6:h,setGetId6:y,setName6:b,getZoneDatas:U,getId5:D,name5:E,checkId7:w,setCheckId7:L,userRolePermissions:W,currentData:H,setCurrentData:F}=(0,I.useContext)(Ee),M=localStorage.getItem("accesstoken"),V={headers:{Authorization:"Bearer ".concat(M),"Content-Type":"application/json",Accept:"application/json"}},[G,J]=(0,I.useState)([]),[K,Y]=(0,I.useState)(!1),[Q,X]=(0,I.useState)(!1),[$,ee]=(0,I.useState)({City_Name:a}),[te,le]=(0,I.useState)(E),[oe,ae]=(0,I.useState)([]),[ie,se]=(0,I.useState)(),[ne,de]=(0,I.useState)(""),[ce,re]=(0,I.useState)(p),[ue,me]=(0,I.useState)({});(0,I.useEffect)((()=>{(async()=>{await A().get("".concat(O._n,"/Erpapp/citywisepartner/?BusinessUnit_City=").concat(null===$||void 0===$?void 0:$.City_Name),V).then((e=>{console.log("Partner Response",null===e||void 0===e?void 0:e.data);const t=null===e||void 0===e?void 0:e.data;J(t)})).catch((e=>{console.log(e)}))})()}),[$]);return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(P.Z,{children:[(0,T.jsxs)(P.Z,{className:"card",sx:{p:2,borderRadius:0,m:0},children:[(0,T.jsx)(P.Z,{sx:{position:"absolute",right:15,display:"flex",justifyContent:"flex-end"},children:Array.isArray(W)&&W.includes(201)&&(0,T.jsx)(z.pO,{handleClick:()=>{Y(!0)},name:"Add Zone"})}),(0,T.jsx)("br",{}),(0,T.jsx)(P.Z,{sx:{mt:{lg:3,md:5,xs:5},minHeight:"300px"},children:(0,T.jsx)(k.Z,{autoHeight:!0,autoHideTimeout:4e3,autoHeightMin:e||300,autoHide:!0,hideTracksWhenNotNeeded:!0,id:"no-more-tables",children:(0,T.jsxs)(d.Z,{stickyHeader:!0,className:"table table-borderless",children:[(0,T.jsx)(c.Z,{className:"table-head",children:(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Pincode"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Zone Name"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"City Name"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Action"})]})}),(0,T.jsx)(m.Z,{children:(null===n||void 0===n?void 0:n.filter((e=>(null===e||void 0===e?void 0:e.Partner_Id)===D)).length)>0?null===n||void 0===n?void 0:n.filter((e=>e.Partner_Id===D)).map((e=>(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{padding:"checkbox","data-title":"Status",children:(0,T.jsx)(x.Z,{control:(0,T.jsx)(v.Z,{color:"primary",size:"small",checked:h===(null===e||void 0===e?void 0:e.id),value:null===e||void 0===e?void 0:e.id,onChange:t=>{console.log("e.target.value",t.target.value,h),L(t.target.value),y(null===e||void 0===e?void 0:e.id),b(null===e||void 0===e?void 0:e.Zone_Name)}})})}),(0,T.jsx)(u.Z,{"data-title":"Pincode",children:null===e||void 0===e?void 0:e.Pincode}),(0,T.jsx)(u.Z,{"data-title":"Zone Name",children:null===e||void 0===e?void 0:e.Zone_Name}),(0,T.jsx)(u.Z,{"data-title":"City Name",children:a}),(0,T.jsx)(u.Z,{"data-title":"Action",children:(0,T.jsx)(z.i8,{userRolePermissions:W,editPermissionId:202,deletePermissionId:204,onClickEdit:()=>(async e=>{F(e),await A().get("".concat(O._n,"/Erpapp/ZoneDetailsCRUD/?id=").concat(null===e||void 0===e?void 0:e.id),V).then((e=>{var t,l;console.log(e.data),200===(null===e||void 0===e?void 0:e.status)?(de(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Pincode),se(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.Zone_Name),X(!0)):B.Am.error(e.message)})).catch((e=>{console.log(e)})),Y(!0)})(e),onClickDelete:()=>(async e=>{await A().delete("".concat(O._n,"/Erpapp/ZoneDetailsCRUD/?id=").concat(e),V).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data),200===(null===e||void 0===e?void 0:e.status)&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(B.Am.success("Zone deleted successfully"),U()):B.Am.error(e.message)})).catch((e=>{console.log(e),B.Am.error(e.message)}))})(null===e||void 0===e?void 0:e.id),align:"left"})})]},null===e||void 0===e?void 0:e.id))):(0,T.jsx)(r.Z,{children:(0,T.jsx)(u.Z,{colSpan:10,sx:{textAlign:"center"},children:"No Records"})})})]})})})]}),(0,T.jsx)(g.Z,{open:K,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,T.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=(()=>{let e={};return""!==ne&&null!==ne&&void 0!==ne||(e.pincode="Pin Code is required"),""!==ie&&null!==ie&&void 0!==ie||(e.zoneName="Zone Name is required"),e})();if(me(t),0===Object.keys(t).length)if(void 0!==(null===H||void 0===H?void 0:H.id)){var l=(0,o.Z)((0,o.Z)({},H),{},{Zone_Name:ie,Pincode:ne,City_Id:ce,Zone_Type_Code:6,Partner_Id:D,Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))});A().put("".concat(O._n,"/Erpapp/ZoneDetailsCRUD/"),l,V).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id&&(B.Am.success("Zone updated successfully"),U(),Y(!1))})).catch((e=>{console.log(e)}))}else{l={Zone_Name:ie,Pincode:ne,City_Id:ce,Zone_Type_Code:6,Partner_Id:D,Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))};A().post("".concat(O._n,"/Erpapp/ZoneDetailsCRUD/"),l,V).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id&&(B.Am.success("Zone created successfully"),U(),se(""),de(""),le(""),ee(""),me({}),Y(!1))})).catch((e=>{console.log(e),B.Am.error("Zone name is already exists")}))}},children:[(0,T.jsx)(j.Z,{children:(0,T.jsxs)(Z.ZP,{container:!0,children:[(0,T.jsx)(Z.ZP,{item:!0,xs:12,children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["City Name ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,children:[(0,T.jsx)(S.Z,{className:"col-12",children:(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(ue.cityName?"is-invalid":""),id:"free-solo-demo",name:"cityName",options:null===s||void 0===s?void 0:s.map((e=>e)),getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.City_Name?null===e||void 0===e?void 0:e.City_Name:"",value:null===$||void 0===$?void 0:$.City_Name,onChange:(e,t)=>{ee(t),re(null===t||void 0===t?void 0:t.id)},isOptionEqualToValue:(e,t)=>(null===e||void 0===e?void 0:e.City_Name)===t,sx:{minWidth:{xs:"100%"},maxWidth:"1005px"},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"City Name",variant:"outlined",autoComplete:"off"}))})}),(0,T.jsx)(P.Z,{style:{color:"red"},children:ue.cityName})]}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["Business Unit ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,children:(0,T.jsx)(S.Z,{className:"col-12",children:(0,T.jsx)(f.Z,{className:"search-select col-12",id:"free-solo-demo",name:"businessUnit",options:G,getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.Partner_Name?null===e||void 0===e?void 0:e.Partner_Name:"",value:te,onChange:(e,t)=>{le(t)},isOptionEqualToValue:(e,t)=>(null===e||void 0===e?void 0:e.Partner_Name)===t,sx:{minWidth:{xs:"100%"},maxWidth:"1005px"},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Business Unit",variant:"outlined",autoComplete:"off"}))})})}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["Pincode ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,md:9,children:[(0,T.jsx)(N.Z,{className:"input-box col-10 ".concat(ue.pincode?"is-invalid":""),id:"outlined-basic",placeholder:"Enter the pincode",variant:"outlined",name:"pincode",value:ne,onChange:e=>{console.log("outlined",e.target.value),de(e.target.value)},autoComplete:"off",sx:{minWidth:{xs:"100%"},maxWidth:"1005px"}}),(0,T.jsx)(P.Z,{style:{color:"red"},children:ue.pincode})]}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,md:2,sx:{ml:{md:4},mt:{xs:2,md:0}},children:(0,T.jsx)(C.Z,{className:"save-button",onClick:async()=>{try{console.log("pin",ne);const e=await A().get("".concat(O._n,"/Erpapp/PincodeCRUD/?pincode=").concat(ne),V),t=null===e||void 0===e?void 0:e.data;console.log("PincodeCRUD",null===e||void 0===e?void 0:e.data);const l=e=>{var t;let l=null===e||void 0===e?void 0:e.toLowerCase().replace(/\s/g,"");return l=null===(t=l)||void 0===t?void 0:t.normalize("NFD").replace(/[\u0300-\u036f]/g,""),l},o=null===t||void 0===t?void 0:t.some((e=>l(null===e||void 0===e?void 0:e.cityname)===l(null===$||void 0===$?void 0:$.City_Name)));console.log("isValidPincode",o,t),(null===t||void 0===t?void 0:t.length)>0?(B.Am.success("Pincode is valid"),ae(t),U(),X(!0)):(B.Am.error("The provided pincode doesn't exist in the city."),ae([]))}catch(e){console.error(e),se(""),ee(""),le(""),de(""),me({}),B.Am.error("Please enter a valid pincode")}},children:"Check"})}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["Zone Name ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,children:[(0,T.jsx)(S.Z,{className:"col-12",children:(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(ue.zoneName?"is-invalid":""),id:"free-solo-demo",name:"zoneName",options:null===oe||void 0===oe?void 0:oe.map((e=>e)),getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.Zonename?null===e||void 0===e?void 0:e.Zonename:"",value:ie,onChange:(e,t)=>{se(null===t||void 0===t?void 0:t.Zonename)},isOptionEqualToValue:(e,t)=>(null===e||void 0===e?void 0:e.Zonename)===t,sx:{minWidth:{xs:"100%"},maxWidth:"1005px"},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Enter the zone name",variant:"outlined",autoComplete:"off"}))})}),(0,T.jsx)(P.Z,{style:{color:"red"},children:ue.zoneName})]})]})}),(0,T.jsxs)(P.Z,{className:"buttons",sx:{mt:5,mb:3,display:"flex",justifyContent:"center"},children:[(0,T.jsxs)(_.Z,{"aria-label":"split button",type:"submit",color:"primary",disabled:!Q,sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,T.jsx)(C.Z,{type:"submit",className:"plus-button",sx:{width:{md:"99px !important"}},children:void 0!==(null===H||void 0===H?void 0:H.id)?"Update":"Save"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(R.TvB,{size:18})})]}),(0,T.jsxs)(_.Z,{"aria-label":"split button",onClick:()=>{Y(!1),se(""),de(""),me({})},sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,T.jsx)(C.Z,{className:"plus-button",sx:{width:{md:"99px !important"}},children:"Cancel"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(q.KZq,{size:20})})]})]})]})})]})})};var W=l(10375);const H=e=>{var t;const{entities:l,countries:a,regions:s,states:n,cities:p,id:h,id1:b,id2:U,id3:D,name:E,name1:w,name2:L,name3:H,setName4:F,checkId5:M,setCheckId5:V,getId:G,getId1:J,getId2:K,getId3:Y,setGetId4:Q,getCityDatas:X,getStates:$,userRolePermissions:ee,currentData:te,setCurrentData:le}=(0,I.useContext)(Ee),oe=localStorage.getItem("accesstoken"),ae={headers:{Authorization:"Bearer ".concat(oe),"Content-Type":"application/json",Accept:"application/json"}},[ie,se]=I.useState(!1),[ne,de]=(0,I.useState)({id:G,Entity_Name:E}),[ce,re]=(0,I.useState)({id:J,Country_Name:w}),[ue,me]=(0,I.useState)({id:K,Region_Name:L}),[xe,ve]=(0,I.useState)({id:Y,State_Name:H}),[pe,he]=(0,I.useState)(),[ge,je]=(0,I.useState)(""),[Ze,Ne]=(0,I.useState)(""),[ye,_e]=(0,I.useState)({}),[Ce,Se]=(0,I.useState)([]),fe=()=>{var e={country:null===ce||void 0===ce?void 0:ce.Country_Name,state:null===xe||void 0===xe?void 0:xe.State_Name};A().post("https://countriesnow.space/api/v0.1/countries/state/cities",e,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data);var l=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data,o=null===l||void 0===l?void 0:l.map((e=>{const t=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return"Naini Tal"===t?t.replace(" ",""):t}));Se(o)})).catch((e=>{console.log("ds",e)}))};(0,I.useEffect)((()=>{var e;const t=null===p||void 0===p||null===(e=p.filter(((e,t)=>t+1===(null===p||void 0===p?void 0:p.length)))[0])||void 0===e?void 0:e.City_Id,l=(parseInt(t,10)+1).toString().padStart(null===t||void 0===t?void 0:t.length,"0");console.log("data",l),he(l)}),[ge]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(P.Z,{className:"card",sx:{p:2,borderRadius:0,m:0},children:[(0,T.jsx)(P.Z,{sx:{position:"absolute",right:15,display:"flex",justifyContent:"flex-end"},children:Array.isArray(ee)&&ee.includes(69)&&(0,T.jsx)(z.pO,{handleClick:()=>{se(!0)},name:"Add City"})}),(0,T.jsx)("br",{}),(0,T.jsx)(P.Z,{sx:{mt:{lg:3,md:5,xs:5},minHeight:"300px"},children:(0,T.jsx)(k.Z,{autoHeight:!0,autoHideTimeout:4e3,autoHeightMin:e||300,autoHide:!0,hideTracksWhenNotNeeded:!0,id:"no-more-tables",children:(0,T.jsxs)(d.Z,{stickyHeader:!0,className:"table table-borderless",children:[(0,T.jsx)(c.Z,{className:"table-head",children:(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Code"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Name"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Description"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Action"})]})}),(0,T.jsx)(m.Z,{children:null===p||void 0===p?void 0:p.map((e=>(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{padding:"checkbox","data-title":"Status",children:(0,T.jsx)(x.Z,{control:(0,T.jsx)(v.Z,{color:"primary",size:"small",checked:M===(null===e||void 0===e?void 0:e.City_Id),value:null===e||void 0===e?void 0:e.City_Id,onChange:t=>{V(t.target.value),Q(null===e||void 0===e?void 0:e.id),F(null===e||void 0===e?void 0:e.City_Name)}})})}),(0,T.jsxs)(u.Z,{"data-title":"Code",children:[h,b,U,D,null===e||void 0===e?void 0:e.City_Id]}),(0,T.jsx)(u.Z,{"data-title":"Name",children:null===e||void 0===e?void 0:e.City_Name}),(0,T.jsx)(u.Z,{"data-title":"Description",children:null===e||void 0===e?void 0:e.City_Description}),(0,T.jsx)(u.Z,{"data-title":"Action",children:(0,T.jsx)(z.i8,{userRolePermissions:ee,editPermissionId:70,deletePermissionId:72,onClickEdit:()=>(async e=>{le(e),se(!0),await A().get("".concat(O._n,"/Erpapp/CityDetailsCRUD/?id=").concat(null===e||void 0===e?void 0:e.id),ae).then((e=>{var t,l;console.log(null===e||void 0===e?void 0:e.data),200===(null===e||void 0===e?void 0:e.status)&&(je(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.City_Name),Ne(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.City_Description))})).catch((e=>{console.log(e)}))})(e),onClickDelete:()=>(async e=>{await A().delete("".concat(O._n,"/Erpapp/CityDetailsCRUD/?id=").concat(e),ae).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data),200===(null===e||void 0===e?void 0:e.status)&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(B.Am.success("City deleted successfully"),X()):B.Am.error(e.message)})).catch((e=>{console.log(e),B.Am.error(e.message)}))})(null===e||void 0===e?void 0:e.id),align:"left"})})]})))})]})})})]}),(0,T.jsx)(g.Z,{open:ie,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,T.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=(()=>{let e={};return""!==ge&&null!==ge&&void 0!==ge||(e.cityName="City Name is required"),""!==Ze&&null!==Ze&&void 0!==Ze||(e.cityDescription="City Description is required"),e})();if(_e(t),0===Object.keys(t).length)if(void 0!==(null===te||void 0===te?void 0:te.id)){var l=(0,o.Z)((0,o.Z)({},te),{},{Entity_Id:parseInt(null===ne||void 0===ne?void 0:ne.id),Country_Id:parseInt(null===ce||void 0===ce?void 0:ce.id),Region_Id:parseInt(null===ue||void 0===ue?void 0:ue.id),State_Id:parseInt(null===xe||void 0===xe?void 0:xe.id),City_Name:ge,City_Description:Ze,City_Type_Code:parseInt("".concat(h).concat(b).concat(U).concat(D)),Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))});A().put("".concat(O._n,"/Erpapp/CityDetailsCRUD/"),l,ae).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(B.Am.success("City updated successfully"),se(!1),X()):B.Am.error(e.message)})).catch((e=>{console.log(e),(0,W.S)(e)}))}else{l={Entity_Id:parseInt(null===ne||void 0===ne?void 0:ne.id),Country_Id:parseInt(null===ce||void 0===ce?void 0:ce.id),Region_Id:parseInt(null===ue||void 0===ue?void 0:ue.id),State_Id:parseInt(null===xe||void 0===xe?void 0:xe.id),City_Name:ge,City_Description:Ze,City_Type_Code:parseInt("".concat(h).concat(b).concat(U).concat(D)),Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))};A().post("".concat(O._n,"/Erpapp/CityDetailsCRUD/"),l,ae).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data),201===(null===e||void 0===e?void 0:e.status)&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(B.Am.success("City created successfully"),se(!1),X(),je(""),Ne(""),_e({})):B.Am.error(e.message)})).catch((e=>{console.log(e),(0,W.S)(e)}))}},children:[(0,T.jsx)(j.Z,{children:(0,T.jsxs)(Z.ZP,{container:!0,children:[(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["Entity Name ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(ye.entityName?"is-invalid":""),id:"free-solo-demo",placeholder:"Entity Name",variant:"outlined",options:l,getOptionLabel:e=>null===e||void 0===e?void 0:e.Entity_Name,value:null===l||void 0===l?void 0:l.find((e=>(null===e||void 0===e?void 0:e.Entity_Name)===(null===ne||void 0===ne?void 0:ne.Entity_Name))),onChange:(e,t)=>de(t),sx:{minWidth:{xs:"100%"},maxWidth:"1005px"},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Entity Name",variant:"outlined",autoComplete:"off"}))}),(0,T.jsx)(P.Z,{style:{color:"red"},children:ye.entityName})]}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["Country Name ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(ye.countryName?"is-invalid":""),id:"free-solo-demo",placeholder:"Country Name",variant:"outlined",options:a,getOptionLabel:e=>null===e||void 0===e?void 0:e.Country_Name,value:null===a||void 0===a?void 0:a.find((e=>(null===e||void 0===e?void 0:e.Country_Name)===(null===ce||void 0===ce?void 0:ce.Country_Name))),onChange:(e,t)=>{re(t)},onFocus:()=>$(),sx:{minWidth:{xs:"100%"},maxWidth:"1005px",fontSize:"14px"},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Country Name",variant:"outlined",autoComplete:"off"}))}),(0,T.jsx)(P.Z,{style:{color:"red"},children:ye.countryName})]}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["Region Name ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(ye.regionName?"is-invalid":""),id:"free-solo-demo",placeholder:"Region Name",options:null===s||void 0===s?void 0:s.map((e=>e)),getOptionLabel:e=>null===e||void 0===e?void 0:e.Region_Name,value:null===s||void 0===s?void 0:s.find((e=>(null===e||void 0===e?void 0:e.Region_Name)===(null===ue||void 0===ue?void 0:ue.Region_Name))),onChange:(e,t)=>{me(t)},autoComplete:"off",sx:{minWidth:{xs:"100%"},maxWidth:"1005px"},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Region Name",variant:"outlined",autoComplete:"off"}))}),(0,T.jsx)(P.Z,{style:{color:"red"},children:null===(t=ye.regionName)||void 0===t?void 0:t.message})]}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["State Name ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(ye.stateName?"is-invalid":""),id:"free-solo-demo",placeholder:"State Name",options:null===n||void 0===n?void 0:n.map((e=>e)),getOptionLabel:e=>null===e||void 0===e?void 0:e.State_Name,value:null===n||void 0===n?void 0:n.find((e=>(null===e||void 0===e?void 0:e.State_Name)===(null===xe||void 0===xe?void 0:xe.State_Name))),onChange:(e,t)=>{ve(t)},onInputChange:()=>fe(),sx:{minWidth:{xs:"100%"},maxWidth:"1005px"},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"State Name",variant:"outlined",autoComplete:"off"}))}),(0,T.jsx)(P.Z,{style:{color:"red"},children:ye.stateName})]}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["City Name ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(S.Z,{className:"col-12",children:(0,T.jsx)(f.Z,{id:"free-solo-demo",className:"search-select col-12 ".concat(ye.cityName?"is-invalid":""),type:"search",placeholder:"Select City ",options:null===Ce||void 0===Ce?void 0:Ce.map((e=>e)),getOptionLabel:e=>e,value:ge,onChange:(e,t)=>{je(t)},onFocus:()=>fe(),autoComplete:"off",renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"City Name",variant:"outlined",autoComplete:"off"})),sx:{height:"38px",lineHeight:1,borderRadius:"3px",fontSize:"14px"}})}),(0,T.jsx)(P.Z,{style:{color:"red"},children:ye.cityName})]}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsx)(i.Z,{className:"col-12 input-label",children:"Description"})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(N.Z,{className:"multiline-box col-12 ".concat(ye.cityDescription?"is-invalid":""),id:"outlined-basic",placeholder:"Description",multiline:!0,rows:3,variant:"outlined",autoComplete:"off",value:Ze,onChange:e=>Ne(e.target.value),sx:{minWidth:{xs:"100%"},maxWidth:"1005px"}}),(0,T.jsx)(P.Z,{style:{color:"red"},children:ye.cityDescription})]})]})}),(0,T.jsx)(y.Z,{children:(0,T.jsxs)(P.Z,{className:"buttons",sx:{mt:5,mb:3,display:"flex",justifyContent:"center"},children:[(0,T.jsxs)(_.Z,{"aria-label":"split button",type:"submit",sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,T.jsx)(C.Z,{type:"submit",className:"plus-button",sx:{width:{md:"99px !important"}},children:void 0!==(null===te||void 0===te?void 0:te.id)?"Update":"Save"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(R.TvB,{size:18})})]}),(0,T.jsxs)(_.Z,{"aria-label":"split button",onClick:()=>{se(!1),je(""),Ne(""),_e({})},sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,T.jsx)(C.Z,{className:"plus-button",sx:{width:{md:"99px !important"}},children:"Cancel"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(q.KZq,{size:20})})]})]})})]})})]})},F=e=>{var t,l,a;const{entities:s,countries:n,regions:p,states:h,id:y,id1:S,id2:b,name:U,name1:D,name2:E,name3:w,name4:L,setName:H,setName1:F,setName2:M,setName3:V,setName4:G,checkId1:J,checkId2:K,checkId3:Y,checkId4:Q,checkId5:X,setCheckId1:$,setCheckId2:ee,setCheckId3:te,setCheckId4:le,setCheckId5:oe,zones:ae,getId:ie,getId1:se,getId2:ne,getId3:de,setGetId3:ce,getId4:re,setGetId4:ue,getCityDatas:me,getStateDatas:xe,getStates:ve,userRolePermissions:pe,currentData:he,setCurrentData:ge}=(0,I.useContext)(Ee),je=localStorage.getItem("accesstoken"),Ze={headers:{Authorization:"Bearer ".concat(je),"Content-Type":"application/json",Accept:"application/json"}},[Ne,ye]=(0,I.useState)(!1),[_e,Ce]=(0,I.useState)([]),[Se,fe]=(0,I.useState)({id:ie,Entity_Name:U}),[Ie,be]=(0,I.useState)({id:se,Country_Name:D}),[Pe,Ue]=(0,I.useState)({id:ne,Region_Name:E}),[De,we]=(0,I.useState)(),[Ae,Be]=(0,I.useState)(""),[Oe,ke]=(0,I.useState)(""),[Re,qe]=(0,I.useState)({}),ze=()=>{A().post("https://countriesnow.space/api/v0.1/countries/states",{country:null===Ie||void 0===Ie?void 0:Ie.Country_Name},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{var t,l;console.log(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data);var o=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data;Ce(null===o||void 0===o?void 0:o.states)})).catch((e=>{console.log("ds",e)}))};(0,I.useEffect)((()=>{xe(),ze()}),[]),(0,I.useEffect)((()=>{const e=null===h||void 0===h?void 0:h.filter(((e,t)=>t+1===(null===h||void 0===h?void 0:h.length)));if(e){var t;const l=null===(t=e[0])||void 0===t?void 0:t.State_Id,o=parseInt(l,10)+1,a=o.toString().padStart(null===l||void 0===l?void 0:l.length,"0");console.log("nextState",h,e,o,a),we(a)}}),[Ae]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(P.Z,{className:"card",sx:{p:2,minHeight:"390px",borderRadius:0,m:0},children:[(0,T.jsx)(P.Z,{sx:{position:"absolute",right:15,display:"flex",justifyContent:"flex-end"},children:Array.isArray(pe)&&pe.includes(313)&&(0,T.jsx)(z.pO,{handleClick:()=>{ye(!0)},name:"Add State"})}),(0,T.jsx)("br",{}),(0,T.jsx)(P.Z,{sx:{mt:{lg:3,md:5,xs:5}},children:(0,T.jsx)(k.Z,{autoHeight:!0,autoHideTimeout:4e3,autoHeightMin:e||300,autoHide:!0,hideTracksWhenNotNeeded:!0,id:"no-more-tables",children:(0,T.jsxs)(d.Z,{stickyHeader:!0,className:"table table-borderless",children:[(0,T.jsx)(c.Z,{className:"table-head",children:(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Code"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Name"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Description"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Action"})]})}),(0,T.jsx)(m.Z,{children:null===h||void 0===h?void 0:h.map((e=>(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{padding:"checkbox","data-title":"Status",children:(0,T.jsx)(x.Z,{control:(0,T.jsx)(v.Z,{color:"primary",size:"small",checked:Q===(null===e||void 0===e?void 0:e.State_Id),value:null===e||void 0===e?void 0:e.State_Id,onChange:t=>{le(t.target.value),ce(null===e||void 0===e?void 0:e.id),V(null===e||void 0===e?void 0:e.State_Name)}})})}),(0,T.jsxs)(u.Z,{"data-title":"Code",children:[y,S,b,null===e||void 0===e?void 0:e.State_Id]}),(0,T.jsx)(u.Z,{"data-title":"Name",children:null===e||void 0===e?void 0:e.State_Name}),(0,T.jsx)(u.Z,{"data-title":"Description",children:null===e||void 0===e?void 0:e.State_Description}),(0,T.jsx)(u.Z,{"data-title":"Action",children:(0,T.jsx)(z.i8,{userRolePermissions:pe,editPermissionId:314,deletePermissionId:316,onClickEdit:()=>(async e=>{ge(e),ye(!0),await A().get("".concat(O._n,"/Erpapp/StateDetailsCRUD/?id=").concat(null===e||void 0===e?void 0:e.id),Ze).then((e=>{var t,l;console.log(null===e||void 0===e?void 0:e.data),200===(null===e||void 0===e?void 0:e.status)&&(Be(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.State_Name),ke(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.State_Description))})).catch((e=>{console.log(e)}))})(e),onClickDelete:()=>(async e=>{await A().delete("".concat(O._n,"/Erpapp/StateDetailsCRUD/?id=").concat(e),Ze).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data),200===(null===e||void 0===e?void 0:e.status)&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(B.Am.success("State deleted successfully"),xe()):B.Am.error(e.message)})).catch((e=>{console.log(e),B.Am.error(e.message)}))})(null===e||void 0===e?void 0:e.id),align:"left"})})]})))})]})})})]}),(0,T.jsx)(g.Z,{open:Ne,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,T.jsx)("form",{onSubmit:e=>{e.preventDefault();let t=(()=>{let e={};return""!==Ae&&null!==Ae&&void 0!==Ae||(e.stateName="State Name is required"),""!==Oe&&null!==Oe&&void 0!==Oe||(e.stateDescription="State Description is required"),e})();if(qe(t),0===Object.keys(t).length)if(void 0!==(null===he||void 0===he?void 0:he.id)){var l=(0,o.Z)((0,o.Z)({},he),{},{Entity_Id:parseInt(null===Se||void 0===Se?void 0:Se.id),Country_Id:parseInt(null===Ie||void 0===Ie?void 0:Ie.id),Region_Id:parseInt(null===Pe||void 0===Pe?void 0:Pe.id),State_Name:Ae,State_Description:Oe,State_Type_Code:parseInt("".concat(y).concat(S).concat(b).concat(De)),Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))});A().put("".concat(O._n,"/Erpapp/StateDetailsCRUD/"),l,Ze).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(B.Am.success("State updated successfully"),ye(!1),xe()):B.Am.error(e.message)})).catch((e=>{console.log(e),(0,W.S)(e)}))}else{l={Entity_Id:parseInt(null===Se||void 0===Se?void 0:Se.id),Country_Id:parseInt(null===Ie||void 0===Ie?void 0:Ie.id),Region_Id:parseInt(null===Pe||void 0===Pe?void 0:Pe.id),State_Name:Ae,State_Description:Oe,State_Type_Code:parseInt("".concat(y).concat(S).concat(b).concat(De)),Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))};A().post("".concat(O._n,"/Erpapp/StateDetailsCRUD/"),l,Ze).then((e=>{var t;console.log(e.data),201===(null===e||void 0===e?void 0:e.status)&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(B.Am.success("State created successfully"),ye(!1),xe(),Be(""),ke("")):B.Am.error(e.message)})).catch((e=>{console.log(e),(0,W.S)(e)}))}},children:(0,T.jsxs)("div",{children:[(0,T.jsx)(j.Z,{children:(0,T.jsxs)(Z.ZP,{container:!0,children:[(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["Entity Name ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(Re.entityName?"is-invalid":""),id:"free-solo-demo",placeholder:"Entity Name",variant:"outlined",options:s,getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.Entity_Name?null===e||void 0===e?void 0:e.Entity_Name:"",value:null===s||void 0===s?void 0:s.find((e=>e&&null!==e&&void 0!==e&&e.Entity_Name?null===Se||void 0===Se?void 0:Se.Entity_Name:null)),onChange:(e,t)=>fe(t),isOptionEqualToValue:(e,t)=>(null===e||void 0===e?void 0:e.Entity_Name)===t,sx:{minWidth:{xs:"100%"},maxWidth:"1005px"},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Entity Name",variant:"outlined",autoComplete:"off"}))}),(0,T.jsx)(P.Z,{style:{color:"red"},children:null===(t=Re.entityName)||void 0===t?void 0:t.message})]}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["Country Name ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(Re.countryName?"is-invalid":""),id:"free-solo-demo",placeholder:"Country Name",variant:"outlined",options:n,getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.Country_Name?null===e||void 0===e?void 0:e.Country_Name:"",value:null===n||void 0===n?void 0:n.find((e=>(null===e||void 0===e?void 0:e.Country_Name)===(null===Ie||void 0===Ie?void 0:Ie.Country_Name))),onChange:(e,t)=>{be(t)},onFocus:()=>ze(),isOptionEqualToValue:(e,t)=>(null===e||void 0===e?void 0:e.Country_Name)===t,sx:{minWidth:{xs:"100%"},maxWidth:"1005px",fontSize:"14px"},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Country Name",variant:"outlined",autoComplete:"off"}))}),(0,T.jsx)(P.Z,{style:{color:"red"},children:null===(l=Re.countryName)||void 0===l?void 0:l.message})]}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["Region Name ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(Re.regionName?"is-invalid":""),id:"free-solo-demo",placeholder:"Region Name",options:null===p||void 0===p?void 0:p.map((e=>e)),getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.Region_Name?null===e||void 0===e?void 0:e.Region_Name:"",value:null===p||void 0===p?void 0:p.find((e=>(null===e||void 0===e?void 0:e.Region_Name)===(null===Pe||void 0===Pe?void 0:Pe.Region_Name))),onChange:(e,t)=>{Ue(t)},autoComplete:"off",isOptionEqualToValue:(e,t)=>(null===e||void 0===e?void 0:e.Region_Name)===t,sx:{minWidth:{xs:"100%"},maxWidth:"1005px"},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Region Name",variant:"outlined",autoComplete:"off"}))}),(0,T.jsx)(P.Z,{style:{color:"red"},children:null===(a=Re.regionName)||void 0===a?void 0:a.message})]}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["State Name ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(Re.stateName?"is-invalid":""),id:"free-solo-demo",getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.name?null===e||void 0===e?void 0:e.name:"",options:null===_e||void 0===_e?void 0:_e.map((e=>e)),value:void 0!==(null===he||void 0===he?void 0:he.id)?Ae:null===_e||void 0===_e?void 0:_e.find((e=>(null===e||void 0===e?void 0:e.name)===Ae)),onChange:(e,t)=>{Be(null===t||void 0===t?void 0:t.name)},onFocus:()=>ze(),autoComplete:"off",sx:{minWidth:{xs:"100%"},maxWidth:"1005px"},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"State Name",variant:"outlined",autoComplete:"off"}))}),(0,T.jsx)(P.Z,{style:{color:"red"},children:Re.stateName})]}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsx)(i.Z,{className:"col-12 input-label",children:"Description"})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(N.Z,{className:"multiline-box col-12 ".concat(Re.stateDescription?"is-invalid":""),id:"outlined-basic",placeholder:"Description",multiline:!0,rows:3,variant:"outlined",autoComplete:"off",value:Oe,onChange:e=>ke(e.target.value),sx:{minWidth:{xs:"100%"},maxWidth:"1005px"}}),(0,T.jsx)(P.Z,{style:{color:"red"},children:!Oe&&(0,T.jsx)("span",{style:{color:"red",fontSize:"13px"},children:null===Re||void 0===Re?void 0:Re.stateDescription})})]})]})}),(0,T.jsxs)(P.Z,{className:"buttons",sx:{mt:5,mb:3,display:"flex",justifyContent:"center"},children:[(0,T.jsxs)(_.Z,{"aria-label":"split button",type:"submit",sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,T.jsx)(C.Z,{type:"submit",className:"plus-button",sx:{width:{md:"99px !important"}},children:void 0!==(null===he||void 0===he?void 0:he.id)?"Update":"Save"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(R.TvB,{size:18})})]}),(0,T.jsxs)(_.Z,{"aria-label":"split button",onClick:()=>{ye(!1),Be(""),ke(""),qe({})},sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,T.jsx)(C.Z,{className:"plus-button",sx:{width:{md:"99px !important"}},children:"Cancel"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(q.KZq,{size:20})})]})]})]})})})]})};var M=l(63677),V=l(71715),G=l(79012),J=l(94454),K=l(57689),Y=l(63466),Q=l(59516),X=(l(18266),l(50225));const $=(0,X.Z)(u.Z)((e=>{let{theme:t}=e;return{border:"none !important"}})),ee=((0,X.Z)(d.Z)((e=>{let{theme:t}=e;return{border:"none !important"}})),(0,X.Z)(r.Z)((e=>{let{theme:t}=e;return{border:"none !important"}})),localStorage.getItem("accesstoken")),te=("Bearer ".concat(ee),{deletePreviousHistory:async(e,t)=>{const{data:l}=await A().post("".concat(O._n,"/Erpapp/updaterecorddelete/"),e,t);return l}}),le=te;l(82763);var oe=l(26550);const ae=async(e,t,l,o)=>{try{A().get("".concat(O._n,"/Erpapp/Updaterecordsfilter/?Partner_Id=").concat(t,"&Document_Id=").concat(e),o).then((t=>{var a,i;console.error("data",null===t||void 0===t?void 0:t.data);const s=null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.map((e=>null===e||void 0===e?void 0:e.id));if((null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.length)>0)le.deletePreviousHistory({id:s},o).then((t=>{console.log(t);let a=localStorage.getItem("Username");A().post("".concat(O._n,"/Erpapp/Updaterecordscrud/"),{Document_Id:e,Updated_Person:"".concat(a," created this ").concat(l,"."),Updated_Time:"".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds()),Updated_Date:(new Date).toJSON().slice(0,10),Is_Deleted:!1,Partner_Id:parseInt(localStorage.getItem("PartnerId")),Updated_By:parseInt(localStorage.getItem("UserId"))},o).then((e=>{console.log("Result",null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log(e.message)}))})).catch((e=>{console.log(e)}));else{let t=localStorage.getItem("Username");A().post("".concat(O._n,"/Erpapp/Updaterecordscrud/"),{Document_Id:e,Updated_Person:"".concat(t," created this ").concat(l,"."),Updated_Time:"".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds()),Updated_Date:(new Date).toJSON().slice(0,10),Is_Deleted:!1,Partner_Id:parseInt(localStorage.getItem("PartnerId")),Updated_By:parseInt(localStorage.getItem("UserId"))},o).then((e=>{console.log("Result",null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log(e.message)}))}})).catch((e=>{console.log("ds",e)}))}catch(a){console.log(a)}},ie=e=>{let{scrollHeight:t,setCreateMaterial:l,setListMaterial:a}=e;const{entities:s,countries:n,regions:d,states:c,cities:r,id:u,id1:m,id2:v,id3:p,name:h,name1:g,name2:j,name3:y,name4:b,setName4:U,checkId5:D,setCheckId5:E,getId:w,getId1:k,getId2:L,getId3:H,getId4:F,setGetId4:M,getCityDatas:V,getStates:K}=(0,I.useContext)(Ee),X=localStorage.getItem("accesstoken"),$={headers:{Authorization:"Bearer ".concat(X),"Content-Type":"application/json",Accept:"application/json"}};let ee=localStorage.getItem("UserDetails");ee=JSON.parse(ee);parseInt(localStorage.getItem("PartnerId"));const[te,le]=(0,I.useState)([]),[ie,se]=(0,I.useState)(""),[ne,de]=(0,I.useState)({Bussiness_Unit:"",Operated_By:"",Contact:"",Email:"",Website:"",Head_Of_Operation:"",Address_1:"",Address_2:"",City:"",State:"",Country:"",Pin_Code:"",Pan_No:"",GST_No:"",Agreement_Ref:"",Valid_Upto:"",Corporate_BU:!1,Commision_Paid:""});(0,I.useEffect)((()=>{const e=setTimeout((async()=>{await(async()=>{try{var e;const t=await A().get("".concat(O._n,"/Erpapp/Userlistwithoutpagination/"),$);console.log("oji",null===t||void 0===t?void 0:t.data),le(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.map((e=>"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name))))}catch(t){console.log(t)}})()}),1e3);return()=>clearTimeout(e)}),[]);const[ce,re]=(0,I.useState)(g),[ue,me]=(0,I.useState)(y),[xe,ve]=(0,I.useState)(b),[pe,he]=(0,I.useState)([]),[ge,je]=(0,I.useState)([]),[Ze,Ne]=(0,I.useState)([]),[ye,_e]=(0,I.useState)([]),[Ce,Se]=(0,I.useState)(k),[fe,Ie]=(0,I.useState)(H),[be,Pe]=(0,I.useState)(F);(0,I.useEffect)((()=>{A().get("https://countriesnow.space/api/v0.1/countries",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{var t,l;console.log(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data),je(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data)})).catch((e=>{console.log("ds",e)})),A().post("https://countriesnow.space/api/v0.1/countries/states",{country:ce},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{var t,l;console.log(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data);var o=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data;Ne(null===o||void 0===o?void 0:o.states)})).catch((e=>{console.log("ds",e)})),(()=>{var e={country:ce,state:ue};A().post("https://countriesnow.space/api/v0.1/countries/state/cities",e,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data);var l=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data,o=null===l||void 0===l?void 0:l.map((e=>{const t=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return"Naini Tal"===t?t.replace(" ",""):t}));_e(o)})).catch((e=>{console.log("ds",e)}))})()}),[Ce,fe,ce,ue,be]),(0,I.useEffect)((()=>{Q.Z.getUnits({Search:"Managed By"},$).then((e=>{console.log(e[0].value),he(e[0].value)})).catch((e=>{console.log(e)}))}),[]);const Ue=async e=>{if("Pin_Code"===e.target.name){const l=e.target.value;de((0,o.Z)((0,o.Z)({},ne),{},{Pin_Code:l}));try{const e=await A().get("".concat(O._n,"/Erpapp/PincodeCRUD/?pincode=").concat(l),$),t=null===e||void 0===e?void 0:e.data;(null===l||void 0===l?void 0:l.length)>5&&((null===t||void 0===t?void 0:t.length)>0?B.Am.success("Pincode is valid"):B.Am.error("The provided pincode doesn't exist in the city."))}catch(t){console.error(t),B.Am.error("Please enter a valid pincode")}}else if("Commision_Paid"===e.target.name){const t=/^(100(\.0{1,2})?|[1-9]?\d(\.\d{1,2})?)$/,l=e.target.value;t.test(l)?de((0,o.Z)((0,o.Z)({},ne),{},{Commision_Paid:l})):de((0,o.Z)((0,o.Z)({},ne),{},{Commision_Paid:""}))}else de((0,o.Z)((0,o.Z)({},ne),{},{[e.target.name]:e.target.value}))};(0,I.useEffect)((()=>{const e=(new Date).getFullYear();console.log("yearB",e);const t=new Date("".concat(e,"-01-01T").concat(null===ne||void 0===ne?void 0:ne.Ofc_Starttime)),l=new Date("".concat(e,"-01-01T").concat(null===ne||void 0===ne?void 0:ne.Ofc_Endtime)),a=Math.abs(l-t);console.log("timeDiff",a);const i=Math.floor(a/36e5),s=Math.floor(a/6e4%60);let n=0;n=null!==ne&&void 0!==ne&&ne.Ofc_Starttime&&null!==ne&&void 0!==ne&&ne.Ofc_Endtime?"".concat(i.toString().padStart(2,"0"),".").concat(s.toString().padStart(2,"0")):0,console.log("totalhours...",n),de((0,o.Z)((0,o.Z)({},ne),{},{Total_hours:n}))}),[null===ne||void 0===ne?void 0:ne.Ofc_Starttime,null===ne||void 0===ne?void 0:ne.Ofc_Endtime]);const[De,we]=(0,I.useState)(!1);return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(P.Z,{children:[(0,T.jsx)(i.Z,{variant:"h3",sx:{fontWeight:500},children:"Create Business Unit"}),(0,T.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let t={Partner_Name:null===ne||void 0===ne?void 0:ne.Bussiness_Unit,Operated_By:null===ne||void 0===ne?void 0:ne.Operated_By,HeadOf_Operation:ie,BusinessUnit_Phone:null===ne||void 0===ne?void 0:ne.Contact,BusinessUnit_EMail:null===ne||void 0===ne?void 0:ne.Email,BusinessUnit_Web:null===ne||void 0===ne?void 0:ne.Website,BusinessUnit_Addressline1:null===ne||void 0===ne?void 0:ne.Address_1,BusinessUnit_City:xe,BusinessUnit_Country:ce,BusinessUnit_State:ue,BusinessUnit_Zone:"",BusinessUnit_Pincode:null===ne||void 0===ne?void 0:ne.Pin_Code,BusinessUnit_PanNo:null===ne||void 0===ne?void 0:ne.Pan_No,BusinessUnit_GSTNo:null===ne||void 0===ne?void 0:ne.GST_No,Agreement_RefNo:null===ne||void 0===ne?void 0:ne.Agreement_Ref,Agreement_Validupto:null!==ne&&void 0!==ne&&ne.Valid_Upto?null===ne||void 0===ne?void 0:ne.Valid_Upto:"0001-01-01",Ofc_Starttime:null===ne||void 0===ne?void 0:ne.Ofc_Starttime,Ofc_Endtime:null===ne||void 0===ne?void 0:ne.Ofc_Endtime,Total_hours:null===ne||void 0===ne?void 0:ne.Total_hours,Corporate_BU:null===ne||void 0===ne?void 0:ne.Corporate_BU,Commision_Paid:(null===ne||void 0===ne?void 0:ne.Commision_Paid)||0,Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId")),Created_Date:oe.vQ,Updated_Date:oe.vQ};console.log("itempayload :",t);try{var o;const e=await A().post("".concat(O._n,"/Erpapp/PartnerCRUD/"),t,$);var i,s;if(console.log("res",e),null!==e&&void 0!==e&&null!==(o=e.data)&&void 0!==o&&o.id)de({Operated_By:"",Head_Of_Operation:" ",Contact:"",Email:"",Website:"",Address_1:"",Address_2:"",City:"",State:"",Country:"",Pin_Code:"",Pan_No:"",GST_No:"",Agreement_Ref:"",Valid_Upto:""}),se(""),B.Am.success("Business Unit Created Successfully"),l(!1),a(!0),ae(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.Partner_Id,null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.id,"Business Unit",$)}catch(n){console.log(n),(0,W.S)(n)}},children:[(0,T.jsxs)(P.Z,{className:"row",sx:{mt:3},children:[(0,T.jsx)(P.Z,{className:"col-12 col-md-6",children:(0,T.jsxs)(Z.ZP,{container:!0,children:[(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Business Unit Name ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{name:"Bussiness_Unit",value:null===ne||void 0===ne?void 0:ne.Bussiness_Unit,onChange:Ue,className:"input-box",id:"outlined-basic",placeholder:"Business Unit Name",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Head Of Operation ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(f.Z,{className:"col-12 search-select",id:"combo-box-demo",disablePortal:!0,name:"Head_Of_Operation",options:te,getOptionLabel:e=>e,onChange:(e,t)=>{se(t),console.log(t)},value:ie,renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Head Of Operation"}))})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Email Id ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{name:"Email",value:null===ne||void 0===ne?void 0:ne.Email,onChange:Ue,className:"col-12 input-box",id:"outlined-basic",placeholder:"Email Id",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Address Line 1 ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{name:"Address_1",value:null===ne||void 0===ne?void 0:ne.Address_1,onChange:Ue,className:"col-12 input-box",id:"outlined-basic",placeholder:"Address Line 1",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Country",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(f.Z,{className:"search-select col-12",name:"selectedCountry",options:ge,getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.country?null===e||void 0===e?void 0:e.country:"",value:ce,onChange:(e,t)=>{re(null===t||void 0===t?void 0:t.country),Se(null===t||void 0===t?void 0:t.id)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Choose a country",autoComplete:"off"}))})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["City",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(f.Z,{className:"search-select col-12",name:"selectedCity",options:ye,getOptionLabel:e=>"string"===typeof e||e&&e?e:"",value:xe,onChange:(e,t)=>{ve(t),Pe(null===t||void 0===t?void 0:t.id)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Choose a city",autoComplete:"off"}))})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsx)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:"PAN No"}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{name:"Pan_No",value:null===ne||void 0===ne?void 0:ne.Pan_No,onChange:Ue,className:"col-12 input-box",id:"outlined-basic",placeholder:"PAN No",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsx)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:"Agreement Ref No"}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{className:"col-12 input-box",name:"Agreement_Ref",value:null===ne||void 0===ne?void 0:ne.Agreement_Ref,onChange:Ue,placeholder:"Agreement Ref No"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Office Timing From ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{type:"time",name:"Ofc_Starttime",value:null===ne||void 0===ne?void 0:ne.Ofc_Starttime,onChange:Ue,className:"col-12 input-box",id:"outlined-basic",placeholder:"From Time",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Total Hours ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{type:"text",name:"Total_hours",value:null===ne||void 0===ne?void 0:ne.Total_hours,className:"col-12 input-box",id:"outlined-basic",placeholder:"Total Hours",variant:"outlined",disabled:!0})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsx)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:"Commision Paid"}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{type:"text",name:"Commision_Paid",value:null===ne||void 0===ne?void 0:ne.Commision_Paid,onChange:Ue,className:"col-12 input-box",id:"outlined-basic",placeholder:"Commision Paid",variant:"outlined",InputProps:{endAdornment:(0,T.jsx)(Y.Z,{position:"end",children:"%"})}})})]})]})}),(0,T.jsx)(P.Z,{className:"col-12 col-md-6",children:(0,T.jsxs)(Z.ZP,{container:!0,children:[(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Managed By ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(f.Z,{className:"search-select col-12",name:"Operated_By",options:pe,getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:"",value:null===ne||void 0===ne?void 0:ne.Operated_By,onChange:(e,t)=>{de((0,o.Z)((0,o.Z)({},ne),{},{Operated_By:null===t||void 0===t?void 0:t.value}))},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Select Managed By",autoComplete:"off"}))})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Contact No ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{className:"col-12 search-select",name:"Contact",value:null===ne||void 0===ne?void 0:ne.Contact,onChange:Ue,variant:"outlined",placeholder:"Contact No"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsx)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:"Website"}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{name:"Website",value:null===ne||void 0===ne?void 0:ne.Website,onChange:Ue,className:"col-12 input-box",id:"outlined-basic",placeholder:"Website",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Address Line 2 ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{name:"Address_2",value:null===ne||void 0===ne?void 0:ne.Address_2,onChange:Ue,className:"col-12 input-box",id:"outlined-basic",placeholder:"Address Line 2",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["State ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(f.Z,{className:"search-select col-12",name:"selectedState",options:Ze,getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.name?null===e||void 0===e?void 0:e.name:"",value:ue,onChange:(e,t)=>{me(null===t||void 0===t?void 0:t.name),Ie(null===t||void 0===t?void 0:t.id)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Choose a state",autoComplete:"off"}))})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["PIN Code ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{name:"Pin_Code",value:null===ne||void 0===ne?void 0:ne.Pin_Code,onChange:Ue,className:"col-12 input-box",id:"outlined-basic",placeholder:"PIN Code",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsx)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:"GST No"}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{name:"GST_No",value:null===ne||void 0===ne?void 0:ne.GST_No,onChange:Ue,className:"col-12 input-box",id:"outlined-basic",placeholder:"GST No",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsx)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:"Valid Upto"}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(z.O7,{id:"Valid_Upto",name:"Valid_Upto",inputValue:null===ne||void 0===ne?void 0:ne.Valid_Upto,handleInputChange:Ue,variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Office Timing To ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{type:"time",name:"Ofc_Endtime",value:null===ne||void 0===ne?void 0:ne.Ofc_Endtime,onChange:Ue,className:"col-12 input-box",id:"outlined-basic",placeholder:"To Time",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsx)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:"Corporate BU"}),(0,T.jsx)(G.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(x.Z,{control:(0,T.jsx)(J.Z,{value:null===ne||void 0===ne?void 0:ne.Corporate_BU,onChange:e=>{de((0,o.Z)((0,o.Z)({},ne),{},{Corporate_BU:e.target.checked}))}}),label:""})})]})]})})]}),(0,T.jsxs)(P.Z,{className:"buttons",sx:{mt:5,ml:1,display:"flex",justifyContent:"flex-start"},children:[(0,T.jsxs)(_.Z,{type:"submit","aria-label":"split button",sx:{mr:{sm:0,md:2}},children:[(0,T.jsx)(C.Z,{type:"submit",className:"plus-button",children:"Save"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(R.TvB,{size:18})})]}),(0,T.jsxs)(_.Z,{"aria-label":"split button",onClick:e=>{l(!1),a(!0),we(!1)},children:[(0,T.jsx)(C.Z,{className:"plus-button",children:"Cancel"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(q.KZq,{size:24})})]})]})]})]})})},se=e=>{let{setEditPartnerList:t,setListMaterial:l,currentPart:a,setcurenrtPart:s}=e;const n=localStorage.getItem("accesstoken"),d={headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"}};let c=localStorage.getItem("UserDetails");c=JSON.parse(c);const[r,u]=(0,I.useState)([]),[m,v]=(0,I.useState)([]),[p,h]=(0,I.useState)([]),[g,j]=(0,I.useState)([]),[y,b]=(0,I.useState)([]),[U,D]=(0,I.useState)(""),[E,w]=(0,I.useState)(""),[k,L]=(0,I.useState)("");I.useEffect((()=>{A().get("https://countriesnow.space/api/v0.1/countries",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{console.log(e.data.data),h(e.data.data)})).catch((e=>{console.log("ds",e)})),A().post("https://countriesnow.space/api/v0.1/countries/states",{country:Se},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{console.log(e.data.data);var t=e.data.data;j(t.states)})).catch((e=>{console.log("ds",e)})),(()=>{var e={country:Se,state:Ie};A().post("https://countriesnow.space/api/v0.1/countries/state/cities",e,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{console.log(e.data);var t=e.data.data,l=null===t||void 0===t?void 0:t.map((e=>{const t=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return"Naini Tal"===t?t.replace(" ",""):t}));b(l)})).catch((e=>{console.log("ds",e)}))})()}),[U,E,k]);const W=async()=>{try{var e;const t=await A().get("".concat(O._n,"/Erpapp/Userlistwithoutpagination/"),d);console.log("oji",null===t||void 0===t?void 0:t.data),u(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.map((e=>"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name))))}catch(t){console.log(t)}};(0,I.useEffect)((()=>{W()}),[]),(0,I.useEffect)((()=>{Q.Z.getUnits({Search:"Managed By"},d).then((e=>{console.log(e[0].value),v(e[0].value)})).catch((e=>{console.log(e)}))}),[]);console.log("OwnerNames",r);const[H,F]=(0,I.useState)(""),[M,V]=(0,I.useState)(""),[K,X]=(0,I.useState)(""),[$,ee]=(0,I.useState)(0),[te,le]=(0,I.useState)(""),[ae,ie]=(0,I.useState)(""),[se,ne]=(0,I.useState)(""),[de,ce]=(0,I.useState)(""),[re,ue]=(0,I.useState)(""),[me,xe]=(0,I.useState)(""),[ve,pe]=(0,I.useState)(""),[he,ge]=(0,I.useState)(""),[je,Ze]=(0,I.useState)(""),[Ne,ye]=(0,I.useState)(""),[_e,Ce]=(0,I.useState)(""),[Se,fe]=(0,I.useState)(""),[Ie,be]=(0,I.useState)(""),[Pe,Ue]=(0,I.useState)(""),[De,Ee]=(0,I.useState)(""),[we,Ae]=(0,I.useState)(""),[Be,Oe]=(0,I.useState)(""),[ke,Re]=(0,I.useState)(""),[qe,ze]=(0,I.useState)(!1),[Te,Le]=(0,I.useState)(""),[We,He]=(0,I.useState)(""),[Fe,Me]=(0,I.useState)(""),[Ve,Ge]=(0,I.useState)(0),[Je,Ke]=(0,I.useState)(""),[Ye,Qe]=(0,I.useState)(""),[Xe,$e]=(0,I.useState)(""),[et,tt]=(0,I.useState)(""),[lt,ot]=(0,I.useState)(""),[at,it]=(0,I.useState)(""),[st,nt]=(0,I.useState)(""),[dt,ct]=(0,I.useState)(""),[rt,ut]=(0,I.useState)(""),[mt,xt]=(0,I.useState)(""),[vt,pt]=(0,I.useState)(""),[ht,gt]=(0,I.useState)(""),[jt,Zt]=(0,I.useState)(""),[Nt,yt]=(0,I.useState)(""),[_t,Ct]=(0,I.useState)(""),[St,ft]=(0,I.useState)(""),[It,bt]=(0,I.useState)(!1);return(0,I.useEffect)((()=>{const e=setTimeout((async()=>{await(async()=>{try{var e,t,l,o,i,s,d,c,r,u,m,x,v,p,h,g,j,Z,N,y,_,C,S,f,I,b,P,U,D,E,w,B,k,R,q,z,T,L,W,H,M,G,J,K;const Y=await A().get("".concat(O._n,"/Erpapp/PartnerCRUD/?Partner_Id=").concat(null===a||void 0===a?void 0:a.Partner_Id),{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"}});ye(null===Y||void 0===Y||null===(e=Y.data)||void 0===e?void 0:e.Partner_Id),Ce(null===Y||void 0===Y||null===(t=Y.data)||void 0===t?void 0:t.id),F(null===Y||void 0===Y||null===(l=Y.data)||void 0===l?void 0:l.Partner_Name),V(null===Y||void 0===Y||null===(o=Y.data)||void 0===o?void 0:o.Operated_By),X(null===Y||void 0===Y||null===(i=Y.data)||void 0===i?void 0:i.HeadOf_Operation),ee(null===Y||void 0===Y||null===(s=Y.data)||void 0===s?void 0:s.BusinessUnit_Phone),le(null===Y||void 0===Y||null===(d=Y.data)||void 0===d?void 0:d.BusinessUnit_EMail),ie(null===Y||void 0===Y||null===(c=Y.data)||void 0===c?void 0:c.BusinessUnit_Web),ne(null===Y||void 0===Y||null===(r=Y.data)||void 0===r?void 0:r.BusinessUnit_Addressline1),ce(null===Y||void 0===Y||null===(u=Y.data)||void 0===u?void 0:u.Operated_By),Ue(null===Y||void 0===Y||null===(m=Y.data)||void 0===m?void 0:m.BusinessUnit_City),fe(null===Y||void 0===Y||null===(x=Y.data)||void 0===x?void 0:x.BusinessUnit_Country),be(null===Y||void 0===Y||null===(v=Y.data)||void 0===v?void 0:v.BusinessUnit_State),ue(null===Y||void 0===Y||null===(p=Y.data)||void 0===p?void 0:p.BusinessUnit_Pincode),xe(null===Y||void 0===Y||null===(h=Y.data)||void 0===h?void 0:h.BusinessUnit_PanNo),pe(null===Y||void 0===Y||null===(g=Y.data)||void 0===g?void 0:g.BusinessUnit_GSTNo),ge(null===Y||void 0===Y||null===(j=Y.data)||void 0===j?void 0:j.Agreement_RefNo),Ze(null===Y||void 0===Y||null===(Z=Y.data)||void 0===Z?void 0:Z.Agreement_Validupto),Ee(null===Y||void 0===Y||null===(N=Y.data)||void 0===N?void 0:N.Ofc_Starttime),Ae(null===Y||void 0===Y||null===(y=Y.data)||void 0===y?void 0:y.Ofc_Endtime),Oe(null===Y||void 0===Y||null===(_=Y.data)||void 0===_?void 0:_.Total_hours),Re(null===Y||void 0===Y||null===(C=Y.data)||void 0===C?void 0:C.Commision_Paid),ze(null===Y||void 0===Y||null===(S=Y.data)||void 0===S?void 0:S.Corporate_BU),Le(null===Y||void 0===Y||null===(f=Y.data)||void 0===f?void 0:f.Partner_Name),He(null===Y||void 0===Y||null===(I=Y.data)||void 0===I?void 0:I.Operated_By),Me(null===Y||void 0===Y||null===(b=Y.data)||void 0===b?void 0:b.HeadOf_Operation),Ge(null===Y||void 0===Y||null===(P=Y.data)||void 0===P?void 0:P.BusinessUnit_Phone),Ke(null===Y||void 0===Y||null===(U=Y.data)||void 0===U?void 0:U.BusinessUnit_EMail),Qe(null===Y||void 0===Y||null===(D=Y.data)||void 0===D?void 0:D.BusinessUnit_Web),$e(null===Y||void 0===Y||null===(E=Y.data)||void 0===E?void 0:E.BusinessUnit_Addressline1),tt(null===Y||void 0===Y||null===(w=Y.data)||void 0===w?void 0:w.Operated_By),gt(null===Y||void 0===Y||null===(B=Y.data)||void 0===B?void 0:B.BusinessUnit_City),xt(null===Y||void 0===Y||null===(k=Y.data)||void 0===k?void 0:k.BusinessUnit_Country),pt(null===Y||void 0===Y||null===(R=Y.data)||void 0===R?void 0:R.BusinessUnit_State),ot(null===Y||void 0===Y||null===(q=Y.data)||void 0===q?void 0:q.BusinessUnit_Pincode),it(null===Y||void 0===Y||null===(z=Y.data)||void 0===z?void 0:z.BusinessUnit_PanNo),nt(null===Y||void 0===Y||null===(T=Y.data)||void 0===T?void 0:T.BusinessUnit_GSTNo),ct(null===Y||void 0===Y||null===(L=Y.data)||void 0===L?void 0:L.Agreement_RefNo),ut(null===Y||void 0===Y||null===(W=Y.data)||void 0===W?void 0:W.Agreement_Validupto),Zt(null===Y||void 0===Y||null===(H=Y.data)||void 0===H?void 0:H.Ofc_Starttime),yt(null===Y||void 0===Y||null===(M=Y.data)||void 0===M?void 0:M.Ofc_Endtime),Ct(null===Y||void 0===Y||null===(G=Y.data)||void 0===G?void 0:G.Total_hours),ft(null===Y||void 0===Y||null===(J=Y.data)||void 0===J?void 0:J.Commision_Paid),bt(null===Y||void 0===Y||null===(K=Y.data)||void 0===K?void 0:K.Corporate_BU)}catch(Y){console.log(Y)}})()}),1e3);return()=>clearTimeout(e)}),[a]),(0,I.useEffect)((()=>{console.log("totalhours",De,we);const e=new Date("2024-01-01T".concat(De)),t=new Date("2024-01-01T".concat(we)),l=Math.abs(t-e);console.log("timeDiff",l);const o=Math.floor(l/36e5),a=Math.floor(l/6e4%60),i="".concat(o.toString().padStart(2,"0"),".").concat(a.toString().padStart(2,"0"));console.log("totalhours...",i),Oe(i)}),[De,we]),(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(P.Z,{children:[(0,T.jsx)(i.Z,{variant:"h3",sx:{fontWeight:500},children:"Edit Business Unit"}),(0,T.jsxs)(P.Z,{className:"row",sx:{mt:3},children:[(0,T.jsx)(P.Z,{className:"col-12 col-md-6",children:(0,T.jsxs)(Z.ZP,{container:!0,children:[(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Business Unit Name ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{name:"Bussiness_Unit",value:H,onChange:e=>F(e.target.value),className:"input-box",id:"outlined-basic",placeholder:"Business Unit Name",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Head Of Operation ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(f.Z,{className:"col-12 search-select",id:"combo-box-demo",disablePortal:!0,name:"Head_Of_Operation",options:r,getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.first_name?"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name):"",value:K,onChange:(e,t)=>{X("".concat(null===t||void 0===t?void 0:t.first_name," ").concat(null===t||void 0===t?void 0:t.last_name)),console.log(t)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Head Of Operation"}))})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Email Id ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{name:"Email",value:te,onChange:e=>le(e.target.value),className:"col-12 input-box",id:"outlined-basic",placeholder:"Mail Id",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Address Line 1 ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{name:"Address_1",value:se,onChange:e=>ne(e.target.value),className:"col-12 input-box",id:"outlined-basic",placeholder:"Address Line 1",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Country ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(f.Z,{className:"search-select col-12",name:"selectedCountry",options:p,getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.country?null===e||void 0===e?void 0:e.country:"",value:Se,onChange:(e,t)=>{fe(null===t||void 0===t?void 0:t.country),D(null===t||void 0===t?void 0:t.id)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Choose a country",autoComplete:"off"}))})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["City ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(f.Z,{className:"search-select col-12",name:"selectedState",options:y,getOptionLabel:e=>"string"===typeof e||e&&e?e:"",value:Pe,onChange:(e,t)=>{Ue(t),L(null===t||void 0===t?void 0:t.id)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Choose a city",autoComplete:"off"}))})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsx)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:"PAN No"}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{name:"Pan_No",value:me,onChange:e=>xe(e.target.value),className:"col-12 input-box",id:"outlined-basic",placeholder:"PAN No",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsx)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:"Agreement Ref No"}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{name:"Agreement_Ref",value:he,onChange:e=>ge(e.target.value),className:"col-12 input-box",id:"outlined-basic",placeholder:"Agreement Ref No",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Office Timing From  ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{type:"time",name:"startTime",value:De,onChange:e=>Ee(e.target.value),className:"col-12 input-box",id:"outlined-basic",placeholder:"From Time",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Total Hours  ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{type:"text",name:"totalHours",value:Be,className:"col-12 input-box",id:"outlined-basic",placeholder:"Total Hours",variant:"outlined",disabled:!0})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsx)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:"Commision Paid"}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{type:"text",name:"commisionPaid",value:ke,onChange:e=>{if("commisionPaid"===e.target.name){const t=/^(100(\.0{1,2})?|[1-9]?\d(\.\d{1,2})?)$/,l=e.target.value;console.log("regex.test(getValue)",t,l),t.test(l)?Re(l):Re("")}},className:"col-12 input-box",id:"outlined-basic",placeholder:"Commision Paid",variant:"outlined",InputProps:{endAdornment:(0,T.jsx)(Y.Z,{position:"end",children:"%"})}})})]})]})}),(0,T.jsx)(P.Z,{className:"col-12 col-md-6",children:(0,T.jsxs)(Z.ZP,{container:!0,children:[(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Operated By ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(f.Z,{className:"search-select col-12",name:"Operated_By",options:m,getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:"",value:M,onChange:(e,t)=>{V(null===t||void 0===t?void 0:t.value)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Select Managed By",autoComplete:"off"}))})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Contact No ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{className:"col-12 search-select",name:"Contact",value:$,onChange:e=>ee(e.target.value),variant:"outlined",placeholder:"Contact No"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsx)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:"Website"}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{name:"Website",value:ae,onChange:e=>ie(e.target.value),className:"col-12 input-box",id:"outlined-basic",placeholder:"Website",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Address Line 2 ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{name:"Address_2",value:de,onChange:e=>ce(e.target.value),className:"col-12 input-box",id:"outlined-basic",placeholder:"Address Line 2",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["State",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(f.Z,{className:"search-select col-12",name:"selectedState",options:g,getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.name?null===e||void 0===e?void 0:e.name:"",value:Ie,onChange:(e,t)=>{be(null===t||void 0===t?void 0:t.name),w(null===t||void 0===t?void 0:t.id)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Choose a state",autoComplete:"off"}))})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["PIN Code ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{name:"Pin_Code",value:re,onChange:async e=>{ue(e.target.value);const t=e.target.value;try{const e=await A().get("".concat(O._n,"/Erpapp/PincodeCRUD/?pincode=").concat(t),d),l=null===e||void 0===e?void 0:e.data;(null===t||void 0===t?void 0:t.length)>5&&((null===l||void 0===l?void 0:l.length)>0?B.Am.success("Pincode is valid"):B.Am.error("The provided pincode doesn't exist in the city."))}catch(l){console.error(l),B.Am.error("Please enter a valid pincode")}},className:"col-12 input-box",id:"outlined-basic",placeholder:"PIN Code",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsx)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:"GST No"}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{name:"GST_No",value:ve,onChange:e=>pe(e.target.value),className:"col-12 input-box",id:"outlined-basic",placeholder:"GST No",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsx)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:"Valid Upto"}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(z.O7,{id:"AgreementValidupto",name:"AgreementValidupto",inputValue:"0001-01-01"===je?"":je,handleInputChange:e=>Ze(e.target.value),variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:["Office Timing To  ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(S.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(N.Z,{type:"time",name:"endTime",value:we,onChange:e=>Ae(e.target.value),className:"col-12 input-box",id:"outlined-basic",placeholder:"To Time",variant:"outlined"})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsx)(i.Z,{className:"col-md-12 col-lg-7 col-xl-5 input-label",sx:{mt:2},children:"Corporate BU"}),(0,T.jsx)(G.Z,{className:"col-md-12 col-lg-5 col-xl-6",children:(0,T.jsx)(x.Z,{control:(0,T.jsx)(J.Z,{value:qe,checked:qe,onChange:e=>ze(e.target.checked)}),label:""})})]})]})})]}),(0,T.jsxs)(P.Z,{className:"buttons",sx:{mt:5,ml:1,display:"flex",justifyContent:"flex-start"},children:[(0,T.jsxs)(_.Z,{type:"submit","aria-label":"split button",sx:{mr:{md:2}},onClick:async e=>{e.preventDefault();let o={id:_e,Partner_Id:Ne,Partner_Name:H,Operated_By:M,HeadOf_Operation:K,BusinessUnit_Phone:$,BusinessUnit_EMail:te,BusinessUnit_Web:ae,BusinessUnit_Addressline1:se,BusinessUnit_City:Pe,BusinessUnit_Country:Se,BusinessUnit_State:Ie,BusinessUnit_Zone:"",BusinessUnit_Pincode:re,BusinessUnit_PanNo:me,BusinessUnit_GSTNo:ve,Agreement_RefNo:he,Agreement_Validupto:je||"0001-01-01",Ofc_Starttime:De,Ofc_Endtime:we,Total_hours:parseFloat(Be),Corporate_BU:qe,Commision_Paid:ke||0,Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId")),Updated_Date:oe.vQ};console.log("itempayload :",o);try{var a;const e=await A().put("".concat(O._n,"/Erpapp/PartnerCRUD/"),o,d);if(console.log(null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a.id){B.Am.success("".concat(Ne," is Updated successfully")),W(),l(!0),t(!1);let e=[];H!==Te&&e.push("Partner Name"),M!==We&&e.push("Operated By"),K!==Fe&&e.push("HeadOfOperation"),$!==Ve&&e.push("Contact No"),te!==Je&&e.push("Email"),ae!==Ye&&e.push("Website"),se!==Xe&&e.push("Adress 1"),de!==et&&e.push("Adress 2"),re!==lt&&e.push("pincode"),me!==at&&e.push("Pancard No"),ve!==st&&e.push("GST No"),he!==dt&&e.push("Agreement No"),je!==rt&&e.push("Agreement Validupto"),Se!==mt&&e.push("Country"),Ie!==vt&&e.push("State"),Pe!==ht&&e.push("City"),De!==jt&&e.push("Start Time"),we!==Nt&&e.push("End Time"),Be!==_t&&e.push("Total Hours"),ke!==St&&e.push("Commision Paid"),qe!==It&&e.push("Corporate BU");let o=localStorage.getItem("Username");console.log("EditedArr",e),(null===e||void 0===e?void 0:e.length)>0&&A().post("".concat(O._n,"/Erpapp/Updaterecordscrud/"),{Document_Id:Ne,Updated_Person:"".concat(o," edited this Bussiness Unit."),Is_Deleted:!1,Updated_Time:"".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds()),Updated_Field:e.join(","),Updated_Date:oe.vQ,Partner_Id:parseInt(localStorage.getItem("PartnerId")),Updated_By:parseInt(localStorage.getItem("UserId"))},{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{console.log("Result",e.data)})).catch((e=>{console.log(e.message)}))}else B.Am.error("Please check your inputs")}catch(i){console.log(i),B.Am.error("You do not have permission to perform this action.")}},children:[(0,T.jsx)(C.Z,{type:"submit",className:"plus-button",children:"Update"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(R.TvB,{size:18})})]}),(0,T.jsxs)(_.Z,{"aria-label":"split button",onClick:()=>{t(!1),l(!0)},children:[(0,T.jsx)(C.Z,{className:"plus-button",children:"Cancel"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(q.KZq,{size:24})})]})]})]})})};var ne=l(8977),de=l(39126),ce=l(13967),re=l(25046),ue=l(16856),me=l(13208),xe=l(67807);const ve=e=>{let{updatedHistory:t,itemId:l="Item Id"}=e,a=(0,xe.Z)("down","md");return console.log("updatedHistory",t),(0,T.jsx)(k.Z,{autoHeight:!0,autoHideTimeout:4e3,autoHeightMin:300,autoHide:!0,hideTracksWhenNotNeeded:!0,id:"no-more-tables",children:(0,T.jsx)(me.Z,(0,o.Z)((0,o.Z)({in:!0,style:{transformOrigin:"0 0 0"}},{timeout:500}),{},{children:(0,T.jsxs)(d.Z,{stickyHeader:!0,className:"table",children:[(0,T.jsx)(c.Z,{className:"history-header",children:(0,T.jsxs)(r.Z,{children:[(0,T.jsx)($,{sx:{fontWeight:900,minWidth:{xs:"auto",md:"200px !important"}},children:"Activity Date"}),(0,T.jsx)($,{sx:{fontWeight:900,minWidth:{xs:"auto",md:"200px !important"}},children:l}),(0,T.jsx)($,{sx:{fontWeight:900,minWidth:{xs:"auto",md:"200px !important"}},children:"History"}),(0,T.jsx)($,{sx:{fontWeight:900,minWidth:{xs:"auto",md:"200px !important"}},children:"Updated Fields"})]})}),(0,T.jsx)(m.Z,{children:(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.map(((e,t)=>{var o,i;return(0,T.jsxs)(r.Z,{children:[(0,T.jsxs)($,{sx:{minWidth:{xs:"auto",md:"200px !important"}},"data-title":"Activity Date",children:[(0,T.jsx)(oe.CN,{date:null===e||void 0===e?void 0:e.Updated_Date}),(0,T.jsx)("span",{style:{marginLeft:"5px"},children:null!==e&&void 0!==e&&e.Updated_Time?null===e||void 0===e||null===(o=e.Updated_Time)||void 0===o?void 0:o.slice(0,8):a?"-":""})]}),(0,T.jsx)($,{sx:{minWidth:{xs:"auto",md:"200px !important"}},"data-title":l,children:null!==e&&void 0!==e&&e.Document_Id?null===e||void 0===e?void 0:e.Document_Id:a?"-":""}),(0,T.jsx)($,{sx:{minWidth:{xs:"auto",md:"200px !important"}},"data-title":"History",children:null!==e&&void 0!==e&&e.Updated_Person?null===e||void 0===e?void 0:e.Updated_Person:a?"-":""}),(0,T.jsxs)($,{sx:{minWidth:{xs:"auto",md:"200px !important"}},"data-title":"Updated Fields",children:[null!==e&&void 0!==e&&e.Updated_Field?null===e||void 0===e?void 0:e.Updated_Field:a?"-":"",Array.isArray(null===e||void 0===e?void 0:e.Histroy)?null===e||void 0===e||null===(i=e.Histroy)||void 0===i?void 0:i.map((e=>{var t;return(0,T.jsx)(P.Z,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:null===e||void 0===e||null===(t=e.keys)||void 0===t?void 0:t.map(((t,l)=>(0,T.jsxs)("span",{style:{color:0==l?"#00BFFF":"",marginRight:0==l?"8px":""},children:[t," ",0==l?"-":l==(null===e||void 0===e?void 0:e.keys.length)-1?"":","]})))})})):""]})]})})):(0,T.jsx)(r.Z,{children:(0,T.jsx)(u.Z,{colSpan:4,sx:{textAlign:"center"},children:"No Records"})})})]})}))})},pe=e=>{let{setListOverview:t,setListMaterial:l,buid:o,scrollHeight:a}=e;const d=localStorage.getItem("accesstoken"),c={headers:{Authorization:"Bearer ".concat(d),"Content-Type":"application/json",Accept:"application/json"}};let r=localStorage.getItem("UserDetails");r=JSON.parse(r);let u=r&&r.Organization_Id,m=r&&r.id;const x=parseInt(localStorage.getItem("PartnerId")),v=(0,ce.Z)(),p=(0,re.Z)(v.breakpoints.up("md")),[h,g]=(0,I.useState)([]),[j,N]=(0,I.useState)(""),[y,S]=(0,I.useState)("1"),[f,b]=(0,I.useState)([]);(0,I.useEffect)((()=>{m&&A().get("".concat(O._n,"/Erpapp/CompanyCRUD/?id=").concat(u),c).then((e=>{var t,l;console.log("D",null===e||void 0===e?void 0:e.data),console.log("res.data?.DateFormat",null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.DateFormat),N(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.DateFormat)})).catch((e=>{console.log(e)}))}),[]);return(0,I.useEffect)((()=>{(async()=>{await A().get("".concat(O._n,"/Erpapp/PartnerCRUD/?Partner_Id=").concat(o),c).then((e=>{var t;b(null===e||void 0===e?void 0:e.data),A().get("".concat(O._n,"/Erpapp/Updaterecordsfilter/?Partner_Id=").concat(x,"&Document_Id=").concat(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Partner_Id),c).then((e=>{console.error("data",null===e||void 0===e?void 0:e.data),g(null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log("ds",e)}))})).catch((e=>{console.log(e)}))})()}),[o]),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(P.Z,{className:"row",children:[(0,T.jsx)(P.Z,{className:"col-sm-12 col-md-10",children:(0,T.jsx)(i.Z,{variant:"h3",sx:{fontWeight:500},children:"Bussiness Unit Overview"})}),(0,T.jsx)(P.Z,{children:(0,T.jsxs)(U.ZP,{value:y,children:[(0,T.jsx)(s.Z,{sx:{borderBottom:0,borderColor:"divider"},children:(0,T.jsxs)(D.Z,{onChange:(e,t)=>{S(t)},"aria-label":"lab API tabs example",children:[(0,T.jsx)(n.Z,{label:"Overview",value:"1",sx:{fontSize:"16px",color:"#000000"}}),(0,T.jsx)(n.Z,{label:"History",value:"3",sx:{fontSize:"16px",color:"#000000"}})]})}),(0,T.jsx)(E.Z,{value:"1",sx:{p:{xs:1,md:2}},children:(0,T.jsxs)(Z.ZP,{container:!0,children:[(0,T.jsxs)(Z.ZP,{item:!0,xs:5.5,md:4,lg:3,xl:2,children:[(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:"Date"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:"BU Id"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:"BU Name"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:"Head of Operation"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:"Contact No"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:"Email Id"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:"Web"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:"Office From Time"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:"Office End Time"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:"Commision Paid"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:"Address"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:"Corporate BU"})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:6.5,md:8,lg:8,children:[(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:[": ",j&&(null===f||void 0===f?void 0:f.Created_Date)&&(0,ne.Z)(new Date(null===f||void 0===f?void 0:f.Created_Date),j)||(null===f||void 0===f?void 0:f.Created_Date)]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:[": ",null===f||void 0===f?void 0:f.Partner_Id," "]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:[": ",null===f||void 0===f?void 0:f.Partner_Name]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:[": ",null===f||void 0===f?void 0:f.HeadOf_Operation," "]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:[": ",null===f||void 0===f?void 0:f.BusinessUnit_Phone," "]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:[": ",null===f||void 0===f?void 0:f.BusinessUnit_EMail," "]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:[": ",(null===f||void 0===f?void 0:f.BusinessUnit_Web)||"-"," "]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:[": ",null===f||void 0===f?void 0:f.Ofc_Starttime," "]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:[": ",null===f||void 0===f?void 0:f.Ofc_Endtime," "]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:[": ",null===f||void 0===f?void 0:f.Commision_Paid," % "]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:[": ",null===f||void 0===f?void 0:f.BusinessUnit_Addressline1,",",null===f||void 0===f?void 0:f.BusinessUnit_City,", ",null===f||void 0===f?void 0:f.BusinessUnit_State,",",null===f||void 0===f?void 0:f.BusinessUnit_Country," - ",null===f||void 0===f?void 0:f.BusinessUnit_Pincode]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:p?"14px !important":"12px !important"},children:[": ",null!==f&&void 0!==f&&f.Corporate_BU?"Yes":"No"," "]})]})]})}),(0,T.jsx)(E.Z,{value:"3",sx:{p:1.5},children:(0,T.jsx)(ve,{updatedHistory:h,itemId:"Business Unit Id"})})]})})]}),(0,T.jsx)(P.Z,{sx:{mt:{xs:5,md:20}},children:(0,T.jsxs)(_.Z,{"aria-label":"split button",sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},onClick:()=>{t(!1),l(!0)},children:[(0,T.jsx)(C.Z,{className:"plus-button",sx:{width:"99px !important"},children:"Close"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",sx:{p:1},children:(0,T.jsx)(ue.FU5,{size:18})})]})})]})};var he=l(77573);const ge=e=>{let{scrollHeight:t}=e;const{checkId6:l,setCheckId6:o,name4:a,name5:s,setName5:n,getId5:p,setGetId5:g,userRolePermissions:j}=(0,I.useContext)(Ee),[Z,N]=(0,I.useState)([]),[y,_]=(0,I.useState)(!1),[C,S]=(0,I.useState)(""),[f,b]=(0,I.useState)(""),[U,D]=(0,I.useState)(""),[E,w]=(0,I.useState)(!1),[R,q]=(0,I.useState)(!1),[L]=(0,I.useState)("My Material Transfer"),[W,H]=(0,I.useState)(!1),[F,M]=(0,I.useState)(!0),[Y,Q]=(0,I.useState)(!1),[X,$]=(0,I.useState)(!1),[ee,te]=(0,I.useState)(""),le=((0,K.s0)(),localStorage.getItem("accesstoken")),[oe,ae]=(0,I.useState)(null),[ce,re]=(0,I.useState)(!0),[ue,me]=(0,I.useState)(!0),[xe,ve]=(0,I.useState)(!0),[ge,je]=(0,I.useState)(!1),[Ze,Ne]=(0,I.useState)(!0),[ye,_e]=(0,I.useState)(!0),[Ce,Se]=(0,I.useState)(!1),[fe,Ie]=(0,I.useState)(!1),[be,Pe]=(0,I.useState)(!1),[Ue,De]=(0,I.useState)(!1),[we,Ae]=(0,I.useState)({key:null,direction:"ascending"});let Be=localStorage.getItem("UserDetails");Be=JSON.parse(Be);let Oe=Be&&Be.Organization_Id;Be&&Be.id;const[ke,Re]=(0,I.useState)(""),qe={headers:{Authorization:"Bearer ".concat(le),"Content-Type":"application/json",Accept:"application/json"}};(0,I.useEffect)((()=>{Oe&&A().get("".concat(O._n,"/Erpapp/CompanyCRUD/?id=").concat(Oe),qe).then((e=>{var t;console.log("D",null===e||void 0===e?void 0:e.data),Re(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.DateFormat)})).catch((e=>{console.log(e)}))}),[]);const[ze,Te]=(0,I.useState)(1),[Le,We]=(0,I.useState)(0),[He,Fe]=(0,I.useState)(10),[Me,Ve]=(0,I.useState)(ze-1),Ge=Le,Je=(Math.ceil(Ge/He),async()=>{await A().get("".concat(O._n,"/Erpapp/PartnerListDropdown/"),qe).then((e=>{var t;console.log("Partner Response",e);const l=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.filter((e=>(null===e||void 0===e?void 0:e.BusinessUnit_City)===a));N(l),We(null===l||void 0===l?void 0:l.length)})).catch((e=>{console.log(e)}))});(0,I.useEffect)((()=>{Je()}),[F]),console.log(Z);const[Ke]=I.useState(!1),[Ye]=I.useState(),[Qe,Xe]=(0,I.useState)({id:"",Partner_Id:""}),$e=e=>{let t="ascending";we.key===e&&"ascending"===we.direction&&(t="descending"),Ae({key:e,direction:t}),((e,t)=>{const l=[...Z];l.sort(((l,o)=>{if("Created_By"===e){const a="string"===typeof l[e].Business_Unit?l[e].Business_Unit.toLowerCase():l[e].Business_Unit,i="string"===typeof o[e].Business_Unit?o[e].Business_Unit.toLowerCase():o[e].Business_Unit;if(a<i)return"ascending"===t?-1:1;if(a>i)return"ascending"===t?1:-1}else{const a="string"===typeof l[e]?l[e].toLowerCase():l[e],i="string"===typeof o[e]?o[e].toLowerCase():o[e];if(a<i)return"ascending"===t?-1:1;if(a>i)return"ascending"===t?1:-1}return 0})),N(l)})(e,t)},et=async e=>{try{var t;const l=await A().get("".concat(O._n,"/Erpapp/Partnerslotlist/?Partner_Id=").concat(null===e||void 0===e?void 0:e.id),qe),o=await A().get("".concat(O._n,"/Erpapp/HREmployeelistwithoutpagination/"),qe),a=null===l||void 0===l?void 0:l.data,i=null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.filter((t=>{var l;return(null===t||void 0===t||null===(l=t.Partner_Id)||void 0===l?void 0:l.id)===(null===e||void 0===e?void 0:e.id)}));return(null===a||void 0===a?void 0:a.length)>0?a:i}catch(l){console.log(l)}};return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(P.Z,{className:"card",sx:{p:2,borderRadius:0,m:0},children:[(0,T.jsxs)(P.Z,{sx:{display:!0===F?"block":"none"},children:[(0,T.jsx)(P.Z,{sx:{position:"absolute",right:15,display:"flex",justifyContent:"flex-end"},children:Array.isArray(j)&&j.includes(741)&&(0,T.jsx)(z.pO,{handleClick:()=>{H(!0),M(!1)},name:"Create BU"})}),(0,T.jsx)("br",{}),(0,T.jsx)(P.Z,{sx:{mt:{lg:3,md:5,xs:5},minHeight:"300px"},children:(0,T.jsx)(k.Z,{autoHeight:!0,autoHideTimeout:4e3,autoHeightMin:t||300,autoHide:!0,hideTracksWhenNotNeeded:!0,id:"no-more-tables",children:(0,T.jsxs)(d.Z,{stickyHeader:!0,className:"table table-borderless",children:[(0,T.jsx)(c.Z,{className:"table-head",children:(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{sx:{height:"53px !important"}}),ce&&(0,T.jsxs)(u.Z,{onClick:()=>$e("Created_Date"),sx:{height:"53px !important"},children:["Date","Created_Date"===we.key&&(we.direction,(0,T.jsx)(h.Z,{size:"small",children:(0,T.jsx)(de.KJO,{})}))]}),ue&&(0,T.jsxs)(u.Z,{onClick:()=>$e("Partner_Id"),sx:{height:"53px !important"},children:["BU Id","Partner_Id"===we.key&&(we.direction,(0,T.jsx)(h.Z,{size:"small",children:(0,T.jsx)(de.KJO,{})}))]}),xe&&(0,T.jsxs)(u.Z,{onClick:()=>$e("Partner_Name"),children:["BU Name","Partner_Name"===we.key&&(we.direction,(0,T.jsx)(h.Z,{size:"small",children:(0,T.jsx)(de.KJO,{})}))]}),ge&&(0,T.jsxs)(u.Z,{onClick:()=>$e("BusinessUnit_Phone"),xl:2,children:["Contact No","BusinessUnit_Phone"===we.key&&(we.direction,(0,T.jsx)(h.Z,{size:"small",children:(0,T.jsx)(de.KJO,{})}))]}),Ze&&(0,T.jsxs)(u.Z,{onClick:()=>$e("BusinessUnit_EMail"),xl:4,children:["Email Id","BusinessUnit_EMail"===we.key&&(we.direction,(0,T.jsx)(h.Z,{size:"small",children:(0,T.jsx)(de.KJO,{})}))]}),fe&&(0,T.jsxs)(u.Z,{onClick:()=>$e("Ofc_Starttime"),xl:4,children:["Office Start Time","Ofc_Starttime"===we.key&&(we.direction,(0,T.jsx)(h.Z,{size:"small",children:(0,T.jsx)(de.KJO,{})}))]}),be&&(0,T.jsxs)(u.Z,{onClick:()=>$e("Ofc_Endtime"),xl:4,children:["Office End Time","Ofc_Endtime"===we.key&&(we.direction,(0,T.jsx)(h.Z,{size:"small",children:(0,T.jsx)(de.KJO,{})}))]}),Ue&&(0,T.jsxs)(u.Z,{onClick:()=>$e("Commision_Paid"),xl:4,children:["Commision Paid","Commision_Paid"===we.key&&(we.direction,(0,T.jsx)(h.Z,{size:"small",children:(0,T.jsx)(de.KJO,{})}))]}),ye&&(0,T.jsxs)(u.Z,{onClick:()=>$e("BusinessUnit_City"),children:["Location","BusinessUnit_City"===we.key&&(we.direction,(0,T.jsx)(h.Z,{size:"small",children:(0,T.jsx)(de.KJO,{})}))]}),Ce&&(0,T.jsxs)(u.Z,{onClick:()=>$e("BusinessUnit_Web"),children:["Web","BusinessUnit_Web"===we.key&&(we.direction,(0,T.jsx)(h.Z,{size:"small",children:(0,T.jsx)(de.KJO,{})}))]}),(0,T.jsx)(u.Z,{children:(0,T.jsxs)(P.Z,{sx:{display:"flex",justifyContent:"space-between",lineHeight:2.5},children:["Action",(0,T.jsx)("span",{onClick:e=>{ae(e.currentTarget)},style:{cursor:"pointer"},children:(0,T.jsx)(h.Z,{children:(0,T.jsx)(de.FQA,{size:18,color:"black"})})})]})}),(0,T.jsxs)(V.Z,{id:"menu-appbar",anchorEl:oe,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(oe),onClose:()=>{ae(null)},sx:{mt:7,maxHeight:"300px",scrollBehavior:"smooth"},children:[(0,T.jsx)(i.Z,{variant:"h4",sx:{p:2,mb:-2},children:"Choose Columns"}),(0,T.jsxs)(G.Z,{sx:{p:2},children:[(0,T.jsx)(x.Z,{control:(0,T.jsx)(J.Z,{checked:ce,onChange:e=>re(e.target.checked)}),label:"Date"}),(0,T.jsx)(x.Z,{control:(0,T.jsx)(J.Z,{checked:ue,onChange:e=>me(e.target.checked)}),label:"BU Id"}),(0,T.jsx)(x.Z,{control:(0,T.jsx)(J.Z,{checked:xe,onChange:e=>ve(e.target.checked)}),label:"BU Name"}),(0,T.jsx)(x.Z,{control:(0,T.jsx)(J.Z,{checked:ge,onChange:e=>je(e.target.checked)}),label:"Contact No"}),(0,T.jsx)(x.Z,{control:(0,T.jsx)(J.Z,{checked:Ze,onChange:e=>Ne(e.target.checked)}),label:"Email Id"}),(0,T.jsx)(x.Z,{control:(0,T.jsx)(J.Z,{checked:fe,onChange:e=>Ie(e.target.checked)}),label:"Office From Time"}),(0,T.jsx)(x.Z,{control:(0,T.jsx)(J.Z,{checked:be,onChange:e=>Pe(e.target.checked)}),label:"Office End Time"}),(0,T.jsx)(x.Z,{control:(0,T.jsx)(J.Z,{checked:Ue,onChange:e=>De(e.target.checked)}),label:"Commision Paid"}),(0,T.jsx)(x.Z,{control:(0,T.jsx)(J.Z,{checked:ye,onChange:e=>_e(e.target.checked)}),label:"Location"}),(0,T.jsx)(x.Z,{control:(0,T.jsx)(J.Z,{checked:Ce,onChange:e=>Se(e.target.checked)}),label:"Web"})]})]})]})}),(0,T.jsx)(m.Z,{children:(null===Z||void 0===Z?void 0:Z.length)>0?null===Z||void 0===Z?void 0:Z.map(((e,t)=>{let a="";if(void 0!==ke&&null!==ke&&""!==ke){const t=new Date(null===e||void 0===e?void 0:e.Created_Date);a=ke&&(null===e||void 0===e?void 0:e.Created_Date)&&(0,ne.Z)(t,ke)}return(0,T.jsxs)(r.Z,{hover:!0,children:[(0,T.jsx)(u.Z,{"data-title":"Status",sx:{textAlign:"center"},children:(0,T.jsx)(x.Z,{control:(0,T.jsx)(v.Z,{color:"primary",size:"small",value:null===e||void 0===e?void 0:e.Partner_Id,checked:l===(null===e||void 0===e?void 0:e.Partner_Id),onChange:t=>{o(t.target.value),g(null===e||void 0===e?void 0:e.id),n(null===e||void 0===e?void 0:e.Partner_Name)}})})}),ce&&(0,T.jsx)(u.Z,{"data-title":"Date",children:a||(null===e||void 0===e?void 0:e.Created_Date)}),ue&&(0,T.jsx)(u.Z,{sx:{color:"#00BFFF",cursor:"pointer"},onClick:()=>{(e=>{Array.isArray(j)&&j.includes(743)?(M(!1),Q(!0),te(e)):($(!0),M(!0),Q(!1))})(null===e||void 0===e?void 0:e.Partner_Id)},"data-title":"BU Id",children:null===e||void 0===e?void 0:e.Partner_Id}),xe&&(0,T.jsx)(u.Z,{"data-title":"BU Name",children:null===e||void 0===e?void 0:e.Partner_Name}),ge&&(0,T.jsx)(u.Z,{"data-title":"Contact No",children:null===e||void 0===e?void 0:e.BusinessUnit_Phone}),Ze&&(0,T.jsx)(u.Z,{"data-title":"Email Id",children:null===e||void 0===e?void 0:e.BusinessUnit_EMail}),fe&&(0,T.jsx)(u.Z,{"data-title":"Office Start Time",children:null===e||void 0===e?void 0:e.Ofc_Starttime}),be&&(0,T.jsx)(u.Z,{"data-title":"Office End Time",children:null===e||void 0===e?void 0:e.Ofc_Endtime}),Ue&&(0,T.jsx)(u.Z,{"data-title":"Commision Paid",children:null===e||void 0===e?void 0:e.Commision_Paid}),ye&&(0,T.jsx)(u.Z,{"data-title":"Location",children:null===e||void 0===e?void 0:e.BusinessUnit_City}),Ce&&(0,T.jsx)(u.Z,{"data-title":"Web",children:null===e||void 0===e?void 0:e.BusinessUnit_Web}),(0,T.jsx)(u.Z,{"data-title":"Action",children:(0,T.jsx)(z.i8,{userRolePermissions:j,editPermissionId:742,deletePermissionId:744,onClickEdit:()=>(e=>{w(!0),M(!1),Xe({id:null===e||void 0===e?void 0:e.id,Partner_Id:null===e||void 0===e?void 0:e.Partner_Id})})(e),onClickDelete:()=>(async e=>{const t=await et(e);(null===t||void 0===t?void 0:t.length)>0?B.Am.warning("You cannot delete this record because it is being used somewhere."):(_(!0),S(null===e||void 0===e?void 0:e.id),b(null===e||void 0===e?void 0:e.Partner_Id),D(null===e||void 0===e?void 0:e.Partner_Name))})(e),align:"left"})})]},t)})):(0,T.jsx)(r.Z,{children:(0,T.jsx)(u.Z,{colSpan:10,sx:{textAlign:"center"},children:"No Records"})})})]})})})]}),(0,T.jsx)(he.e4,{flag:y,setFlag:_,handleClick:async()=>await A().delete("".concat(O._n,"/Erpapp/PartnerCRUD/?Partner_Id=").concat(f),qe).then((e=>{console.log(null===e||void 0===e?void 0:e.data),B.Am.success("".concat(f," Partner is deleted successfully")),_(!1),Je()})).catch((e=>{console.log("ds",e)})),content:"Are you sure you want to delete the BU",id:U}),(0,T.jsx)(P.Z,{sx:{display:!0===W?"block":"none"},children:(0,T.jsx)(ie,{setCreateMaterial:H,setListMaterial:M})}),(0,T.jsx)(P.Z,{sx:{display:!0===E?"block":"none"},children:(0,T.jsx)(se,{setEditPartnerList:w,setListMaterial:M,setCurrentPart:Xe,currentPart:Qe,getData1:Je})}),Y&&Array.isArray(j)&&j.includes(743)?(0,T.jsx)(pe,{setListOverview:Q,setListMaterial:M,buid:ee}):(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(he.cF,{flag:X,setFlag:$})})]})})};var je=l(26479),Ze=l(61134),Ne=l(44695),ye=l(50242),_e=l(65661),Ce=l(14423);const Se=e=>{var t,l,a,s,n,d,c;let{countries:r,states:u,cities:m,zones:x,name1:v,name3:p,name4:h,name5:y,name6:b,getId5:U,openCreateStore:D,setOpenCreateStore:E,getStores:w,fullScreen:k}=e;const z=localStorage.getItem("accesstoken"),L={headers:{Authorization:"Bearer ".concat(z),"Content-Type":"application/json",Accept:"application/json"}};let H=localStorage.getItem("UserDetails");H=JSON.parse(H);const[F,M]=(0,I.useState)(U),[V,G]=(0,I.useState)(y),[J,K]=(0,I.useState)(""),[Y,Q]=(0,I.useState)(""),[X,$]=(0,I.useState)(""),[ee,te]=(0,I.useState)(b),[le,ie]=(0,I.useState)(""),[se,ne]=(0,I.useState)(""),[de,ce]=(0,I.useState)([]),[re,ue]=(0,I.useState)([]),me=async()=>{await A().get("".concat(O._n,"/Erpapp/PartnerListreportDropdown/"),L).then((e=>{if(e){var t;const l=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.filter((e=>(null===e||void 0===e?void 0:e.BusinessUnit_City)===Se));ue(l)}})).catch((e=>{console.log("Error in retrieving business unit list===>",e)}))};(0,I.useEffect)((()=>{(async()=>{try{const e=await Ce.Z.listofDropdownEmployees(F,L);e&&(console.log("RES",e),ce(e))}catch(e){console.error(e)}})()}),[F]),(0,I.useEffect)((()=>{me()}),[]);const[xe,ve]=(0,I.useState)(""),[pe,he]=(0,I.useState)(v),[ge,ye]=(0,I.useState)(p),[Se,fe]=(0,I.useState)(h),Ie=(0,I.useCallback)((async()=>{try{if(void 0!==ee&&""!==ee){const e=await fetch("https://nominatim.openstreetmap.org/search?q=".concat(encodeURIComponent(ee),"&format=json&limit=1")),t=await e.json();console.log("dataaa",t),(null===t||void 0===t?void 0:t.length)>0?(ne(t[0].lat),ie(t[0].lon)):(ne(""),ie(""),B.Am.error("Location not found"))}}catch(e){console.error("Error:",e)}}),[ee]);(0,I.useEffect)((()=>{Ie()}),[ee]);const{reset:be,register:Pe,trigger:Ue,handleSubmit:De,formState:{errors:Ee}}=(0,Ze.cI)({mode:"onBlur",resolver:(0,Ne.X)(je.kk)}),[we,Ae]=(0,I.useState)("");(0,I.useEffect)((()=>{const e=(0,oe.np)("Stores");e&&e.then((e=>{console.log("result",e),Ae(e)})).catch((e=>{console.error(e)}))}),[we]);return(0,T.jsxs)(g.Z,{fullScreen:k,maxWidth:"lg",open:D,"aria-labelledby":"responsive-dialog-title",children:[(0,T.jsx)(_e.Z,{id:"responsive-dialog-title",children:"Create Store"}),(0,T.jsx)(j.Z,{children:(0,T.jsxs)("form",{onSubmit:De((()=>{var e={Type:"",Store_Name:Y,StoreBuilding_Name:xe,Store_Street:"",Store_Area:ee,Store_City:Se,Store_State:ge,Store_Country:pe,Store_Incharge:X,Own_Partner:V,Items:[{id:"",Upload_Image:"",Category:"",Item_Group:"",Item_Code:"",Item_Name:"",UOM:"",Unit_Price:0,Opening_Stock:0,ReOrder_Lvl:0,Min_Stock_Lvl:0}],Longitude:le,Lotitude:se,Partner_OrganizationId:localStorage.getItem("OrganizationId"),Store_UserId:localStorage.getItem("UserId"),Partner_Id:parseInt(F),Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_Date:(new Date).toJSON().slice(0,10),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))};A().post("".concat(O._n,"/Erpapp/StoremasterCRUD/"),e,L).then((e=>{var t,l;(console.log(null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id)?(B.Am.success("Store information created successfully!"),be(),Q(""),ve(""),te(""),G(""),$(""),he(""),ye(""),fe(""),ie(""),ne(""),E(!1),w(),ae(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.Store_Id,F,"store",L)):B.Am.error("Error updating store information.")})).catch((e=>{console.log(e),(0,W.S)(e)}))})),children:[(0,T.jsx)(P.Z,{sx:{minHeight:"250px"},children:(0,T.jsxs)(Z.ZP,{container:!0,xs:12,children:[(0,T.jsx)(Z.ZP,{item:!0,xs:12,md:6,children:(0,T.jsxs)(Z.ZP,{container:!0,xs:12,children:[(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["Store Id ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({className:"col-12 input-box",name:"storeId"},Pe("storeId")),{},{value:J,onChange:e=>{K(e.target.value)},placeholder:"Automatic"===we?"Auto Generated":"Store Id",variant:"outlined",autoComplete:"off",disabled:"Automatic"===we,inputProps:{maxLength:11,title:"Please enter a maximum of 11 digits"}}))})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["Store Name ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsxs)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:[(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({className:"col-12 input-box  ".concat(Ee.storeName?"is-invalid":""),name:"storeName"},Pe("storeName")),{},{value:Y,onChange:e=>{Q(e.target.value),console.log(e.target.value)},placeholder:"Store Name",autoComplete:"off"})),(0,T.jsx)(P.Z,{style:{color:"red"},children:!Y&&(null===(t=Ee.storeName)||void 0===t?void 0:t.message)})]})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["Building Name ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsxs)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:[(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({className:"col-12 input-box  ".concat(Ee.buildingName?"is-invalid":""),name:"buildingName"},Pe("buildingName")),{},{value:xe,onChange:e=>ve(e.target.value),placeholder:"Building Name",autoComplete:"off"})),(0,T.jsx)(P.Z,{style:{color:"red"},children:!xe&&(null===(l=Ee.buildingName)||void 0===l?void 0:l.message)})]})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["Country ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:(0,T.jsxs)(S.Z,{className:"col-12",children:[(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(Ee.countryName?"is-invalid":""),name:"countryName",options:r,getOptionLabel:e=>e?null===e||void 0===e?void 0:e.Country_Name:"",value:(null===r||void 0===r?void 0:r.find((e=>(null===e||void 0===e?void 0:e.Country_Name)===pe)))||null,onChange:(e,t)=>{he(null===t||void 0===t?void 0:t.Country_Name),ye(null),fe(null),console.log("Selected Country:",t)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)((0,o.Z)({},e),Pe("countryName")),{},{placeholder:"Select Country"})),disabled:!0}),(0,T.jsx)(P.Z,{style:{color:"red"},children:!pe&&(null===(a=Ee.countryName)||void 0===a?void 0:a.message)})]})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["State ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:(0,T.jsxs)(S.Z,{className:"col-12",children:[(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(Ee.stateName?"is-invalid":""),name:"stateName",options:u,getOptionLabel:e=>e?null===e||void 0===e?void 0:e.State_Name:"",value:(null===u||void 0===u?void 0:u.find((e=>(null===e||void 0===e?void 0:e.State_Name)===ge)))||null,onChange:(e,t)=>{ye(null===t||void 0===t?void 0:t.State_Name),fe(null),console.log("Selected State:",t)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)((0,o.Z)({},e),Pe("stateName")),{},{placeholder:"Select State"})),disabled:!0}),(0,T.jsx)(P.Z,{style:{color:"red"},children:!ge&&(null===(s=Ee.stateName)||void 0===s?void 0:s.message)})]})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["City ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:(0,T.jsxs)(S.Z,{className:"col-12",children:[(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(Ee.cityName?"is-invalid":""),name:"cityName",options:m,getOptionLabel:e=>e?null===e||void 0===e?void 0:e.City_Name:"",value:(null===m||void 0===m?void 0:m.find((e=>(null===e||void 0===e?void 0:e.City_Name)===Se)))||null,onChange:(e,t)=>{fe(null===t||void 0===t?void 0:t.City_Name),console.log("Selected City:",t)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)((0,o.Z)({},e),Pe("cityName")),{},{placeholder:"Select City"})),disabled:!0}),(0,T.jsx)(P.Z,{style:{color:"red"},children:!Se&&(null===(n=Ee.cityName)||void 0===n?void 0:n.message)})]})})]})]})}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,md:6,children:(0,T.jsxs)(Z.ZP,{container:!0,xs:12,children:[(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-sm-12 col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["Choose a BU ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsxs)(P.Z,{className:"col-sm-12 col-md-12 col-lg-6 col-xl-8",children:[(0,T.jsx)(S.Z,{className:"col-12",children:(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(Ee.partnerName?"is-invalid":""),onFocus:me,name:"partnerName",options:null===re||void 0===re?void 0:re.map((e=>e)),getOptionLabel:e=>null===e||void 0===e?void 0:e.Partner_Name,value:(null===re||void 0===re?void 0:re.find((e=>(null===e||void 0===e?void 0:e.Partner_Name)===V)))||null,onChange:(e,t)=>{G(null===t||void 0===t?void 0:t.Partner_Name),M(null===t||void 0===t?void 0:t.id)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)((0,o.Z)({},e),Pe("partnerName")),{},{placeholder:"Choose a business unit",autoComplete:"off",variant:"outlined"})),disabled:!0})}),(0,T.jsx)(P.Z,{style:{color:"red"},children:!V&&(null===(d=Ee.partnerName)||void 0===d?void 0:d.message)})]})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["Location ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsxs)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:[(0,T.jsx)(S.Z,{className:"col-12",children:(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(Ee.Location?"is-invalid":""),name:"location",options:x,getOptionLabel:e=>null===e||void 0===e?void 0:e.Zone_Name,value:(null===x||void 0===x?void 0:x.find((e=>(null===e||void 0===e?void 0:e.Zone_Name)===ee)))||null,onChange:(e,t)=>{te(null===t||void 0===t?void 0:t.Zone_Name),Ie(null===t||void 0===t?void 0:t.Zone_Name)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)((0,o.Z)({},e),Pe("location")),{},{placeholder:"Location",autoComplete:"off",variant:"outlined"})),disabled:!0})}),(0,T.jsx)(P.Z,{style:{color:"red"},children:!ee&&(null===(c=Ee.location)||void 0===c?void 0:c.message)})]})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["Longitude ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:(0,T.jsx)(N.Z,{className:"col-12 input-box",name:"longitude",value:le,placeholder:"Longitude",autoComplete:"off",disabled:!0})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["Latitude ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:(0,T.jsx)(N.Z,{className:"col-12 input-box",name:"latitude",value:se,placeholder:"Latitude",autoComplete:"off",disabled:!0})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsx)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:"Store Incharge"}),(0,T.jsx)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:(0,T.jsx)(S.Z,{className:"col-12",children:(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(Ee.storeIncharge?"is-invalid":""),name:"storeIncharge",options:de,getOptionLabel:e=>"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName),value:(null===de||void 0===de?void 0:de.find((e=>"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName)===X)))||null,onChange:(e,t)=>{$("".concat(null===t||void 0===t?void 0:t.Employee_FirstName," ").concat(null===t||void 0===t?void 0:t.Employee_LasttName))},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)((0,o.Z)({},e),Pe("storeIncharge")),{},{placeholder:"Store Incharge",autoComplete:"off",variant:"outlined"}))})})})]})]})})]})}),(0,T.jsxs)(P.Z,{className:"buttons",sx:{mt:5,mb:3,display:"flex",justifyContent:"end"},children:[(0,T.jsxs)(_.Z,{"aria-label":"split button",type:"submit",color:"primary",sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,T.jsx)(C.Z,{type:"submit",className:"plus-button",sx:{width:{md:"99px !important"}},children:"Save"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(R.TvB,{size:18})})]}),(0,T.jsxs)(_.Z,{"aria-label":"split button",onClick:()=>{Q(""),ve(""),te(""),G(""),$(""),he(""),ye(""),fe(""),ie(""),ne(""),be(),E(!1)},sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,T.jsx)(C.Z,{className:"plus-button",sx:{width:{md:"99px !important"}},children:"Cancel"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(q.KZq,{size:20})})]})]})]})})]})},fe={getItemDropdownList:async(e,t,l)=>{const{data:o}=await A().get("".concat(O._n,"/Erpapp/Itemlistwithoutpagination/?Company_Id=").concat(e,"&Partner_Id=").concat(t,"&Is_Deleted=False"),l);return o},getCostcenterDropdownList:async(e,t)=>{const{data:l}=await A().get("".concat(O._n,"/Erpapp/Costcenterlistwithoutpagination/?Partner_Id=").concat(e),t);return l},getSupplierDropdownList:async(e,t)=>{const{data:l}=await A().get("".concat(O._n,"/Erpapp/supplierlistwithoutpagination/?Partner_Id=").concat(e),t);return l},getStoreDropdownList:async(e,t)=>{const{data:l}=await A().get("".concat(O._n,"/Erpapp/Storelistwithoutpagination/?Partner_Id=").concat(e),t);return l},getAllStoreDropdownList:async e=>{const{data:t}=await A().get("".concat(O._n,"/Erpapp/Storelistwithoutpaginationforfront/"),e);return t},getServiceDropdownList:async e=>{const{data:t}=await A().get("".concat(O._n,"/Erpapp/ServiceListWithoutPagination/"),e);return t},getMaterialReceiptDropdownList:async(e,t,l)=>{const{data:o}=await A().get("".concat(O._n,"/Erpapp/GoodsReceiptwithoutpagination/?Company_Id=").concat(e,"&Partner_Id=").concat(t),l);return o},getMaterialRequestDropdownList:async(e,t)=>{const{data:l}=await A().get("".concat(O._n,"/Erpapp/Materialrequestwithoutpagination/?Company_Id=").concat(e),t);return l},getMaterialIssueDropdownList:async(e,t)=>{const{data:l}=await A().get("".concat(O._n,"/Erpapp/MaterialIssueWithoutPaginationAllList/?Company_Id=").concat(e),t);return l},getCatalogueDropdownList:async(e,t)=>{const{data:l}=await A().get("".concat(O._n,"/Erpapp/Cataloguewithoutpaginationlist/?Company_Id=").concat(e),t);return l}},Ie=fe,be=e=>{var t,l,a,x,v;let{scrollHeight:p,setListStore:h,setEditOverviewItem:g,currentData:j,setCurrentData:Z}=e;const N=localStorage.getItem("accesstoken"),y={headers:{Authorization:"Bearer ".concat(N),"Content-Type":"application/json",Accept:"application/json"}},S=parseInt(localStorage.getItem("PartnerId")),f=(0,ce.Z)(),b=(0,re.Z)(f.breakpoints.up("md")),[w,B]=(0,I.useState)([]),[R,q]=(0,I.useState)(!0),[z,L]=(0,I.useState)("1"),[W,H]=(0,I.useState)([]),[F,M]=(0,I.useState)([]),[V,G]=(0,I.useState)(""),[J,K]=(0,I.useState)([]);let Y=localStorage.getItem("UserDetails");Y=JSON.parse(Y);let X=Y&&Y.Organization_Id;Y&&Y.id;(0,I.useEffect)((()=>{Q.Z.getUnits({Search:"UOM"},y).then((e=>{console.log("res",e[0].value)})).catch((e=>{console.log(e)})),(async()=>{await A().get("".concat(O._n,"/Erpapp/Itemgroupwithoutpagination/"),{page:1,Is_Active:!0,Is_Deleted:!1},y).then((e=>{console.log("resssss",null===e||void 0===e?void 0:e.data),B(null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log(e)}))})()}),[]);const $=null===j||void 0===j||null===(t=j.Item)||void 0===t?void 0:t.map((e=>e));(0,I.useEffect)((()=>{null===$||void 0===$||$.forEach((e=>{A().get("".concat(O._n,"/Erpapp/Itemtransactionfilter/?Partner_Id=").concat(S,"&Item_Name=").concat(null===e||void 0===e?void 0:e.Item_Name),y).then((e=>{console.error("data",null===e||void 0===e?void 0:e.data),H(null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log("ds",e)}))})),A().get("".concat(O._n,"/Erpapp/Updaterecordsfilter/?Partner_Id=").concat(S,"&Document_Id=").concat(null===j||void 0===j?void 0:j.Store_Id),y).then((e=>{M(null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log("ds",e)}))}),[j]);parseInt(localStorage.getItem("UserId"));let ee=parseInt(localStorage.getItem("PartnerId"));return(0,I.useEffect)((async()=>{try{await A().get("".concat(O._n,"/Erpapp/Itemlistwithoutpagination/?Company_Id=").concat(X,"&Partner_Id=").concat(ee),y).then((e=>{console.log("res",e),K(null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log("Error in retrieving item master===>",e)}))}catch(e){console.log(e)}}),[]),(0,I.useEffect)((()=>{(async()=>{try{var e,t;if(!j||!j.Items||!J)return;const l=await Promise.all(null===j||void 0===j||null===(e=j.Items)||void 0===e?void 0:e.map((async e=>{const t=null===J||void 0===J?void 0:J.find((t=>(null===t||void 0===t?void 0:t.Item_Name)===(null===e||void 0===e?void 0:e.Item_Name)));if(t){const e=null===t||void 0===t?void 0:t.Upload_Image,l=await fetch("".concat(O._n).concat(e)),o=await l.arrayBuffer();return btoa(new Uint8Array(o).reduce(((e,t)=>e+String.fromCharCode(t)),""))}return null})));(0,o.Z)((0,o.Z)({},j),{},{Items:null===j||void 0===j||null===(t=j.Items)||void 0===t?void 0:t.map(((e,t)=>(0,o.Z)((0,o.Z)({},e),{},{Image:l[t]})))})}catch(l){console.log("Error in fetching item images:",l)}})()}),[]),(0,I.useEffect)((()=>{A().get("".concat(O._n,"/Erpapp/CompanyCRUD/?id=").concat(X),y).then((e=>{var t;console.log("D",null===e||void 0===e?void 0:e.data),G(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.DateFormat)})).catch((e=>{console.log(e)}))}),[]),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(P.Z,{style:{display:R?"block":"none"},children:[(0,T.jsx)(i.Z,{variant:"h3",sx:{fontWeight:600},children:"Store Overview"}),(0,T.jsx)(P.Z,{children:(0,T.jsxs)(U.ZP,{value:z,children:[(0,T.jsx)(s.Z,{sx:{borderBottom:0,borderColor:"divider"},children:(0,T.jsxs)(D.Z,{onChange:(e,t)=>{L(t)},"aria-label":"lab API tabs example",children:[(0,T.jsx)(n.Z,{label:"Overview",value:"1",sx:{fontSize:"16px",color:"#000000"}}),(0,T.jsx)(n.Z,{label:"History",value:"3",sx:{fontSize:"16px",color:"#000000"}})]})}),(0,T.jsxs)(E.Z,{value:"1",sx:{p:1.5,minHeight:"350px"},children:[(0,T.jsxs)(P.Z,{className:"row mt-2",children:[(0,T.jsxs)(P.Z,{className:"col col-sm-2 col-md-4 col-lg-3 col-xl-2",children:[(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:b?"14px !important":"12px !important"},children:"Store Id"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:b?"14px !important":"12px !important"},children:"Store Name"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:b?"14px !important":"12px !important"},children:"Store Incharge"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:b?"14px !important":"12px !important"},children:"Business Unit"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:b?"14px !important":"12px !important"},children:"Created Date"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:b?"14px !important":"12px !important"},children:"Longitude"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:b?"14px !important":"12px !important"},children:"Latitude"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontSize:b?"14px !important":"12px !important"},children:"Store Address"})]}),(0,T.jsxs)(P.Z,{className:"col col-sm-5 col-md-5 col-lg-5 col-xl-5",children:[(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:b?"14px !important":"12px !important"},children:[": ",(null===j||void 0===j?void 0:j.Store_Id)||"-"]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:b?"14px !important":"12px !important"},children:[": ",(null===j||void 0===j?void 0:j.Store_Name)||"-"]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:b?"14px !important":"12px !important"},children:[": ",(null===j||void 0===j?void 0:j.Store_Incharge)||"-"]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:b?"14px !important":"12px !important"},children:[": ",(null===j||void 0===j?void 0:j.Own_Partner)||"-"]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:b?"14px !important":"12px !important"},children:[": ",V&&j&&(null===j||void 0===j?void 0:j.Created_Date)&&(0,ne.Z)(new Date(null===j||void 0===j?void 0:j.Created_Date),V)||(null===j||void 0===j?void 0:j.Created_Date)]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:b?"14px !important":"12px !important"},children:[": ",(null===j||void 0===j?void 0:j.Longitude)||"-"]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:b?"14px !important":"12px !important"},children:[": ",(null===j||void 0===j?void 0:j.Lotitude)||"-"]}),(0,T.jsxs)(i.Z,{variant:"h4",sx:{fontSize:b?"14px !important":"12px !important"},children:[": ",null===j||void 0===j?void 0:j.StoreBuilding_Name,",",null===j||void 0===j?void 0:j.Store_Area,",",null===j||void 0===j?void 0:j.Store_City,", ",null===j||void 0===j?void 0:j.Store_State,",",null===j||void 0===j?void 0:j.Store_Country]})]})]}),(0,T.jsx)("br",{})]}),(0,T.jsx)(E.Z,{value:"2",sx:{p:1.5,minHeight:"350px"},children:(0,T.jsx)(P.Z,{children:(0,T.jsx)(k.Z,{autoHeight:!0,autoHideTimeout:4e3,autoHeightMin:p||250,autoHide:!0,hideTracksWhenNotNeeded:!0,id:"no-more-tables",children:(0,T.jsxs)(d.Z,{className:"table table-bordered",children:[(0,T.jsx)(c.Z,{className:"table-head",children:(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{children:"Trn date"}),(0,T.jsx)(u.Z,{children:"Trn Type"}),(0,T.jsx)(u.Z,{children:"Store Id"}),(0,T.jsx)(u.Z,{children:"Store Name"}),(0,T.jsx)(u.Z,{sx:{minWidth:"100px !important",overflow:"hidden",textOverflow:"ellipsis"},children:"UOM"}),(0,T.jsx)(u.Z,{sx:{minWidth:"130px !important",overflow:"hidden",textOverflow:"ellipsis"},children:"Quantity"}),(0,T.jsx)(u.Z,{children:"Unit Price"}),(0,T.jsx)(u.Z,{children:"Value"})]})}),(0,T.jsx)(m.Z,{children:(null===W||void 0===W?void 0:W.GoodsRecipt)!=[]?(0,T.jsxs)(T.Fragment,{children:[null===W||void 0===W||null===(l=W.GoodsRecipt)||void 0===l?void 0:l.map(((e,t)=>{var l;console.log("receipt",e);const o=null===e||void 0===e||null===(l=e.Item)||void 0===l?void 0:l.find((e=>null===$||void 0===$?void 0:$.some((t=>(null===t||void 0===t?void 0:t.Item_Name)===(null===e||void 0===e?void 0:e.Item_Name)))));return(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{children:null===e||void 0===e?void 0:e.Created_Date}),(0,T.jsx)(u.Z,{children:"Material Receipt"}),(0,T.jsx)(u.Z,{children:null===e||void 0===e?void 0:e.TrfIn_Id}),(0,T.jsx)(u.Z,{children:o?null===o||void 0===o?void 0:o.Item_Name:" "}),(0,T.jsx)(u.Z,{children:o?null===o||void 0===o?void 0:o.UOM:""}),(0,T.jsx)(u.Z,{className:"Amount_Fields",children:o?"".concat(null===o||void 0===o?void 0:o.Quantity):"0"}),(0,T.jsx)(u.Z,{className:"Amount_Fields",children:o?"".concat((0,oe.vd)(null===o||void 0===o?void 0:o.Unit_Price)):"0.00"}),(0,T.jsx)(u.Z,{className:"Amount_Fields",children:o?"".concat((0,oe.vd)(null===o||void 0===o?void 0:o.Amount)):"0.00"})]},t)})),null===W||void 0===W||null===(a=W.Materialreturn)||void 0===a?void 0:a.map(((e,t)=>{var l;console.log("receipt",e);const o=null===e||void 0===e||null===(l=e.Item)||void 0===l?void 0:l.find((e=>null===$||void 0===$?void 0:$.some((t=>(null===t||void 0===t?void 0:t.Item_Name)===(null===e||void 0===e?void 0:e.Item_Name)))));return(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{children:null===e||void 0===e?void 0:e.Created_Date}),(0,T.jsx)(u.Z,{children:"Material Return"}),(0,T.jsx)(u.Z,{children:null===e||void 0===e?void 0:e.MatRet_Id}),(0,T.jsx)(u.Z,{children:o?null===o||void 0===o?void 0:o.Item_Name:" "}),(0,T.jsx)(u.Z,{children:o?null===o||void 0===o?void 0:o.UOM:""}),(0,T.jsx)(u.Z,{className:"Amount_Fields",children:o?"".concat(null===o||void 0===o?void 0:o.Quantity):"0"}),(0,T.jsx)(u.Z,{className:"Amount_Fields",children:o?"".concat((0,oe.vd)(null===o||void 0===o?void 0:o.Unit_Price)):"0.00"}),(0,T.jsx)(u.Z,{className:"Amount_Fields",children:o?"".concat((0,oe.vd)(null===o||void 0===o?void 0:o.Amount)):"0.00"})]},t)})),null===W||void 0===W||null===(x=W.Materialtransfer)||void 0===x?void 0:x.map(((e,t)=>{var l;console.log("receipt",e);const o=null===e||void 0===e||null===(l=e.Item)||void 0===l?void 0:l.find((e=>null===$||void 0===$?void 0:$.some((t=>(null===t||void 0===t?void 0:t.Item_Name)===(null===e||void 0===e?void 0:e.Item_Name)))));return(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{children:null===e||void 0===e?void 0:e.Created_Date}),(0,T.jsx)(u.Z,{children:"Material Transfer"}),(0,T.jsx)(u.Z,{children:null===e||void 0===e?void 0:e.MatTransf_Id}),(0,T.jsx)(u.Z,{children:o?null===o||void 0===o?void 0:o.Item_Name:" "}),(0,T.jsx)(u.Z,{children:o?null===o||void 0===o?void 0:o.UOM:""}),(0,T.jsx)(u.Z,{className:"Amount_Fields",children:o?"".concat(null===o||void 0===o?void 0:o.Quantity):"0"}),(0,T.jsx)(u.Z,{className:"Amount_Fields",children:o?"".concat((0,oe.vd)(null===o||void 0===o?void 0:o.Unit_Price)):"0.00"}),(0,T.jsx)(u.Z,{className:"Amount_Fields",children:o?"".concat((0,oe.vd)(null===o||void 0===o?void 0:o.Amount)):"0.00"})]},t)})),null===W||void 0===W||null===(v=W.MeterialRequest)||void 0===v?void 0:v.map(((e,t)=>{var l;console.log("receipt",e);const o=null===e||void 0===e||null===(l=e.Item)||void 0===l?void 0:l.find((e=>null===$||void 0===$?void 0:$.some((t=>(null===t||void 0===t?void 0:t.Item_Name)===(null===e||void 0===e?void 0:e.Item_Name)))));return(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{children:null===e||void 0===e?void 0:e.Created_Date}),(0,T.jsx)(u.Z,{children:"Material Request"}),(0,T.jsx)(u.Z,{children:null===e||void 0===e?void 0:e.MatReq_Id}),(0,T.jsx)(u.Z,{children:o?null===o||void 0===o?void 0:o.Item_Name:" "}),(0,T.jsx)(u.Z,{children:o?null===o||void 0===o?void 0:o.UOM:""}),(0,T.jsx)(u.Z,{className:"Amount_Fields",children:o?"".concat(null===o||void 0===o?void 0:o.Quantity):"0"}),(0,T.jsx)(u.Z,{className:"Amount_Fields",children:o?"".concat((0,oe.vd)(null===o||void 0===o?void 0:o.Unit_Price)):"0.00"}),(0,T.jsx)(u.Z,{className:"Amount_Fields",children:o?"".concat((0,oe.vd)(null===o||void 0===o?void 0:o.Amount)):"0.00"})]},t)}))]}):(0,T.jsx)(r.Z,{children:(0,T.jsx)(u.Z,{colSpan:8,align:"center",children:"No Records"})})})]})})})}),(0,T.jsx)(E.Z,{value:"3",sx:{p:1.5,minHeight:"350px"},children:(0,T.jsx)(ve,{updatedHistory:F,itemId:"Store Id"})})]})})]}),(0,T.jsx)(P.Z,{children:(0,T.jsxs)(_.Z,{"aria-label":"split button",onClick:()=>{h(!0),g(!1)},children:[(0,T.jsx)(C.Z,{className:"plus-button",children:"Close"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(ue.FU5,{size:18})})]})})]})},Pe=(ye.Z.getAllCountries(),e=>{var t,l,a,s,n,p,h,b;const{name1:U,name3:D,name4:E,name5:w,name6:L,countries:W,states:H,cities:F,zones:M,getId4:V,getId5:G,getId6:J,id4:K,userRolePermissions:Y}=(0,I.useContext)(Ee),Q=localStorage.getItem("accesstoken"),X={headers:{Authorization:"Bearer ".concat(Q),"Content-Type":"application/json",Accept:"application/json"}},$=(0,ce.Z)(),ee=(0,re.Z)($.breakpoints.down("lg")),[te,le]=(0,I.useState)(!0),[ae,ie]=(0,I.useState)(!1),[se,ne]=(0,I.useState)(!1),[de,ue]=(0,I.useState)(!1),[me,xe]=(0,I.useState)(!1),[ve,pe]=(0,I.useState)(!1),[ge,ye]=(0,I.useState)({City_Name:E}),[_e,fe]=(0,I.useState)(),[Pe,Ue]=(0,I.useState)(""),[De,we]=(0,I.useState)(V),[Ae,Be]=(0,I.useState)({}),[Oe,ke]=(0,I.useState)(""),[Re,qe]=(0,I.useState)(""),[ze,Te]=(0,I.useState)(""),[Le,We]=(0,I.useState)(""),[He,Fe]=(0,I.useState)(""),[Me,Ve]=(0,I.useState)(""),[Ge,Je]=(0,I.useState)([]),[Ke,Ye]=(0,I.useState)([]),[Qe,Xe]=(0,I.useState)([]),[$e,et]=(0,I.useState)([]),[tt,lt]=(0,I.useState)(U),[ot,at]=(0,I.useState)(D),[it,st]=(0,I.useState)(E),[nt,dt]=(0,I.useState)(G),[ct,rt]=(0,I.useState)(w),[ut,mt]=(0,I.useState)(""),[xt,vt]=(0,I.useState)(""),pt=async()=>{await A().get("".concat(O._n,"/Erpapp/PartnerListreportDropdown/"),X).then((e=>{e&&console.log(e),Xe(null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log("Error in retrieving business unit list===>",e)}))};(0,I.useEffect)((()=>{pt()}),[]),(0,I.useEffect)((()=>{(async()=>{try{const e=await Ce.Z.listofDropdownEmployees(nt,X);e&&(console.log("RES",e),Ye(e))}catch(e){console.error(e)}})()}),[nt]);const ht=()=>{Ie.getStoreDropdownList(nt,X).then((e=>{console.log(e),et(e)})).catch((e=>{console.log(e)}))};(0,I.useEffect)((()=>{ht()}),[]);const gt=(0,I.useCallback)((async()=>{try{if(void 0!==Me&&""!==Me){const e=await fetch("https://nominatim.openstreetmap.org/search?q=".concat(encodeURIComponent(Me),"&format=json&limit=1")),t=await e.json();console.log("dataaa",t),(null===t||void 0===t?void 0:t.length)>0?(vt(t[0].lat),mt(t[0].lon)):(vt(""),mt(""),B.Am.error("Location not found"))}}catch(e){console.error("Error:",e)}}),[Me]),{reset:jt,register:Zt,handleSubmit:Nt,formState:{errors:yt}}=(0,Ze.cI)({mode:"onBlur",resolver:(0,Ne.X)(je.kk)});(0,I.useEffect)((()=>{(async()=>{await A().get("".concat(O._n,"/Erpapp/PartnerListreportDropdown/"),X).then((e=>{console.log("Partner Response",null===e||void 0===e?void 0:e.data);const t=null===e||void 0===e?void 0:e.data,l=null===t||void 0===t?void 0:t.filter((e=>(null===e||void 0===e?void 0:e.BusinessUnit_City)===(null===ge||void 0===ge?void 0:ge.City_Name))),o=null===l||void 0===l?void 0:l.filter((e=>!(null!==Ge&&void 0!==Ge&&Ge.some((t=>t.id===e.id)))));console.log("filterPartners",o,l),Je(l)})).catch((e=>{console.log(e)}))})()}),[ge]);const _t=async e=>{try{const t=await A().get("".concat(O._n,"/Erpapp/storeeditdropdownlist/?Partner_Id=").concat(null===e||void 0===e?void 0:e.Partner_Id),X);return null===t||void 0===t?void 0:t.data}catch(t){console.log(t)}},[Ct,St]=(0,I.useState)("");return(0,I.useEffect)((()=>{const e=(0,oe.np)("Stores");e&&e.then((e=>{console.log("result",e),St(e)})).catch((e=>{console.error(e)}))}),[Ct]),(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(P.Z,{children:[(0,T.jsxs)(P.Z,{className:"card",sx:{p:2,borderRadius:0,m:0},children:[(0,T.jsxs)(P.Z,{sx:{display:!0===te?"block":"none"},children:[(0,T.jsx)(P.Z,{sx:{position:"absolute",right:15,display:"flex",justifyContent:"flex-end"},children:Array.isArray(Y)&&Y.includes(301)&&(0,T.jsx)(z.pO,{handleClick:()=>{ie(!0)},name:"Add Store"})}),(0,T.jsx)("br",{}),(0,T.jsx)(P.Z,{sx:{mt:{lg:3,md:5,xs:5},minHeight:"300px"},children:(0,T.jsx)(k.Z,{autoHeight:!0,autoHideTimeout:4e3,autoHeightMin:e||300,autoHide:!0,hideTracksWhenNotNeeded:!0,id:"no-more-tables",children:(0,T.jsxs)(d.Z,{stickyHeader:!0,className:"table table-borderless",children:[(0,T.jsx)(c.Z,{className:"table-head",children:(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Store Id"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Store Name"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Store Incharge"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Zone Name"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Action"})]})}),(0,T.jsx)(m.Z,{children:(null===$e||void 0===$e?void 0:$e.filter((e=>(null===e||void 0===e?void 0:e.Store_Area)===L)).length)>0?null===$e||void 0===$e?void 0:$e.filter((e=>e.Store_Area===L)).map((e=>(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{padding:"checkbox","data-title":"Status",children:(0,T.jsx)(x.Z,{control:(0,T.jsx)(v.Z,{color:"primary",size:"small"})})}),(0,T.jsx)(u.Z,{"data-title":"Store Id",onClick:()=>{Array.isArray(Y)&&Y.includes(303)?(ue(!0),le(!1),Be(e)):(pe(!0),le(!0),ue(!1))},sx:{color:"#00BFFF",cursor:"pointer"},children:null===e||void 0===e?void 0:e.Store_Id}),(0,T.jsx)(u.Z,{"data-title":"Store Name",children:null===e||void 0===e?void 0:e.Store_Name}),(0,T.jsx)(u.Z,{"data-title":"Store Incharge",children:(null===e||void 0===e?void 0:e.Store_Incharge)||"-"}),(0,T.jsx)(u.Z,{"data-title":"Zone Name",children:null===e||void 0===e?void 0:e.Store_Area}),(0,T.jsx)(u.Z,{"data-title":"Action",children:(0,T.jsx)(z.i8,{userRolePermissions:Y,editPermissionId:302,deletePermissionId:304,onClickEdit:()=>(async e=>{ne(!0),Be(e),await A().get("".concat(O._n,"/Erpapp/StoremasterCRUD/?Store_Id=").concat(null===e||void 0===e?void 0:e.Store_Id),X).then((e=>{var t,l,o,a,i,s,n,d,c,r,u,m,x;console.log(null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id&&(Te(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.Store_Name),Fe(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.StoreBuilding_Name),Ve(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.Store_Area),st(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.Store_City),at(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.Store_State),lt(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.Store_Country),We(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.Store_Incharge),rt(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.Own_Partner),dt(null===e||void 0===e||null===(r=e.data)||void 0===r||null===(u=r.Partner_Id)||void 0===u?void 0:u.id),vt(null===e||void 0===e||null===(m=e.data)||void 0===m?void 0:m.Lotitude),mt(null===e||void 0===e||null===(x=e.data)||void 0===x?void 0:x.Longitude))})).catch((e=>{console.log(e)}))})(e),onClickDelete:()=>(async e=>{const t=await _t(e);(null===t||void 0===t?void 0:t.length)>0?B.Am.warning("You cannot delete this record because it is being used somewhere."):(xe(!0),Be(e))})(e),align:"left"})})]},e.id))):(0,T.jsx)(r.Z,{children:(0,T.jsx)(u.Z,{colSpan:10,sx:{textAlign:"center"},children:"No Records"})})})]})})})]}),de&&Array.isArray(Y)&&Y.includes(303)?(0,T.jsx)(be,{currentData:Ae,countries:W,states:H,cities:F,zones:M,name1:U,name3:D,name4:E,name5:w,name6:L,getId5:G,openViewStore:de,setEditOverviewItem:ue,openListStore:te,setListStore:le,fullScreen:ee}):(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(he.cF,{flag:ve,setFlag:pe})})]}),(0,T.jsx)(P.Z,{children:(0,T.jsx)(g.Z,{fullWidth:!0,open:se,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"lg",children:(0,T.jsxs)("form",{onSubmit:e=>{e.preventDefault();var t={id:null===Ae||void 0===Ae?void 0:Ae.id,Store_Id:null===Ae||void 0===Ae?void 0:Ae.Store_Id,Store_Name:ze,StoreBuilding_Name:He,Store_Street:null===Ae||void 0===Ae?void 0:Ae.Store_Street,Store_Area:Me,Store_City:it,Store_State:ot,Store_Country:tt,Store_Incharge:Le,Own_Partner:ct,Items:null===Ae||void 0===Ae?void 0:Ae.Items,Lotitude:xt,Longitude:ut,Partner_OrganizationId:localStorage.getItem("OrganizationId"),Store_UserId:localStorage.getItem("UserId"),Partner_Id:parseInt(nt),Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_Date:(new Date).toJSON().slice(0,10),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))};A().put("".concat(O._n,"/Erpapp/StoremasterCRUD/"),t,X).then((e=>{var t;if(console.log(null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id){B.Am.success("Updated Successfully"),ht(),ne(!1);let e=[];ze!==(null===Ae||void 0===Ae?void 0:Ae.Store_Name)&&e.push("Store Name"),He!==(null===Ae||void 0===Ae?void 0:Ae.StoreBuilding_Name)&&e.push("Building Name"),Me!==(null===Ae||void 0===Ae?void 0:Ae.Store_Area)&&e.push("Location"),it!==(null===Ae||void 0===Ae?void 0:Ae.Store_City)&&e.push("City"),ot!==(null===Ae||void 0===Ae?void 0:Ae.Store_State)&&e.push("State"),tt!==(null===Ae||void 0===Ae?void 0:Ae.Store_Country)&&e.push("Country"),Le!==(null===Ae||void 0===Ae?void 0:Ae.Store_Incharge)&&e.push("Store Incharge"),ct!==(null===Ae||void 0===Ae?void 0:Ae.Own_Partner)&&e.push("Business Unit"),xt!==(null===Ae||void 0===Ae?void 0:Ae.Lotitude)&&e.push("Latitude"),ut!==(null===Ae||void 0===Ae?void 0:Ae.Longitude)&&e.push("Longitude");let t=localStorage.getItem("Username");(null===e||void 0===e?void 0:e.length)>0&&A().post("".concat(O._n,"/Erpapp/Updaterecordscrud/"),{Document_Id:null===Ae||void 0===Ae?void 0:Ae.Store_Id,Updated_Person:"".concat(t," edited this store."),Is_Deleted:!1,Updated_Time:"".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds()),Updated_Field:e.join(","),Partner_Id:parseInt(localStorage.getItem("PartnerId")),Updated_By:parseInt(localStorage.getItem("UserId"))},X).then((e=>{console.log("Result",e.data)})).catch((e=>{console.log(e.message)}))}})).catch((e=>{console.log(e),B.Am.error("Store is already exists")}))},children:[(0,T.jsx)(j.Z,{children:(0,T.jsx)(P.Z,{sx:{mt:2,minHeight:"300px"},children:(0,T.jsxs)(Z.ZP,{container:!0,xs:12,children:[(0,T.jsx)(Z.ZP,{item:!0,xs:12,md:6,children:(0,T.jsxs)(Z.ZP,{container:!0,xs:12,children:[(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["Store Id ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({className:"col-12 input-box",name:"storeId"},Zt("storeId")),{},{value:null===Ae||void 0===Ae?void 0:Ae.Store_Id,placeholder:"Automatic"===Ct?"Auto Generated":"Store Id",variant:"outlined",autoComplete:"off",disabled:"Automatic"===Ct,inputProps:{maxLength:11,title:"Please enter a maximum of 11 digits"}}))})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["Store Name ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsxs)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:[(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({className:"col-12 input-box  ".concat(yt.storeName?"is-invalid":""),name:"storeName"},Zt("storeName")),{},{value:ze,onChange:e=>{Te(e.target.value),console.log(e.target.value)},placeholder:"Store Name",autoComplete:"off"})),(0,T.jsx)(P.Z,{style:{color:"red"},children:!ze&&(null===(t=yt.storeName)||void 0===t?void 0:t.message)})]})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["Building Name ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsxs)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:[(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({className:"col-12 input-box  ".concat(yt.buildingName?"is-invalid":""),name:"buildingName"},Zt("buildingName")),{},{value:He,onChange:e=>Fe(e.target.value),placeholder:"Building Name",autoComplete:"off"})),(0,T.jsx)(P.Z,{style:{color:"red"},children:!He&&(null===(l=yt.buildingName)||void 0===l?void 0:l.message)})]})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["Country ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:(0,T.jsxs)(S.Z,{className:"col-12",children:[(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(yt.countryName?"is-invalid":""),name:"countryName",options:W,getOptionLabel:e=>e?null===e||void 0===e?void 0:e.Country_Name:"",value:(null===W||void 0===W?void 0:W.find((e=>(null===e||void 0===e?void 0:e.Country_Name)===tt)))||null,onChange:(e,t)=>{lt(null===t||void 0===t?void 0:t.Country_Name),at(null),st(null),console.log("Selected Country:",t)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)((0,o.Z)({},e),Zt("countryName")),{},{placeholder:"Select Country"})),disabled:!0}),(0,T.jsx)(P.Z,{style:{color:"red"},children:!tt&&(null===(a=yt.countryName)||void 0===a?void 0:a.message)})]})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["State ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:(0,T.jsxs)(S.Z,{className:"col-12",children:[(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(yt.stateName?"is-invalid":""),name:"stateName",options:H,getOptionLabel:e=>e?null===e||void 0===e?void 0:e.State_Name:"",value:(null===H||void 0===H?void 0:H.find((e=>(null===e||void 0===e?void 0:e.State_Name)===ot)))||null,onChange:(e,t)=>{at(null===t||void 0===t?void 0:t.State_Name),st(null),console.log("Selected State:",t)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)((0,o.Z)({},e),Zt("stateName")),{},{placeholder:"Select State"})),disabled:!0}),(0,T.jsx)(P.Z,{style:{color:"red"},children:!ot&&(null===(s=yt.stateName)||void 0===s?void 0:s.message)})]})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["City ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:(0,T.jsxs)(S.Z,{className:"col-12",children:[(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(yt.cityName?"is-invalid":""),name:"cityName",options:F,getOptionLabel:e=>e?null===e||void 0===e?void 0:e.City_Name:"",value:(null===F||void 0===F?void 0:F.find((e=>(null===e||void 0===e?void 0:e.City_Name)===it)))||null,onChange:(e,t)=>{st(null===t||void 0===t?void 0:t.City_Name),console.log("Selected City:",t)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)((0,o.Z)({},e),Zt("cityName")),{},{placeholder:"Select City"})),disabled:!0}),(0,T.jsx)(P.Z,{style:{color:"red"},children:!it&&(null===(n=yt.cityName)||void 0===n?void 0:n.message)})]})})]})]})}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,md:6,children:(0,T.jsxs)(Z.ZP,{container:!0,xs:12,children:[(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-sm-12 col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["Choose a BU ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsxs)(P.Z,{className:"col-sm-12 col-md-12 col-lg-6 col-xl-8",children:[(0,T.jsx)(S.Z,{className:"col-12",children:(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(yt.partnerName?"is-invalid":""),onFocus:pt,name:"partnerName",options:null===Qe||void 0===Qe?void 0:Qe.map((e=>e)),getOptionLabel:e=>null===e||void 0===e?void 0:e.Partner_Name,value:(null===Qe||void 0===Qe?void 0:Qe.find((e=>(null===e||void 0===e?void 0:e.Partner_Name)===ct)))||null,onChange:(e,t)=>{rt(null===t||void 0===t?void 0:t.Partner_Name),dt(null===t||void 0===t?void 0:t.id)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)((0,o.Z)({},e),Zt("partnerName")),{},{placeholder:"Choose a business unit",autoComplete:"off",variant:"outlined"})),disabled:!0})}),(0,T.jsx)(P.Z,{style:{color:"red"},children:!ct&&(null===(p=yt.partnerName)||void 0===p?void 0:p.message)})]})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["Location ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsxs)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:[(0,T.jsx)(S.Z,{className:"col-12",children:(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(yt.Location?"is-invalid":""),name:"location",options:M,getOptionLabel:e=>null===e||void 0===e?void 0:e.Zone_Name,value:(null===M||void 0===M?void 0:M.find((e=>(null===e||void 0===e?void 0:e.Zone_Name)===Me)))||null,onChange:(e,t)=>{Ve(null===t||void 0===t?void 0:t.Zone_Name),gt(null===t||void 0===t?void 0:t.Zone_Name)},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)((0,o.Z)({},e),Zt("location")),{},{placeholder:"Location",autoComplete:"off",variant:"outlined"})),disabled:!0})}),(0,T.jsx)(P.Z,{style:{color:"red"},children:!Me&&(null===(h=yt.location)||void 0===h?void 0:h.message)})]})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["Longitude ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:(0,T.jsx)(N.Z,{className:"col-12 input-box",name:"longitude",value:ut,placeholder:"Longitude",autoComplete:"off",disabled:!0})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["Latitude ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsx)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:(0,T.jsx)(N.Z,{className:"col-12 input-box",name:"latitude",value:xt,placeholder:"Latitude",autoComplete:"off",disabled:!0})})]}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,T.jsxs)(i.Z,{className:"col-md-12 col-lg-6 col-xl-4 input-label",sx:{mt:2},children:["Store Incharge ",(0,T.jsx)("span",{className:"required",children:"*"})]}),(0,T.jsxs)(P.Z,{className:"col-md-12 col-lg-6 col-xl-8",children:[(0,T.jsx)(S.Z,{className:"col-12",children:(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(yt.storeIncharge?"is-invalid":""),name:"storeIncharge",options:Ke,getOptionLabel:e=>"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName),value:(null===Ke||void 0===Ke?void 0:Ke.find((e=>"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName)===Le)))||null,onChange:(e,t)=>{We("".concat(null===t||void 0===t?void 0:t.Employee_FirstName," ").concat(null===t||void 0===t?void 0:t.Employee_LasttName))},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)((0,o.Z)({},e),Zt("storeIncharge")),{},{placeholder:"Store Incharge",autoComplete:"off",variant:"outlined"}))})}),(0,T.jsx)(P.Z,{style:{color:"red"},children:!Le&&(null===(b=yt.storeIncharge)||void 0===b?void 0:b.message)})]})]})]})})]})})}),(0,T.jsx)(y.Z,{children:(0,T.jsxs)(P.Z,{className:"buttons",sx:{mb:3,display:"flex",justifyContent:"end"},children:[(0,T.jsxs)(_.Z,{"aria-label":"split button",type:"submit",color:"primary",sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,T.jsx)(C.Z,{type:"submit",className:"plus-button",sx:{width:{md:"99px !important"}},children:"Update"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(R.TvB,{size:18})})]}),(0,T.jsxs)(_.Z,{"aria-label":"split button",onClick:()=>{ne(!1),jt()},sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,T.jsx)(C.Z,{className:"plus-button",sx:{width:{md:"99px !important"}},children:"Cancel"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(q.KZq,{size:20})})]})]})})]})})}),(0,T.jsxs)(P.Z,{children:[ae&&(0,T.jsx)(Se,{countries:W,states:H,cities:F,zones:M,name1:U,name3:D,name4:E,name5:w,name6:L,getId5:G,openCreateStore:ae,setOpenCreateStore:ie,getStores:ht,fullScreen:ee}),me&&(0,T.jsx)(he.e4,{flag:me,setFlag:xe,handleClick:async()=>{await A().delete("".concat(O._n,"/Erpapp/StoremasterCRUD/?Store_Id=").concat(null===Ae||void 0===Ae?void 0:Ae.Store_Id),X).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id&&B.Am.success("Store Deleted Successfully.")})).catch((e=>{console.log(e)}))},content:"Are you sure you want to delete the store",id:null===Ae||void 0===Ae?void 0:Ae.Store_Name})]})]})})});var Ue=l(16030),De=l(67965);const Ee=(0,I.createContext)();function we(e){let{scrollHeight:t}=e;const l=localStorage.getItem("accesstoken"),w={headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json",Accept:"application/json"}},V=(0,Ue.I0)(),{userRolePermissions:G,formPermissions:J,modulePermissions:K}=(0,Ue.v9)(De.YT),[Y,Q]=(0,I.useState)({}),[X,$]=(0,I.useState)(""),[ee,te]=(0,I.useState)(""),[le,oe]=(0,I.useState)(""),[ae,ie]=(0,I.useState)(""),[se,ne]=(0,I.useState)(""),[de,ce]=(0,I.useState)(""),[re,me]=(0,I.useState)(""),[ve,pe]=(0,I.useState)(""),[he,je]=(0,I.useState)(""),[Ze,Ne]=(0,I.useState)(""),[ye,_e]=(0,I.useState)(""),[Ce,Se]=(0,I.useState)(""),[fe,Ie]=(0,I.useState)("1"),[be,we]=(0,I.useState)([]),[Ae,Be]=(0,I.useState)([]),[Oe,ke]=(0,I.useState)([]),[Re,qe]=(0,I.useState)([]),[ze,Te]=(0,I.useState)([]),[Le,We]=(0,I.useState)([]),[He,Fe]=(0,I.useState)(""),[Me,Ve]=(0,I.useState)(de),[Ge,Je]=(0,I.useState)(""),[Ke,Ye]=(0,I.useState)(""),[Qe,Xe]=(0,I.useState)(""),[$e,et]=(0,I.useState)(""),[tt,lt]=(0,I.useState)(""),[ot,at]=(0,I.useState)(""),[it,st]=(0,I.useState)(""),[nt,dt]=(0,I.useState)({});let ct=(0,xe.Z)("down","lg");const[rt,ut]=(0,I.useState)(!1),[mt,xt]=(0,I.useState)(!1),[vt,pt]=(0,I.useState)(!1),[ht,gt]=(0,I.useState)(!1),[jt,Zt]=(0,I.useState)(!1),[Nt,yt]=(0,I.useState)(!1),[_t,Ct]=(0,I.useState)(!1),[St,ft]=(0,I.useState)(!1),[It,bt]=(0,I.useState)(!1),[Pt,Ut]=(0,I.useState)(!1),[Dt,Et]=(0,I.useState)([]),[wt,At]=(0,I.useState)([]),[Bt,Ot]=(0,I.useState)(""),[kt,Rt]=(0,I.useState)(""),[qt,zt]=(0,I.useState)(""),[Tt,Lt]=(0,I.useState)(""),[Wt,Ht]=(0,I.useState)(""),[Ft,Mt]=(0,I.useState)(""),[Vt,Gt]=(0,I.useState)(""),Jt=()=>{ut(!1),xt(!1),pt(!1),Q({}),Ve(""),Je(""),Ye(""),et(""),at(""),st("")},Kt=(0,I.useCallback)((async()=>{await A().get("".concat(O._n,"/Erpapp/EntityLists/"),w).then((e=>{var t,l;console.log(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results),we(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.results)})).catch((e=>{console.log("ds",e)}))}),[be]),Yt=async()=>{await A().get("".concat(O._n,"/Erpapp/EntityDetailsCRUD/?id=").concat(Bt),w).then((e=>{var t,l;console.log("entityid",null===e||void 0===e?void 0:e.data),$(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Entity_Id),ce(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.Entity_Name)})).catch((e=>{console.log("ds",e)}))},Qt=async()=>{await A().post("".concat(O._n,"/Erpapp/CountryLists/"),{Entity_Id:Bt},w).then((e=>{console.log(null===e||void 0===e?void 0:e.data),Be(null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log("ds",e)}))},Xt=async()=>{await A().get("".concat(O._n,"/Erpapp/CountryDetailsCRUD/?id=").concat(kt),w).then((e=>{var t,l;console.log("countryid",null===e||void 0===e?void 0:e.data),te(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Country_Id),me(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.Country_Name)})).catch((e=>{console.log("ds",e)}))},$t=async()=>{await A().post("".concat(O._n,"/Erpapp/RegionLists/"),{Country_Id:kt},w).then((e=>{console.log(null===e||void 0===e?void 0:e.data),ke(null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log("ds",e)}))},el=async()=>{await A().get("".concat(O._n,"/Erpapp/RegionDetailsCRUD/?id=").concat(qt),w).then((e=>{var t,l;console.log("regionid",null===e||void 0===e?void 0:e.data),oe(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Region_Id),pe(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.Region_Name)})).catch((e=>{console.log("ds",e)}))},tl=async()=>{await A().post("".concat(O._n,"/Erpapp/StateLists/"),{Entity_Id:Bt,Country_Id:kt,Region_Id:qt},w).then((e=>{var t;console.log("res?.data",null===e||void 0===e?void 0:e.data);const l=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.filter((e=>(null===e||void 0===e?void 0:e.Entity_Id)===Bt&&(null===e||void 0===e?void 0:e.Country_Id)===kt&&(null===e||void 0===e?void 0:e.Region_Id)===qt));qe(l)})).catch((e=>{console.log("ds",e)}))},ll=async()=>{await A().get("".concat(O._n,"/Erpapp/StateDetailsCRUD/?id=").concat(Tt),w).then((e=>{var t,l;console.log("stateid",null===e||void 0===e?void 0:e.data),ie(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.State_Id),je(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.State_Name)})).catch((e=>{console.log("ds",e)}))},ol=async()=>{await A().post("".concat(O._n,"/Erpapp/CityLists/"),{State_Id:Tt},w).then((e=>{console.log(null===e||void 0===e?void 0:e.data),Te(null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log("ds",e)}))},al=async()=>{await A().get("".concat(O._n,"/Erpapp/CityDetailsCRUD/?id=").concat(Wt),w).then((e=>{var t,l;console.log("cityid",null===e||void 0===e?void 0:e.data),ne(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.City_Id),Ne(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.City_Name)})).catch((e=>{console.log("ds",e)}))},il=async()=>{await A().post("".concat(O._n,"/Erpapp/ZoneLists/"),{City_Id:Wt},w).then((e=>{console.log(null===e||void 0===e?void 0:e.data),We(null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log(e)}))};(0,I.useEffect)((()=>{Yt(),Xt(),el(),ll(),al(),Kt(),Qt(),$t(),tl(),ol(),il(),sl(),nl()}),[]),(0,I.useEffect)((()=>{const e=null===be||void 0===be?void 0:be.find(((e,t)=>t+1===(null===be||void 0===be?void 0:be.length)));if(e){const t=null===e||void 0===e?void 0:e.Entity_Id,l=(parseInt(t,10)+1).toString().padStart(null===t||void 0===t?void 0:t.length,"0");Fe(l),console.log("numericPart",l)}}),[He]);(0,I.useEffect)((()=>{const e=null===Ae||void 0===Ae?void 0:Ae.filter(((e,t)=>t+1===(null===Ae||void 0===Ae?void 0:Ae.length)));if(e){var t;const l=null===(t=e[0])||void 0===t?void 0:t.Country_Id,o=(parseInt(l,10)+1).toString().padStart(null===l||void 0===l?void 0:l.length,"0");Xe(o)}}),[Ke]);(0,I.useEffect)((()=>{const e=null===Oe||void 0===Oe?void 0:Oe.filter(((e,t)=>t+1===(null===Oe||void 0===Oe?void 0:Oe.length)));if(e){var t;const l=null===(t=e[0])||void 0===t?void 0:t.Region_Id,o=(parseInt(l,10)+1).toString().padStart(null===l||void 0===l?void 0:l.length,"0");lt(o)}}),[ot]);const sl=()=>{A().get("https://countriesnow.space/api/v0.1/countries",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{var t,l;console.log(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data),Et(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data)})).catch((e=>{console.log("ds",e)}))},nl=()=>{A().post("https://countriesnow.space/api/v0.1/countries/states",{country:Ke.country},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{var t,l;console.log(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data);var o=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data;At(null===o||void 0===o?void 0:o.states)})).catch((e=>{console.log("ds",e)}))};return(0,I.useEffect)((()=>{V((0,De.sr)(l))}),[]),(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(a.Z,{children:[(0,T.jsx)(b.Z,{}),(0,T.jsx)(i.Z,{variant:"h3",sx:{fontWeight:600},children:"Organization Structure"}),(0,T.jsx)(i.Z,{variant:"h4",sx:{fontWeight:500},children:"Users shall use this form to set up the Organization structure for all operational activities."}),(0,T.jsx)(P.Z,{children:(0,T.jsxs)(U.ZP,{value:fe,children:[(0,T.jsx)(s.Z,{sx:{borderBottom:0,borderColor:"divider",overflow:"auto",mb:-1},children:(0,T.jsxs)(D.Z,{onChange:(e,t)=>{switch(console.log("newValuenewValue",t,fe),fe){case"1":fe<t?ht?Ie(t,e):B.Am.error("Choose Your Entity"):Ie(t,e);break;case"2":fe<t?ht&&jt?Ie(t,e):B.Am.error("Choose Your Country"):Ie(t,e);break;case"3":fe<t?ht&&jt&&Nt?Ie(t,e):B.Am.error("Choose Your Region"):Ie(t,e);break;case"4":fe<t?ht&&jt&&Nt&&_t?Ie(t,e):B.Am.error("Choose Your State"):Ie(t,e);break;case"5":fe<t?ht&&jt&&Nt&&_t&&St?Ie(t,e):B.Am.error("Choose Your City"):Ie(t,e);break;case"6":fe<t?ht&&jt&&Nt&&_t&&St&&It?Ie(t,e):B.Am.error("Choose Your Business Unit"):Ie(t,e);break;case"7":fe<t?ht&&jt&&Nt&&_t&&St&&It&&Pt?Ie(t,e):B.Am.error("Choose Your Zone"):Ie(t,e);break;default:Ie(t,e)}},"aria-label":"scrollable auto tabs example",variant:"scrollable",scrollButtons:!!ct,allowScrollButtonsMobile:!0,children:[(0,T.jsx)(n.Z,{label:"Legal Entity",value:"1",sx:{fontSize:"16px",color:"#000000"}}),(0,T.jsx)(n.Z,{label:"Country",value:"2",onClick:()=>{Qt(),Yt()},sx:{fontSize:"16px",color:"#000000"}}),(0,T.jsx)(n.Z,{label:"Region",value:"3",onClick:()=>{$t(),Xt(),Yt(),el()},sx:{fontSize:"16px",color:"#000000"}}),(0,T.jsx)(n.Z,{label:"State",value:"4",onClick:()=>{tl(),Xt(),Yt(),el()},sx:{fontSize:"16px",color:"#000000"}}),(0,T.jsx)(n.Z,{label:"City",value:"5",onClick:()=>{Xt(),Yt(),el(),ll(),ol()},sx:{fontSize:"16px",color:"#000000"}}),(0,T.jsx)(n.Z,{label:"Business Unit",value:"6",onClick:()=>{Xt(),Yt(),el(),ll(),ol()},sx:{fontSize:"16px",color:"#000000"}}),(0,T.jsx)(n.Z,{label:"Zones",value:"7",onClick:()=>{al(),il()},sx:{fontSize:"16px",color:"#000000"}}),(0,T.jsx)(n.Z,{label:"Store",value:"8",onClick:()=>{al(),il()},sx:{fontSize:"16px",color:"#000000"}})]})}),(0,T.jsxs)(Ee.Provider,{value:{entities:be,countries:Ae,regions:Oe,states:Re,cities:ze,zones:Le,id:X,id1:ee,id2:le,id3:ae,id4:se,name:de,name1:re,name2:ve,name3:he,name4:Ze,name5:ye,name6:Ce,setName:ce,setName1:me,setName2:pe,setName3:je,setName4:Ne,setName5:_e,setName6:Se,checkId1:ht,checkId2:jt,checkId3:Nt,checkId4:_t,checkId5:St,checkId6:It,setCheckId1:gt,setCheckId2:Zt,setCheckId3:yt,setCheckId4:Ct,setCheckId5:ft,setCheckId6:bt,setCheckId7:Ut,getId:Bt,getId1:kt,getId2:qt,setGetId2:zt,getId3:Tt,setGetId3:Lt,getId4:Wt,setGetId4:Ht,getId5:Ft,setGetId5:Mt,getId6:Vt,setGetId6:Gt,getCityDatas:ol,getStates:ll,getZoneDatas:il,getStateDatas:tl,userRolePermissions:G,currentData:nt,setCurrentData:dt},children:[(0,T.jsx)(E.Z,{value:"1",index:"1",sx:{ml:-3},children:(0,T.jsxs)(P.Z,{children:[(0,T.jsxs)(P.Z,{className:"card",sx:{p:2,minHeight:"390px",borderRadius:0,m:0},children:[(0,T.jsx)(P.Z,{sx:{position:"absolute",right:15,display:"flex",justifyContent:"flex-end"},children:Array.isArray(G)&&G.includes(121)&&(0,T.jsx)(z.pO,{handleClick:()=>{ut(!0),dt({})},name:"Add Legal Entity"})}),(0,T.jsx)("br",{}),(0,T.jsx)(P.Z,{sx:{mt:{lg:3,md:5,xs:5}},children:(0,T.jsx)(k.Z,{autoHeight:!0,autoHideTimeout:4e3,autoHeightMin:t||349,autoHide:!0,hideTracksWhenNotNeeded:!0,id:"no-more-tables",children:(0,T.jsxs)(d.Z,{stickyHeader:!0,className:"table table-borderless",children:[(0,T.jsx)(c.Z,{className:"table-head",children:(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Code"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Name"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Description"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Action"})]})}),(0,T.jsx)(m.Z,{children:null===be||void 0===be?void 0:be.map(((e,t)=>{var l,o;return(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{padding:"checkbox","data-title":"Status",children:(0,T.jsx)(x.Z,{control:(0,T.jsx)(v.Z,{color:"primary",size:"small",name:"id",value:null===e||void 0===e?void 0:e.Entity_Id,checked:ht===(null===e||void 0===e?void 0:e.Entity_Id),onChange:t=>{gt(t.target.value),Ot(null===e||void 0===e?void 0:e.id),ce(null===e||void 0===e?void 0:e.Entity_Name),Xt()}})})}),(0,T.jsx)(u.Z,{"data-title":"Code",children:null===e||void 0===e?void 0:e.Entity_Id}),(0,T.jsx)(u.Z,{"data-title":"Name",children:null===e||void 0===e?void 0:e.Entity_Name}),(0,T.jsx)(u.Z,{"data-title":"Description",children:null===e||void 0===e?void 0:e.Entity_Description}),(0,T.jsx)(u.Z,{"data-title":"Action",children:(0,T.jsx)(P.Z,{sx:{textAlign:"left"},children:(0,T.jsx)(p.Z,{title:"Delete",children:(0,T.jsx)(h.Z,{size:"small",className:"delete-icon",onClick:()=>(async e=>{await A().delete("".concat(O._n,"/Erpapp/EntityDetailsCRUD/?id=").concat(e),w).then((e=>{var t;console.log(e.data),200===(null===e||void 0===e?void 0:e.status)&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(B.Am.success("Entity deleted successfully"),Kt()):B.Am.error(e.message)})).catch((e=>{console.log(e),B.Am.error(e.message)}))})(null===e||void 0===e?void 0:e.id),disabled:!Array.isArray(G)||null===(l=G||[])||void 0===l||!l.includes(124),children:(0,T.jsx)(ue.ZkW,{color:Array.isArray(G)&&null!==(o=G||[])&&void 0!==o&&o.includes(124)?"":"#C7C8CC"})})})})})]},t)}))})]})})})]}),(0,T.jsx)(g.Z,{open:rt,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,T.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let t=(()=>{let e={};return""!==Me&&null!==Me&&void 0!==Me||(e.entityName="Entity Name is required"),""!==Ge&&null!==Ge&&void 0!==Ge||(e.entityDescription="Entity Description is required"),e})();if(Q(t),0===Object.keys(t).length)if(void 0!==(null===nt||void 0===nt?void 0:nt.id)){var l=(0,o.Z)((0,o.Z)({},nt),{},{Entity_Name:Me,Entity_Description:Ge,Entity_Type_Code:parseInt(He)||parseInt(null===be||void 0===be?void 0:be.length)+1,Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))});A().put("".concat(O._n,"/Erpapp/EntityDetailsCRUD/"),l,w).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(B.Am.success("Entity updated successfully"),ut(!1),Kt()):B.Am.error("Entity Matching Query Doesn't Exist.")})).catch((e=>{console.log(e),(0,W.S)(e)}))}else{l={Entity_Name:Me,Entity_Description:Ge,Entity_Type_Code:parseInt(He)||parseInt(null===be||void 0===be?void 0:be.length)+1,Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))};A().post("".concat(O._n,"/Erpapp/EntityDetailsCRUD/"),l,w).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(B.Am.success("Entity created successfully"),ut(!1),Kt(),Ve(""),Je("")):B.Am.error("Entity Matching Query Doesn't Exist.")})).catch((e=>{console.log(e),(0,W.S)(e)}))}},children:[(0,T.jsx)(j.Z,{children:(0,T.jsxs)(Z.ZP,{container:!0,children:[(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["Legal Entity Name"," ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(N.Z,{className:"col-12 input-box",id:"outlined-basic",placeholder:"Legal Entity Name",variant:"outlined",name:"entityName",value:Me,onChange:e=>Ve(e.target.value),autoComplete:"off",sx:{minWidth:{xs:"100%"},maxWidth:"1005px"}}),(0,T.jsx)(P.Z,{style:{color:"red"},children:Y.entityName})]}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["Description ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(N.Z,{className:"col-12 multiline-box",id:"outlined-basic",placeholder:"Description",multiline:!0,rows:3,variant:"outlined",name:"entityDescription",value:Ge,onChange:e=>Je(e.target.value),autoComplete:"off",sx:{minWidth:{xs:"100%"},maxWidth:"1005px"}}),(0,T.jsx)(P.Z,{style:{color:"red"},children:Y.entityDescription})]})]})}),(0,T.jsx)(y.Z,{children:(0,T.jsxs)(P.Z,{className:"buttons",sx:{mb:3,display:"flex",justifyContent:{sm:"center",md:"end"}},children:[(0,T.jsxs)(_.Z,{"aria-label":"split button",type:"submit",sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,T.jsx)(C.Z,{type:"submit",className:"plus-button",sx:{width:{md:{md:"99px !important"}}},children:void 0!==(null===nt||void 0===nt?void 0:nt.id)?"Update":"Save"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(R.TvB,{size:18})})]}),(0,T.jsxs)(_.Z,{"aria-label":"split button",onClick:Jt,sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,T.jsx)(C.Z,{className:"plus-button",sx:{width:{md:{md:"99px !important"}}},children:"Cancel"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(q.KZq,{size:20})})]})]})})]})})]})}),(0,T.jsxs)(E.Z,{value:"2",index:"2",sx:{ml:-2},children:[(0,T.jsxs)(P.Z,{className:"card",sx:{p:2,minHeight:"390px",borderRadius:0,m:0},children:[(0,T.jsx)(P.Z,{sx:{position:"absolute",right:15,display:"flex",justifyContent:"flex-end"},children:Array.isArray(G)&&G.includes(85)&&(0,T.jsx)(z.pO,{handleClick:()=>{xt(!0),dt({})},name:"Add Country"})}),(0,T.jsx)("br",{}),(0,T.jsx)(P.Z,{sx:{mt:{lg:3,md:5,xs:5}},children:(0,T.jsx)(k.Z,{autoHeight:!0,autoHideTimeout:4e3,autoHeightMin:t||300,autoHide:!0,hideTracksWhenNotNeeded:!0,id:"no-more-tables",children:(0,T.jsxs)(d.Z,{stickyHeader:!0,className:"table table-borderless",children:[(0,T.jsx)(c.Z,{className:"table-head",children:(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Code"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Name"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Description"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Action"})]})}),(0,T.jsx)(m.Z,{children:null===Ae||void 0===Ae?void 0:Ae.map((e=>(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{padding:"checkbox","data-title":"Status",children:(0,T.jsx)(x.Z,{control:(0,T.jsx)(v.Z,{color:"primary",size:"small",checked:jt===(null===e||void 0===e?void 0:e.Country_Id),value:null===e||void 0===e?void 0:e.Country_Id,onChange:t=>{Zt(t.target.value),Rt(null===e||void 0===e?void 0:e.id),me(null===e||void 0===e?void 0:e.Country_Name),el()}})})}),(0,T.jsxs)(u.Z,{"data-title":"Code",children:[X,null===e||void 0===e?void 0:e.Country_Id]}),(0,T.jsx)(u.Z,{"data-title":"Name",children:null===e||void 0===e?void 0:e.Country_Name}),(0,T.jsx)(u.Z,{"data-title":"Description",children:null===e||void 0===e?void 0:e.Country_Description}),(0,T.jsx)(u.Z,{"data-title":"Action",children:(0,T.jsx)(z.i8,{userRolePermissions:G,editPermissionId:86,deletePermissionId:88,onClickEdit:()=>(async e=>{xt(!0),dt(e),await A().get("".concat(O._n,"/Erpapp/CountryDetailsCRUD/?id=").concat(null===e||void 0===e?void 0:e.id),w).then((e=>{var t,l;console.log(e.data),200===e.status&&(Ye(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Country_Name),et(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.Country_Description))})).catch((e=>{console.log(e)}))})(e),onClickDelete:()=>(async e=>{await A().delete("".concat(O._n,"/Erpapp/CountryDetailsCRUD/?id=").concat(e),w).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data),200===(null===e||void 0===e?void 0:e.status)&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(B.Am.success("Country deleted successfully"),Qt()):B.Am.error(e.message)})).catch((e=>{console.log(e),B.Am.error(e.message)}))})(null===e||void 0===e?void 0:e.id),align:"left"})})]})))})]})})})]}),(0,T.jsx)(g.Z,{open:mt,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,T.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let t=(()=>{let e={};return""!==Ke&&null!==Ke&&void 0!==Ke||(e.countryName="Country Name is required"),""!==$e&&null!==$e&&void 0!==$e||(e.countryDescription="Country Description is required"),e})();if(Q(t),0===Object.keys(t).length)if(void 0!==(null===nt||void 0===nt?void 0:nt.id)){var l=(0,o.Z)((0,o.Z)({},nt),{},{Entity_Id:Bt,Country_Name:Ke,Country_Description:$e,Country_Type_Code:parseInt("".concat(X).concat(Qe)),Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))});A().put("".concat(O._n,"/Erpapp/CountryDetailsCRUD/"),l,w).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id&&(B.Am.success("Country updated successfully"),xt(!1),Qt())})).catch((e=>{console.log(e),(0,W.S)(e)}))}else{l={Entity_Id:Bt,Country_Name:Ke,Country_Description:$e,Country_Type_Code:parseInt("".concat(X).concat(Qe)),Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))};A().post("".concat(O._n,"/Erpapp/CountryDetailsCRUD/"),l,w).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data),201===(null===e||void 0===e?void 0:e.status)&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id&&(B.Am.success("Country created successfully"),xt(!1),Qt(),Ye(""),et(""))})).catch((e=>{console.log(e),(0,W.S)(e)}))}},children:[(0,T.jsx)(j.Z,{children:(0,T.jsxs)(Z.ZP,{container:!0,children:[(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["Entity Name ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(S.Z,{className:"col-12",children:(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(Y.entityName?"is-invalid":""),id:"entityName",name:"entityName",options:null===be||void 0===be?void 0:be.map((e=>e)),getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.Entity_Name?null===e||void 0===e?void 0:e.Entity_Name:"",value:null===be||void 0===be?void 0:be.find((e=>(null===e||void 0===e?void 0:e.Entity_Name)===Me)),onChange:(e,t)=>{Ve(t)},defaultValue:null===be||void 0===be?void 0:be.find((e=>(null===e||void 0===e?void 0:e.Entity_Name)===de)),isOptionEqualToValue:(e,t)=>(null===e||void 0===e?void 0:e.Entity_Name)===t,sx:{minWidth:{xs:"100%"},maxWidth:"1005px"},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Entity Name",variant:"outlined",autoComplete:"off"}))})}),(0,T.jsx)(P.Z,{style:{color:"red"},children:Y.entityName})]}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["Country Name ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(Y.countryName?"is-invalid":""),id:"countryName",name:"countryName",getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.country?null===e||void 0===e?void 0:e.country:"",options:null===Dt||void 0===Dt?void 0:Dt.map((e=>e)),value:void 0!==(null===nt||void 0===nt?void 0:nt.id)?Ke:null===Dt||void 0===Dt?void 0:Dt.find((e=>(null===e||void 0===e?void 0:e.country)===Ke)),onChange:(e,t)=>{Ye(null===t||void 0===t?void 0:t.country)},sx:{minWidth:{xs:"100%"},maxWidth:"1005px",fontSize:"14px"},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Country Name",variant:"outlined",autoComplete:"off"}))}),(0,T.jsx)(P.Z,{style:{color:"red"},children:Y.countryName})]}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsx)(i.Z,{className:"col-12 input-label",children:"Description"})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(N.Z,{className:"multiline-box col-12 ".concat(Y.countryDescription?"is-invalid":""),id:"outlined-basic",placeholder:"Description",multiline:!0,rows:3,variant:"outlined",name:"countryDescription",value:$e,onChange:e=>et(e.target.value),autoComplete:"off",sx:{minWidth:{xs:"100%"},maxWidth:"1005px"}}),(0,T.jsx)(P.Z,{style:{color:"red"},children:Y.countryDescription})]})]})}),(0,T.jsx)(y.Z,{children:(0,T.jsxs)(P.Z,{className:"buttons",sx:{mb:3,display:"flex",justifyContent:"end"},children:[(0,T.jsxs)(_.Z,{"aria-label":"split button",type:"submit",sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,T.jsx)(C.Z,{type:"submit",className:"plus-button",sx:{width:{md:"99px !important"}},children:void 0!==(null===nt||void 0===nt?void 0:nt.id)?"Update":"Save"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(R.TvB,{size:18})})]}),(0,T.jsxs)(_.Z,{"aria-label":"split button",onClick:Jt,sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,T.jsx)(C.Z,{className:"plus-button",sx:{width:{md:"99px !important"}},children:"Cancel"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(q.KZq,{size:20})})]})]})})]})})]}),(0,T.jsxs)(E.Z,{value:"3",index:"3",sx:{ml:-2},children:[(0,T.jsxs)(P.Z,{className:"card",sx:{p:2,minHeight:"380px",borderRadius:0,m:0},children:[(0,T.jsx)(P.Z,{sx:{position:"absolute",right:15,display:"flex",justifyContent:"flex-end"},children:Array.isArray(G)&&G.includes(173)&&(0,T.jsx)(z.pO,{handleClick:()=>{pt(!0),dt({})},name:"Add Region"})}),(0,T.jsx)("br",{}),(0,T.jsx)(P.Z,{sx:{mt:{lg:3,md:5,xs:5}},children:(0,T.jsx)(k.Z,{autoHeight:!0,autoHideTimeout:4e3,autoHeightMin:t||300,autoHide:!0,hideTracksWhenNotNeeded:!0,id:"no-more-tables",children:(0,T.jsxs)(d.Z,{stickyHeader:!0,className:"table table-borderless",children:[(0,T.jsx)(c.Z,{className:"table-head",children:(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Code"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Name"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Description"}),(0,T.jsx)(u.Z,{sx:{fontWeight:600},children:"Action"})]})}),(0,T.jsx)(m.Z,{children:null===Oe||void 0===Oe?void 0:Oe.map((e=>(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(u.Z,{padding:"checkbox","data-title":"Status",children:(0,T.jsx)(x.Z,{control:(0,T.jsx)(v.Z,{color:"primary",size:"small",checked:Nt===(null===e||void 0===e?void 0:e.Region_Id),value:null===e||void 0===e?void 0:e.Region_Id,onChange:t=>{yt(t.target.value),zt(null===e||void 0===e?void 0:e.id),pe(null===e||void 0===e?void 0:e.Region_Name),ll()}})})}),(0,T.jsxs)(u.Z,{"data-title":"Code",children:[X,ee,null===e||void 0===e?void 0:e.Region_Id]}),(0,T.jsx)(u.Z,{"data-title":"Name",children:null===e||void 0===e?void 0:e.Region_Name}),(0,T.jsx)(u.Z,{"data-title":"Description",children:null===e||void 0===e?void 0:e.Region_Description}),(0,T.jsx)(u.Z,{"data-title":"Action",children:(0,T.jsx)(z.i8,{userRolePermissions:G,editPermissionId:174,deletePermissionId:176,onClickEdit:()=>(async e=>{pt(!0),dt(e),await A().get("".concat(O._n,"/Erpapp/RegionDetailsCRUD/?id=").concat(null===e||void 0===e?void 0:e.id),w).then((e=>{var t,l;console.log(e.data),200===e.status&&(at(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.Region_Name),st(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.Region_Description))})).catch((e=>{console.log(e)}))})(e),onClickDelete:()=>(async e=>{await A().delete("".concat(O._n,"/Erpapp/RegionDetailsCRUD/?id=").concat(e),w).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data),200===(null===e||void 0===e?void 0:e.status)&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id?(B.Am.success("Region deleted successfully"),$t()):B.Am.error(e.message)})).catch((e=>{console.log(e),B.Am.error(e.message)}))})(null===e||void 0===e?void 0:e.id),align:"left"})})]})))})]})})})]}),(0,T.jsx)(g.Z,{open:vt,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,T.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let t=(()=>{let e={};return""!==ot&&null!==ot&&void 0!==ot||(e.regionName="Region Name is required"),""!==it&&null!==it&&void 0!==it||(e.regionDescription="Region Description is required"),e})();if(Q(t),0===Object.keys(t).length)if(void 0!==(null===nt||void 0===nt?void 0:nt.id)){var l=(0,o.Z)((0,o.Z)({},nt),{},{Entity_Id:Bt,Country_Id:kt,Region_Name:ot,Region_Description:it,Region_Type_Code:parseInt("".concat(X).concat(ee).concat(tt)),Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))});await A().put("".concat(O._n,"/Erpapp/RegionDetailsCRUD/"),l,w).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data),null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id&&(B.Am.success("Region updated successfully"),pt(!1),$t())})).catch((e=>{console.log(e),(0,W.S)(e)}))}else{if(null===Oe||void 0===Oe?void 0:Oe.some((e=>(null===e||void 0===e?void 0:e.Region_Name)===ot)))B.Am.error("Region Name is already exists");else{l={Entity_Id:Bt,Country_Id:kt,Region_Name:ot,Region_Description:it,Region_Type_Code:parseInt("".concat(X).concat(ee).concat(tt)),Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))};await A().post("".concat(O._n,"/Erpapp/RegionDetailsCRUD/"),l,w).then((e=>{var t;console.log(null===e||void 0===e?void 0:e.data),201===(null===e||void 0===e?void 0:e.status)&&null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.id&&(B.Am.success("Region created successfully"),pt(!1),$t(),at(""),st(""))})).catch((e=>{console.log(e),(0,W.S)(e)}))}}},children:[(0,T.jsx)(j.Z,{children:(0,T.jsxs)(Z.ZP,{container:!0,children:[(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["Entity Name ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(Y.entityName?"is-invalid":""),id:"free-solo-demo",placeholder:"Entity Name",name:"entityName",options:null===be||void 0===be?void 0:be.map((e=>e)),getOptionLabel:e=>null===e||void 0===e?void 0:e.Entity_Name,value:null===be||void 0===be?void 0:be.find((e=>(null===e||void 0===e?void 0:e.Entity_Name)===Me)),onChange:(e,t)=>Ve(t),defaultValue:null===be||void 0===be?void 0:be.find((e=>(null===e||void 0===e?void 0:e.Entity_Name)===de)),sx:{minWidth:{xs:"100%"},maxWidth:"1005px"},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Entity Name",variant:"outlined",autoComplete:"off"}))}),(0,T.jsx)(P.Z,{style:{color:"red"},children:Y.entityName})]}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["Country Name ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(f.Z,{className:"search-select col-12 ".concat(Y.countryName?"is-invalid":""),id:"free-solo-demo",placeholder:"Country Name",name:"countryName",options:null===Ae||void 0===Ae?void 0:Ae.map((e=>e)),getOptionLabel:e=>null===e||void 0===e?void 0:e.Country_Name,value:null===Ae||void 0===Ae?void 0:Ae.find((e=>(null===e||void 0===e?void 0:e.Country_Name)===Ke)),onChange:(e,t)=>{Ye(t)},defaultValue:Ae.find((e=>(null===e||void 0===e?void 0:e.Country_Name)===re)),sx:{minWidth:{xs:"100%"},maxWidth:"1005px",fontSize:"14px"},renderInput:e=>(0,T.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Country Name",variant:"outlined",autoComplete:"off"}))}),(0,T.jsx)(P.Z,{style:{color:"red"},children:Y.countryName})]}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsxs)(i.Z,{className:"col-12 input-label",children:["Region Name ",(0,T.jsx)("span",{className:"required",children:"*"})]})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(N.Z,{className:"input-box col-12 ".concat(Y.regionName?"is-invalid":""),id:"outlined-basic",placeholder:"Region Name",variant:"outlined",name:"regionName",value:ot,onChange:e=>at(e.target.value),autoComplete:"off",sx:{minWidth:{xs:"100%"},maxWidth:"1005px"}}),(0,T.jsx)(P.Z,{style:{color:"red"},children:Y.regionName})]}),(0,T.jsx)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:(0,T.jsx)(i.Z,{className:"col-12 input-label",children:"Description"})}),(0,T.jsxs)(Z.ZP,{item:!0,xs:12,sx:{ml:{sm:0,md:1.5}},children:[(0,T.jsx)(N.Z,{className:"multiline-box col-12 ".concat(Y.regionDescription?"is-invalid":""),id:"outlined-basic",placeholder:"Description",multiline:!0,rows:3,variant:"outlined",name:"regionDescription",value:it,onChange:e=>st(e.target.value),autoComplete:"off",sx:{minWidth:{xs:"100%"},maxWidth:"1005px"}}),(0,T.jsx)(P.Z,{style:{color:"red"},children:Y.regionDescription})]})]})}),(0,T.jsx)(y.Z,{children:(0,T.jsxs)(P.Z,{className:"buttons",sx:{mb:3,display:"flex",justifyContent:"end"},children:[(0,T.jsxs)(_.Z,{"aria-label":"split button",type:"submit",sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,T.jsx)(C.Z,{type:"submit",className:"plus-button",sx:{width:{md:"99px !important"}},children:void 0!==(null===nt||void 0===nt?void 0:nt.id)?"Update":"Save"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(R.TvB,{size:18})})]}),(0,T.jsxs)(_.Z,{"aria-label":"split button",onClick:Jt,sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,T.jsx)(C.Z,{className:"plus-button",sx:{width:{md:"99px !important"}},children:"Cancel"}),(0,T.jsx)(C.Z,{variant:"contained",className:"icon-button",children:(0,T.jsx)(q.KZq,{size:20})})]})]})})]})})]}),(0,T.jsx)(E.Z,{value:"4",index:"4",sx:{ml:-2},children:(0,T.jsx)(F,{})}),(0,T.jsx)(E.Z,{value:"5",index:"5",sx:{ml:-2},children:(0,T.jsx)(H,{})}),(0,T.jsx)(E.Z,{value:"6",index:"6",sx:{ml:-2},children:(0,T.jsx)(ge,{})}),(0,T.jsx)(E.Z,{value:"7",index:"7",sx:{ml:-2},children:(0,T.jsx)(L,{})}),(0,T.jsx)(E.Z,{value:"8",index:"8",sx:{ml:-2},children:(0,T.jsx)(Pe,{})})]})]})}),(0,T.jsx)(M.Z,{Scrollheight:180})]})})}},26479:(e,t,l)=>{l.d(t,{AR:()=>s,NC:()=>i,kk:()=>a});l(72791);var o=l(81724);o.Ry({entityName:o.Z_("Enter your entity name").required("Entity name is required"),entityDescription:o.Z_("Enter your entity description").required("Entity Description is required").min(10,"Entity Description must be at least 10 characters").max(240,"Entity Description must not exceed 240 characters")}),o.Ry({countryName:o.Z_().required("Country name is required"),countryDescription:o.Z_().required("Country Description is required").min(10,"Country Description must be at least 10 characters").max(240,"Country Description must not exceed 240 characters")}),o.Ry({regionName:o.Z_().required("Region name is required"),regionDescription:o.Z_().required("Region Description is required").min(10,"Region Description must be at least 10 characters").max(240,"Region Description must not exceed 240 characters")}),o.Ry({stateName:o.Z_().required("State name is required"),stateDescription:o.Z_().required("State Description is required").min(10,"State Description must be at least 10 characters").max(240,"State Description must not exceed 240 characters")}),o.Ry({cityName:o.Z_().required("City name is required"),cityDescription:o.Z_().required("City Description is required").min(10,"City Description must be at least 10 characters").max(240,"City Description must not exceed 240 characters")}),o.Ry({pincode:o.Z_("Enter the pincode").required("Enter valid pincode"),zoneName:o.Z_("Enter the zone name").required("Zone name is required")}),o.Ry({itemName:o.Z_().required("Item name is required"),uom:o.Z_().required("Uom is required"),purchaseDescription:o.Z_(),inventoryDescription:o.Z_(),purchaseAccount:o.Z_().required("Purchase account is required"),inventoryAccount:o.Z_().required("Inventory account is required")}),o.Ry({itemName:o.Z_().required("Lookup name is required")}),o.Ry({});const a=o.Ry({storeName:o.Z_().required("Store Name is required")}),i=(o.Ry({costCentreName:o.Z_().required("Cost Centre Name is required")}),o.Ry({mailId:o.Z_().required("Mail Id is required"),mailPassword:o.Z_().required("Mail Password is required").min(8,"Mail Password must be at least 8 characters")}),o.Ry({partnerName:o.Z_().required("Partner Name is required"),workflowName:o.Z_().required("Workflow Name is required"),basedOnWorkflow:o.Z_().required("Workflow Based On is required"),documentName:o.Z_().required("Document Name is required"),fieldName:o.Z_().required("Field Name is required"),noOfLevels:o.Z_().required("No of Level is required")}),o.Ry({ruleName1:o.Z_().required("Rule Name is required"),action:o.Z_().required("Action is required")})),s=o.Ry({partnerName:o.Z_().required("Partner Name is required"),workflowName:o.Z_().required("Workflow Name is required"),basedOnWorkflow:o.Z_().required("Workflow Based On is required"),ruleName:o.Z_().required("Rule Name is required"),noOfLevels:o.Z_().required("No of Level is required")})}}]);
//# sourceMappingURL=766.8ba0a553.chunk.js.map