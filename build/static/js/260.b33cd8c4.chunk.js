"use strict";(self.webpackChunkjumbo_react_6_x=self.webpackChunkjumbo_react_6_x||[]).push([[260],{1260:(e,t,s)=>{s.r(t),s.d(t,{default:()=>E});var n=s(1413),o=s(72791),a=s(7993),l=s(20890),i=s(61889),c=s(68096),r=s(40131),d=s(64280),u=s(65523),h=s(10094),m=s(697),x=s(74569),g=s.n(x),j=s(20560),p=s(46170),v=s(89484),y=s(82030),f=s(25680),Z=s(90466),b=s(12891),S=s(35667),C=s(27281),T=s(82839),_=s(57702),k=s(62066),N=s(56355),P=s(24459),w=s(24054),B=s(80184);const A=[{month:"Jan",Target:4e3,Transactions:2400,amt:2400},{month:"Feb",Target:3e3,Transactions:1398,amt:2210},{month:"Mar",Target:2e3,Transactions:9800,amt:2290},{month:"Apr",Target:2780,Transactions:3908,amt:2e3},{month:"May",Target:1890,Transactions:4800,amt:2181},{month:"Jun",Target:2390,Transactions:3800,amt:2500},{month:"Jul",Target:3490,Transactions:4300,amt:2100}],E=()=>{const[e,t]=(0,o.useState)(null),[s,x]=(0,o.useState)(""),[E,K]=(0,o.useState)(""),[U,I]=(0,o.useState)(""),[L,z]=(0,o.useState)(3),[q,J]=(0,o.useState)(""),[D,M]=(0,o.useState)([]),[O,R]=(0,o.useState)(null),[F,G]=(0,o.useState)([]),[V,X]=(0,o.useState)([]),Y=localStorage.getItem("accesstoken"),$={headers:{Authorization:"Bearer ".concat(Y),"Content-Type":"application/json",Accept:"application/json"}},H=28.6139,Q=77.209,{isLoaded:W}=(0,a.Ji)({googleMapsApiKey:"AIzaSyDl22ksIKq0yqXNjnrmy_PYRKcZVbLwAns"});console.log(s,E,U);const ee={lat:(null===e||void 0===e?void 0:e.lat)||H,lng:(null===e||void 0===e?void 0:e.lng)||Q};(0,o.useEffect)((()=>{const e=P.ZP.getStatesOfCountry(null===s||void 0===s?void 0:s.isoCode);G(e)}),[s]),(0,o.useEffect)((()=>{if(s&&E){const e=w.Z.getCitiesOfState(s.isoCode,E.isoCode);X(e)}else X([])}),[s,E]);return(0,o.useEffect)((()=>{g().get("".concat(j._n,"/Erpapp/Partnerlist/"),$).then((e=>{console.log("sevity",e.data.results),M(e.data.results)})).catch((e=>{console.log(e)}))}),[]),console.log("ZoomLevel",L),console.log("ownerNames",D),(0,B.jsxs)(p.Z,{children:[(0,B.jsx)(l.Z,{variant:"h1",children:"Transactions"}),(0,B.jsxs)(i.ZP,{container:!0,spacing:2,sx:{mt:2,mb:2},children:[(0,B.jsxs)(i.ZP,{item:!0,className:"row",xs:4,children:[(0,B.jsx)(l.Z,{className:"col-md-4 input-label",children:"Choose a BU"}),(0,B.jsx)(c.Z,{className:"col-6",children:(0,B.jsx)(r.Z,{options:D,getOptionLabel:e=>(null===e||void 0===e?void 0:e.Partner_Name)||"",value:D.find((e=>(null===e||void 0===e?void 0:e.Partner_Name)===q))||null,onChange:(e,t)=>{J(null===t||void 0===t?void 0:t.Partner_Name),R(t)},renderInput:e=>(0,B.jsx)(d.Z,(0,n.Z)((0,n.Z)({},e),{},{placeholder:"Choose a BU"})),className:"search-select"})})]}),(0,B.jsx)(i.ZP,{item:!0,className:"row",xs:3,children:(0,B.jsxs)(u.Z,{"aria-label":"split button",className:"col-12",onClick:()=>{var e,n,o;(async(e,s,n)=>{try{var o,a,l,i;const e="".concat(O.BusinessUnit_City,", ").concat(O.BusinessUnit_State,", ").concat(O.BusinessUnit_Country),s=await g().get("https://api.opencagedata.com/geocode/v1/json?q=".concat(encodeURIComponent(e),"&key=6c3e49178d1f4cca84a003096c7e1911"));t(null===s||void 0===s||null===(o=s.data)||void 0===o||null===(a=o.results[0])||void 0===a?void 0:a.geometry),console.log("GeoLocation",null===s||void 0===s||null===(l=s.data)||void 0===l||null===(i=l.results[0])||void 0===i?void 0:i.geometry)}catch(c){console.error("Error fetching coordinates:",c),console.error(c.response.data)}})(),e=s,n=E,o=U,console.log("countryyyyy",e,n,o),z(null!==o&&null!==n&&null!==e&&""!==o&&""!==n&&""!==e?11:null!==n&&null!==e&&""!==n&&""!==e?7:null!==e&&""!==e?4:3)},sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,B.jsx)(h.Z,{className:"plus-button",children:"Search"}),(0,B.jsx)(h.Z,{variant:"contained",className:"icon-button",children:(0,B.jsx)(N.U41,{size:18})})]})})]}),(0,B.jsxs)(i.ZP,{container:!0,spacing:2,sx:{mb:3,alignItems:"center"},children:[(0,B.jsx)(i.ZP,{item:!0,xs:6,children:W?(0,B.jsx)(v.Z,{children:(0,B.jsxs)(a.b6,{mapContainerStyle:{height:"500px",width:"100%"},zoom:11,center:ee,children:["(",(0,B.jsx)(a.jC,{position:{lat:null===e||void 0===e?void 0:e.lat,lng:null===e||void 0===e?void 0:e.lng},title:"ERP",onClick:()=>{console.log("info")}}),")"]})}):(0,B.jsx)(v.Z,{children:(0,B.jsx)(m.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,B.jsx)("div",{class:"spinner-grow text-info",role:"status",children:(0,B.jsx)("span",{class:"visually-hidden",children:"Loading..."})})})})}),(0,B.jsx)(i.ZP,{item:!0,xs:6,children:(0,B.jsx)(y.h,{width:"100%",height:200,children:(0,B.jsxs)(f.c,{data:A,margin:{top:0,right:0,left:0,bottom:0},children:[(0,B.jsx)(Z.K,{dataKey:"month"}),(0,B.jsx)(b.B,{}),(0,B.jsx)(S.u,{labelStyle:{color:"black"},itemStyle:{color:"black"},cursor:!1}),(0,B.jsx)(C.D,{}),(0,B.jsx)(T.q,{stroke:"#f5f5f5"}),(0,B.jsx)(_.$,{dataKey:"Target",barSize:20,fill:"#1ABBDE"}),(0,B.jsx)(k.x,{type:"monotone",dataKey:"Transactions",stroke:"#59AA2B"})]})})})]})]})}}}]);
//# sourceMappingURL=260.b33cd8c4.chunk.js.map