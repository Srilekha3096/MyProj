"use strict";(self.webpackChunkjumbo_react_6_x=self.webpackChunkjumbo_react_6_x||[]).push([[568],{49003:(e,l,o)=>{o.r(l),o.d(l,{default:()=>Y});var a=o(46170),s=o(94819),t=o(89484),n=o(20890),i=o(61889),d=o(79836),r=o(56890),c=o(35855),m=o(53994),u=o(53382),v=o(72791),p=o(75985),x=o(82763),h=o(1413),N=o(40131),f=o(64280),j=o(85523),g=o(94454),Z=o(68096),_=o(65523),w=o(10094),b=o(5289),k=o(39157),y=o(97123),S=o(29067),C=o(52510),W=o(59516),F=o(74569),P=o.n(F),L=o(20560),I=o(56355),E=o(36036),A=o(14423),D=o(26550),O=o(10375),B=o(98396),q=o(80184);const R=e=>{let{setListWorkflow:l,setCreateWorkflow:o,listOfWorkflows:a,scrollHeight:t}=e;const F=localStorage.getItem("accesstoken"),R={headers:{Authorization:"Bearer ".concat(F),"Content-Type":"application/json",Accept:"application/json"}},[U,H]=(0,v.useState)([]),[T,z]=(0,v.useState)(!1),[M,V]=(0,v.useState)(!1),[K,Q]=(0,v.useState)([]),[Y,G]=(0,v.useState)([]),[J,X]=(0,v.useState)([]),[$,ee]=(0,v.useState)([]),[le,oe]=(0,v.useState)([]),[ae,se]=(0,v.useState)([]),[te,ne]=(0,v.useState)([]),[ie,de]=(0,v.useState)(""),[re,ce]=(0,v.useState)(""),[me,ue]=(0,v.useState)(""),[ve,pe]=(0,v.useState)(""),[xe,he]=(0,v.useState)(""),[Ne,fe]=(0,v.useState)(""),[je,ge]=(0,v.useState)(""),[Ze,_e]=(0,v.useState)("Amount"),[we,be]=(0,v.useState)(!1),[ke,ye]=(0,v.useState)(""),[Se,Ce]=(0,v.useState)(""),[We,Fe]=(0,v.useState)(""),[Pe,Le]=(0,v.useState)(""),[Ie,Ee]=(0,v.useState)([]),[Ae,De]=(0,v.useState)([{id:"",level:"Level 1",from_value:"",to_value:"",approver_name:"",role:""}]),[Oe,Be]=(0,v.useState)();(0,v.useEffect)((()=>{A.Z.listofDropdownAllEmployees(R).then((e=>{console.log(e),Q(e)})).catch((e=>{console.log(e)}))}),[re]);(0,v.useEffect)((()=>{(async()=>{await P().get("".concat(L._n,"/Erpapp/Workflowlistwithoutpagination/?Partner_Id=").concat(ie),R).then((e=>{H(null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log(e)}))})()}),[ie]);const qe=(e,l)=>{const{name:o,value:a}=e.target,s=[...Ae];s[l][o]="from_value"===o||"to_value"===o?Number(a):a,De(s),console.log(s)};let Re=localStorage.getItem("Username"),Ue=localStorage.getItem("Designation");const He=null===K||void 0===K?void 0:K.filter((e=>("Admin"===Ue||"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName)!==Re)&&!(null!==Ie&&void 0!==Ie&&Ie.includes("".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName)))));return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(S.Z,{}),(0,q.jsx)(n.Z,{variant:"h3",sx:{fontWeight:600},children:"Workflow Approval"}),(0,q.jsx)(n.Z,{variant:"h4",sx:{fontWeight:500},children:"Users shall use this form to set up the approvers to approve various documents"}),(0,q.jsx)(C.Z,{children:(0,q.jsxs)("form",{onSubmit:e=>{var s;if(e.preventDefault(),console.log("workflowsworkflows",U),(()=>{const e={};return void 0!==re&&null!==re&&""!==re||(e.partnerName="Business Unit is required."),void 0!==Ne&&null!==Ne&&""!==Ne||(e.workflowName="Workflow is required."),void 0!==xe&&null!==xe&&""!==xe||(e.ruleName="Rule Name is required."),ve||(e.documentName="Document Name is required."),ke||(e.noOfLevels="No of level is required."),Be(e),0===Object.keys(e).length})())if(null!==U&&void 0!==U&&null!==(s=U.filter((e=>{var l;return(null===e||void 0===e||null===(l=e.Partner_Id)||void 0===l?void 0:l.id)===ie})))&&void 0!==s&&s.find((e=>(null===e||void 0===e?void 0:e.Document_Name)===ve)))p.Am.warning("Workflow Approval For ".concat(ve," is already created."));else{var t={Workflow_Name:Ne,Assignworkflow_Id:me,Workflow_Basedon:Ze,Document_Name:ve,Field_Name:je,Noof_Level:ke,Amountjosn:Ae,leveljson:Ae,Head_Approval:T,Partner_Id:parseInt(ie),Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId")),Created_Date:D.vQ};P().post("".concat(L._n,"/Erpapp/WorkflowCRUD/"),t,R).then((e=>{var s;console.log(e),201===(null===e||void 0===e?void 0:e.status)&&null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&s.id&&(p.Am.success("Workflow is Created Successfully"),o(!1),l(!0),a(),ce(""),pe(""),fe(""),ge(""),he(""),ye(""),De([{id:"",from_value:"",to_value:"",approver_name:"",role:"",level:""}]),Be({}))})).catch((e=>{console.log(e),(0,O.S)(e)}))}},children:[(0,q.jsxs)(C.Z,{className:"container",sx:{minHeight:"300px"},children:[(0,q.jsxs)(i.ZP,{container:!0,sx:{mt:2,ml:{sm:0,md:3}},children:[(0,q.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,q.jsxs)(n.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["Business Unit ",(0,q.jsx)("span",{className:"required",children:"*"})]}),(0,q.jsxs)(C.Z,{className:"col-md-4",children:[(0,q.jsx)(N.Z,{className:"search-select",name:"partnerName",onFocus:()=>{W.Z.listPartners(R).then((e=>{console.log("Partners",e),G(e)})).catch((e=>{console.log(e)}))},getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.Partner_Name?null===e||void 0===e?void 0:e.Partner_Name:"",options:Y,value:(null===Y||void 0===Y?void 0:Y.find((e=>(null===e||void 0===e?void 0:e.Partner_Name)===re)))||null,onChange:(e,l)=>{console.log(l),ce(null===l||void 0===l?void 0:l.Partner_Name),de(null===l||void 0===l?void 0:l.id)},isOptionEqualToValue:(e,l)=>(null===e||void 0===e?void 0:e.Partner_Name)===l||""===l,renderInput:e=>(0,q.jsx)(f.Z,(0,h.Z)((0,h.Z)({},e),{},{placeholder:"Business Unit",variant:"outlined",autoComplete:"off"}))}),(0,q.jsx)(C.Z,{style:{color:"red"},children:!re&&(null===Oe||void 0===Oe?void 0:Oe.partnerName)})]})]}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,q.jsxs)(n.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["Document Name ",(0,q.jsx)("span",{className:"required",children:"*"})]}),(0,q.jsxs)(C.Z,{className:"col-md-4",children:[(0,q.jsx)(N.Z,{className:"search-select",name:"documentName",onFocus:()=>{P().get("".concat(L._n,"/Erpapp/Assignworkflowdropdwonlist/"),R).then((e=>{console.log(e.data),oe(null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log(e)}))},getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.Document_Name?null===e||void 0===e?void 0:e.Document_Name:"",options:le,value:(null===le||void 0===le?void 0:le.find((e=>(null===e||void 0===e?void 0:e.Document_Name)===ve)))||null,onChange:(e,l)=>{console.log(l),l?(pe(null===l||void 0===l?void 0:l.Document_Name),ue(null===l||void 0===l?void 0:l.id),(async e=>{await P().get("".concat(L._n,"/Erpapp/Assignworkflowfilter/?Document_Name=").concat(e),R).then((e=>{var l,o,a,s,t,n,i;console.log("WFNAmesWFNAmes",null===e||void 0===e?void 0:e.data),fe(null===e||void 0===e||null===(l=e.data[0])||void 0===l?void 0:l.Workflow_Name),ge(null===e||void 0===e||null===(o=e.data[0])||void 0===o?void 0:o.Field_Name),he(null===e||void 0===e||null===(a=e.data[0])||void 0===a?void 0:a.Rule_Name),ye(null===e||void 0===e||null===(s=e.data[0])||void 0===s?void 0:s.Noof_Level),z(null===e||void 0===e||null===(t=e.data[0])||void 0===t?void 0:t.Head_Approval),""===(null===e||void 0===e||null===(n=e.data[0])||void 0===n?void 0:n.Field_Name)?(be(!1),_e("Level")):(be(!0),_e("Amount"));const d=null===(i=e.data[0])||void 0===i?void 0:i.Noof_Level;if(d){const e=[];for(let l=0;l<d;l++){const o={id:"",level:"Level ".concat(l+1),from_value:"",to_value:"",approver_name:"",role:""};e.push(o)}De(e)}})).catch((e=>{console.log(e)}))})(null===l||void 0===l?void 0:l.Document_Name)):(fe(""),ge(""),he(""),ye(""),pe(""),z(!1),De([{id:"",level:"Level 1",from_value:"",to_value:"",approver_name:"",role:""}]))},isOptionEqualToValue:(e,l)=>(null===e||void 0===e?void 0:e.Document_Name)===l||""===l,renderInput:e=>(0,q.jsx)(f.Z,(0,h.Z)((0,h.Z)({},e),{},{placeholder:"Document Name",variant:"outlined",autoComplete:"off"}))}),(0,q.jsx)(C.Z,{style:{color:"red"},children:!ve&&(null===Oe||void 0===Oe?void 0:Oe.documentName)})]})]}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,q.jsxs)(n.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["Workflow Name ",(0,q.jsx)("span",{className:"required",children:"*"})]}),(0,q.jsxs)(C.Z,{className:"col-md-4",children:[(0,q.jsx)(f.Z,{className:"col-12 input-box",name:"workflowName",value:Ne,placeholder:"Workflow Name",variant:"outlined",autoComplete:"off",disabled:!0}),(0,q.jsx)(C.Z,{style:{color:"red"},children:!Ne&&(null===Oe||void 0===Oe?void 0:Oe.workflowName)})]})]}),!0===we&&(0,q.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,q.jsx)(n.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:"Field Name"}),(0,q.jsx)(C.Z,{className:"col-md-4",children:(0,q.jsx)(f.Z,{className:"col-12 input-box",name:"fieldName",value:je,placeholder:"Field Name",variant:"outlined",autoComplete:"off",disabled:!0})})]}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,q.jsxs)(n.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["Rule Name ",(0,q.jsx)("span",{className:"required",children:"*"})]}),(0,q.jsxs)(C.Z,{className:"col-md-4",children:[(0,q.jsx)(f.Z,{className:"col-12 input-box",name:"ruleName",value:xe,placeholder:"Rule Name",variant:"outlined",autoComplete:"off",disabled:!0}),(0,q.jsx)(C.Z,{style:{color:"red"},children:!xe&&(null===Oe||void 0===Oe?void 0:Oe.ruleName)})]})]}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,q.jsxs)(n.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["No of Levels ",(0,q.jsx)("span",{className:"required",children:"*"})]}),(0,q.jsxs)(C.Z,{className:"col-md-4",children:[(0,q.jsx)(f.Z,{className:"col-12 input-box",name:"noOfLevels",value:ke,placeholder:"No of Levels",variant:"outlined",autoComplete:"off",disabled:!0}),(0,q.jsx)(C.Z,{style:{color:"red"},children:!ke&&(null===Oe||void 0===Oe?void 0:Oe.noOfLevels)})]})]})]}),(0,q.jsx)(C.Z,{sx:{mt:2},children:(0,q.jsx)(j.Z,{className:"input-label",checked:T,onChange:e=>z(e.target.checked),control:(0,q.jsx)(g.Z,{size:"small"}),label:"Require Department Head Approval",labelPlacement:"start"})}),(0,q.jsx)(C.Z,{sx:{mt:2},children:(0,q.jsx)(s.Z,{autoHeight:!0,autoHideTimeout:4e3,autoHeightMin:t||200,autoHide:!0,hideTracksWhenNotNeeded:!0,id:"no-more-tables",children:(0,q.jsxs)(d.Z,{className:"table table-bordered",sx:{width:"95%"},children:[(0,q.jsx)(r.Z,{className:"table-head",children:(0,q.jsxs)(c.Z,{children:[(0,q.jsx)(m.Z,{children:"Level"}),we&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(m.Z,{children:"From Range"}),(0,q.jsx)(m.Z,{children:"To Range"})]}),(0,q.jsx)(m.Z,{children:"Approver's Name"})]})}),(0,q.jsx)(u.Z,{children:Ae&&(null===Ae||void 0===Ae?void 0:Ae.map(((e,l)=>{const{level:o,from_value:a,to_value:s,approver_name:t}=e;return(0,q.jsxs)(c.Z,{children:[(0,q.jsx)(m.Z,{sx:{minWidth:"210px"},"data-title":"Level",children:(0,q.jsx)(f.Z,{className:"input-box col-12",placeholder:"Level",name:"level",value:"Level ".concat(l+1),autoComplete:"off",disabled:!0})}),we&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(m.Z,{sx:{minWidth:"210px"},"data-title":"From Range",children:(0,q.jsx)(B._,{className:"input-box col-12",placeholder:"From Range",name:"from_value",value:a,onChange:(e,o)=>{qe(e,l)},autoComplete:"off"})}),(0,q.jsx)(m.Z,{sx:{minWidth:"210px"},"data-title":"To Range",children:(0,q.jsx)(B._,{className:"input-box col-12",placeholder:"To Range",name:"to_value",value:s,onChange:(e,o)=>{qe(e,l)},autoComplete:"off"})})]}),(0,q.jsx)(m.Z,{sx:{minWidth:"210px"},"data-title":"Approver's Name",children:(0,q.jsx)(Z.Z,{className:"col-12",children:(0,q.jsx)(N.Z,{className:"search-select col-12",name:"approver_name",getOptionLabel:e=>"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName),options:He,value:(null===K||void 0===K?void 0:K.find((e=>"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName)===t)))||null,onChange:(e,o)=>{((e,l,o)=>{const a=[...Ae];if(o<0||o>=a.length)return;const s=(0,h.Z)({},a[o]),t=null===s||void 0===s?void 0:s.approver_name;s.approver_name="".concat(null===l||void 0===l?void 0:l.Employee_FirstName," ").concat(null===l||void 0===l?void 0:l.Employee_LasttName)||"",s.id=(null===l||void 0===l?void 0:l.id)||"",s.role=(null===l||void 0===l?void 0:l.Designation)||"",s.level="",a[o]=s,De(a);const n=[...Ie];if(t){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}if(t&&t!=="".concat(null===l||void 0===l?void 0:l.Employee_FirstName," ").concat(null===l||void 0===l?void 0:l.Employee_LasttName)){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}const i="".concat(null===l||void 0===l?void 0:l.Employee_FirstName," ").concat(null===l||void 0===l?void 0:l.Employee_LasttName);l&&i&&!n.includes(i)&&n.push(i),Ee(n)})(0,o,l)},isOptionEqualToValue:(e,l)=>(null===e||void 0===e?void 0:e.id)===(null===l||void 0===l?void 0:l.id)||""===l,renderInput:e=>(0,q.jsx)(f.Z,(0,h.Z)((0,h.Z)({},e),{},{placeholder:"Approver Name",variant:"outlined",autoComplete:"off"}))})})})]},l)})))})]})})})]}),(0,q.jsxs)(C.Z,{className:"buttons",sx:{mt:5},children:[(0,q.jsxs)(_.Z,{"aria-label":"split button",type:"submit",sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,q.jsx)(w.Z,{type:"submit",className:"plus-button",children:"Save"}),(0,q.jsx)(w.Z,{variant:"contained",className:"icon-button",children:(0,q.jsx)(I.TvB,{size:18})})]}),(0,q.jsxs)(_.Z,{"aria-label":"split button",sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},onClick:()=>{l(!0),o(!1),ce(""),pe(""),fe(""),ge(""),he(""),ye(""),De([{id:"",level:"",from_value:"",to_value:"",approver_name:"",role:""}]),Be({})},children:[(0,q.jsx)(w.Z,{className:"plus-button",children:"Cancel"}),(0,q.jsx)(w.Z,{variant:"contained",className:"icon-button",children:(0,q.jsx)(E.KZq,{size:24})})]})]})]})}),(0,q.jsx)(b.Z,{open:M,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,q.jsx)("form",{onSubmit:e=>{e.preventDefault();var l={Form_Name:We,Field_Name:Pe,FieldShort_Name:"",Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId")),Created_Date:D.vQ};P().post("".concat(L._n,"/Erpapp/WorkfloworiginCRUD/"),l,R).then((e=>{console.log(e),V(!1),201===e.status&&p.Am.success("Fields Created Successfully")})).catch((e=>{console.log(e)}))},children:(0,q.jsxs)("div",{children:[(0,q.jsxs)(k.Z,{children:[(0,q.jsx)(n.Z,{variant:"h3",children:"Create Field Name "}),(0,q.jsxs)(i.ZP,{container:!0,sx:{mt:2},children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,sx:{ml:2},children:(0,q.jsxs)(n.Z,{className:"col-12 input-label",children:["Model Name ",(0,q.jsx)("span",{className:"required",children:"*"})]})}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,sx:{ml:2},children:[(0,q.jsx)(N.Z,{onFocus:()=>{x.Z.filterFormNames(R).then((e=>{console.log(null===e||void 0===e?void 0:e.results),X(null===e||void 0===e?void 0:e.results)})).catch((e=>{console.log(e)}))},className:"search-select col-12",id:"free-solo-demo",options:J,getOptionLabel:e=>null===e||void 0===e?void 0:e.ModuleName,value:null===J||void 0===J?void 0:J.find((e=>(null===e||void 0===e?void 0:e.ModuleName)===Se)),onChange:(e,l)=>{console.log(l),Ce(null===l||void 0===l?void 0:l.ModuleName),(e=>{var l={ModuleName:null===e||void 0===e?void 0:e.ModuleName};P().post("".concat(L._n,"/Erpapp/Formpermissionfilter/"),l,R).then((e=>{console.log("res",e),ee(e.data)})).catch((e=>{console.log(e)}))})(l)},sx:{minWidth:"280px",maxWidth:"1005px"},renderInput:e=>(0,q.jsx)(f.Z,(0,h.Z)((0,h.Z)({},e),{},{placeholder:"Form Name",variant:"outlined",autoComplete:"off"}))}),(0,q.jsx)(C.Z,{style:{color:"red"}})]}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sx:{ml:2},children:(0,q.jsxs)(n.Z,{className:"col-12 input-label",children:["Document Name/Form Name ",(0,q.jsx)("span",{className:"required",children:"*"})]})}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,sx:{ml:2},children:[(0,q.jsx)(N.Z,{className:"search-select col-12",id:"free-solo-demo",options:$,getOptionLabel:e=>null===e||void 0===e?void 0:e.FormName,value:$.find((e=>(null===e||void 0===e?void 0:e.FormName)===We)),onChange:(e,l)=>{console.log(l),Fe(null===l||void 0===l?void 0:l.FormName),(e=>{console.log("newValue.FormName",null===e||void 0===e?void 0:e.FormName);var l=null===e||void 0===e?void 0:e.FormName;x.Z.filterlistFieldNames(l,R).then((e=>{var l;console.log("res1",e),ne(e),ge(null===(l=e[0])||void 0===l?void 0:l.Field_Name),be(!!e)})).catch((e=>{console.log(e)}))})(l)},sx:{minWidth:"280px",maxWidth:"1005px"},renderInput:e=>(0,q.jsx)(f.Z,(0,h.Z)((0,h.Z)({},e),{},{placeholder:"Document Name",variant:"outlined",autoComplete:"off"}))}),(0,q.jsx)(C.Z,{style:{color:"red"}})]}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sx:{ml:2},children:(0,q.jsxs)(n.Z,{className:"col-12 input-label",children:["Field Name ",(0,q.jsx)("span",{className:"required",children:"*"})]})}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,sx:{ml:2},children:[(0,q.jsx)(N.Z,{className:"search-select col-12",id:"free-solo-demo",name:"fieldName2",getOptionLabel:e=>null===e||void 0===e?void 0:e.Field_Name,value:te.find((e=>(null===e||void 0===e?void 0:e.Field_Name)===Pe)),options:te,onChange:(e,l)=>{console.log(l),Le(null===l||void 0===l?void 0:l.Field_Name)},autoComplete:"off",sx:{minWidth:"280px",maxWidth:"1005px"},renderInput:e=>(0,q.jsx)(f.Z,(0,h.Z)((0,h.Z)({},e),{},{placeholder:"Field Name",variant:"outlined",autoComplete:"off"}))}),(0,q.jsx)(C.Z,{style:{color:"red"}})]})]})]}),(0,q.jsxs)(y.Z,{children:[(0,q.jsxs)(_.Z,{"aria-label":"split button",sx:{mr:3},children:[(0,q.jsx)(w.Z,{className:"plus-button",type:"submit",children:"Save"}),(0,q.jsx)(w.Z,{variant:"contained",type:"submit",className:"icon-button",children:(0,q.jsx)(I.TvB,{size:18})})]}),(0,q.jsxs)(_.Z,{"aria-label":"split button",onClick:()=>V(!1),children:[(0,q.jsx)(w.Z,{className:"plus-button",children:"Cancel"}),(0,q.jsx)(w.Z,{variant:"contained",className:"icon-button",children:(0,q.jsx)(E.KZq,{size:24})})]})]})]})})})]})},U=e=>{var l;let{setListWorkflow:o,setEditWorkflow:a,listOfWorkflows:t,currentWorkflows:x,scrollHeight:b}=e;const k=localStorage.getItem("accesstoken"),y={headers:{Authorization:"Bearer ".concat(k),"Content-Type":"application/json",Accept:"application/json"}},[F,D]=(0,v.useState)(!0),[O,R]=(0,v.useState)(!1),[U,H]=(0,v.useState)(!1),[T,z]=(0,v.useState)([]),[M,V]=(0,v.useState)([]),[K,Q]=(0,v.useState)([]),[Y,G]=(0,v.useState)([]),[J,X]=(0,v.useState)(""),[$,ee]=(0,v.useState)(""),[le,oe]=(0,v.useState)(""),[ae,se]=(0,v.useState)(""),[te,ne]=(0,v.useState)("Amount"),[ie,de]=(0,v.useState)(!1),[re,ce]=(0,v.useState)(""),[me,ue]=(0,v.useState)(""),[ve,pe]=(0,v.useState)([]),[xe,he]=(0,v.useState)([{id:"",from_value:"",to_value:"",approver_name:"",role:"",level:""}]),Ne=null===x||void 0===x?void 0:x.Partner_Id,fe=null===x||void 0===x?void 0:x.Workflow_Name,je=null===x||void 0===x?void 0:x.Document_Name,ge=null===x||void 0===x?void 0:x.Field_Name,Ze=null===x||void 0===x||null===(l=x.Assignworkflow_Id)||void 0===l?void 0:l.Rule_Name,_e=null===x||void 0===x?void 0:x.Noof_Level,we=null===x||void 0===x?void 0:x.Head_Approval,be=null===x||void 0===x?void 0:x.Amountjosn;(0,v.useEffect)((()=>{X(Ne),oe(fe),ce(je),se(ge),ee(Ze),ue(_e),H(we),he(be)}),[x,Ne,fe,je,ge,Ze,_e,we,be]),(0,v.useEffect)((e=>{e?(D(!0),R(!1)):(D(!1),R(!0))}),[]);Array.from({length:100},((e,l)=>l+1));(0,v.useEffect)((()=>{A.Z.listofDropdownAllEmployees(y).then((e=>{console.log(e),z(e)})).catch((e=>{console.log(e)}))}),[]);(0,v.useEffect)((()=>{P().get("".concat(L._n,"/Erpapp/Assignworkflowfilter/?Document_Name=").concat(je),y).then((e=>{var l;console.log("WFNAmes",e.data),""===(null===e||void 0===e||null===(l=e.data[0])||void 0===l?void 0:l.Field_Name)?(de(!1),ne("Level")):(de(!0),ne("Amount"))})).catch((e=>{console.log(e)}))}),[null===x||void 0===x?void 0:x.id]);const ke=(e,l)=>{const{name:o,value:a}=e.target,s=[...xe];s[l][o]="from_value"===o||"to_value"===o?Number(a):a,he(s),console.log(s)};let ye=localStorage.getItem("Username"),Se=localStorage.getItem("Designation");null===T||void 0===T||T.filter((e=>("Admin"===Se||"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName)!==ye)&&!(null!==ve&&void 0!==ve&&ve.includes("".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName)))));const Ce=e=>{var l;const o=null===xe||void 0===xe||null===(l=xe.map(((l,o)=>o!==e?l.approver_name:null)))||void 0===l?void 0:l.filter((e=>e&&""!==e));return null===T||void 0===T?void 0:T.filter((l=>{const a="".concat(null===l||void 0===l?void 0:l.Employee_FirstName," ").concat(null===l||void 0===l?void 0:l.Employee_LasttName);return("Admin"===Se||a!==ye)&&(!o.includes(a)||xe[e].approver_name===a)}))};return console.log("approverNameLists",ve),(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(S.Z,{}),(0,q.jsx)(n.Z,{variant:"h3",sx:{fontWeight:600},children:"Workflow Approval"}),(0,q.jsx)(n.Z,{variant:"h4",sx:{fontWeight:500},children:"Users shall use this form to set up the approvers to approve various documents"}),(0,q.jsx)(C.Z,{children:(0,q.jsxs)("form",{onSubmit:e=>{e.preventDefault();var l={id:null===x||void 0===x?void 0:x.id,Workflow_Id:null===x||void 0===x?void 0:x.Workflow_Id,Workflow_Name:null===le||void 0===le?void 0:le.Workflow_Name,WorkflowName_Id:null===le||void 0===le?void 0:le.id,Workflow_Basedon:te,Document_Name:null===re||void 0===re?void 0:re.Document_Name,Field_Name:ae,Noof_Level:me,Amountjosn:xe,leveljson:xe,Head_Approval:U,Partner_Id:null===J||void 0===J?void 0:J.id,Company_Id:parseInt(localStorage.getItem("OrganizationId")),Created_By:parseInt(localStorage.getItem("UserId")),Updated_By:parseInt(localStorage.getItem("UserId"))};P().put("".concat(L._n,"/Erpapp/WorkflowCRUD/"),l,y).then((e=>{var l;console.log(e),null!==e&&void 0!==e&&null!==(l=e.data)&&void 0!==l&&l.id&&(p.Am.success("Workflow is Updated Successfully"),a(!1),o(!0),t())})).catch((e=>{console.log(e)}))},children:[(0,q.jsxs)(C.Z,{className:"container",sx:{minHeight:"300px"},children:[(0,q.jsxs)(i.ZP,{container:!0,sx:{mt:2,ml:{sm:0,md:3}},children:[(0,q.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,q.jsxs)(n.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["Business Unit ",(0,q.jsx)("span",{className:"required",children:"*"})]}),(0,q.jsx)(C.Z,{className:"col-md-4",children:(0,q.jsx)(N.Z,{className:"search-select",name:"partnerName",onFocus:()=>{W.Z.listPartners(y).then((e=>{console.log("Partners",e),V(e)})).catch((e=>{console.log(e)}))},getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.Partner_Name?null===e||void 0===e?void 0:e.Partner_Name:"",options:M,value:J,onChange:(e,l)=>{console.log(l),X(l)},isOptionEqualToValue:(e,l)=>(null===e||void 0===e?void 0:e.Partner_Name)===l||""===l,renderInput:e=>(0,q.jsx)(f.Z,(0,h.Z)((0,h.Z)({},e),{},{placeholder:"Business Unit",variant:"outlined",autoComplete:"off"}))})})]}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,q.jsxs)(n.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["Document Name ",(0,q.jsx)("span",{className:"required",children:"*"})]}),(0,q.jsx)(C.Z,{className:"col-md-4",children:(0,q.jsx)(N.Z,{className:"col-12 search-select",name:"documentName",onFocus:()=>{P().get("".concat(L._n,"/Erpapp/Assignworkflowdropdwonlist/"),y).then((e=>{console.log(null===e||void 0===e?void 0:e.data),Q(null===e||void 0===e?void 0:e.data)})).catch((e=>{console.log(e)}))},getOptionLabel:e=>"string"===typeof e?e:e&&null!==e&&void 0!==e&&e.Document_Name?null===e||void 0===e?void 0:e.Document_Name:"",options:K,value:re,onChange:(e,l)=>{console.log(l),ce(l),(e=>{P().get("".concat(L._n,"/Erpapp/Assignworkflowfilter/?Document_Name=").concat(e),y).then((e=>{var l,o,a,s,t,n,i;console.log("WFNAmes",e.data),oe(null===(l=e.data[0])||void 0===l?void 0:l.Workflow_Name),se(null===e||void 0===e||null===(o=e.data[0])||void 0===o?void 0:o.Field_Name),ee(null===e||void 0===e||null===(a=e.data[0])||void 0===a?void 0:a.Rule_Name),ue(null===e||void 0===e||null===(s=e.data[0])||void 0===s?void 0:s.Noof_Level),H(null===e||void 0===e||null===(t=e.data[0])||void 0===t?void 0:t.Head_Approval),""===(null===e||void 0===e||null===(n=e.data[0])||void 0===n?void 0:n.Field_Name)?(de(!1),ne("Level")):(de(!0),ne("Amount"));const d=null===(i=e.data[0])||void 0===i?void 0:i.Noof_Level;if(d){const e=[];for(let l=0;l<d;l++){const o={id:"",level:"Level ".concat(l+1),from_value:"",to_value:"",approver_name:"",role:""};e.push(o)}he(e)}})).catch((e=>{console.log(e)}))})(null===l||void 0===l?void 0:l.Document_Name)},isOptionEqualToValue:(e,l)=>(null===e||void 0===e?void 0:e.Document_Name)===l||""===l,renderInput:e=>(0,q.jsx)(f.Z,(0,h.Z)((0,h.Z)({},e),{},{placeholder:"Document Name",variant:"outlined",autoComplete:"off"}))})})]}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,q.jsxs)(n.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["Workflow Name ",(0,q.jsx)("span",{className:"required",children:"*"})]}),(0,q.jsx)(C.Z,{className:"col-md-4",children:(0,q.jsx)(f.Z,{className:"col-12 input-box",name:"workflowName",value:le,placeholder:"Workflow Name",variant:"outlined",autoComplete:"off",disabled:!0})})]}),!0===ie&&(0,q.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,q.jsx)(n.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:"Field Name"}),(0,q.jsx)(C.Z,{className:"col-md-4",children:(0,q.jsx)(f.Z,{className:"col-12 input-box",name:"fieldName",value:ae,placeholder:"Field Name",variant:"outlined",autoComplete:"off",disabled:!0})})]}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,q.jsxs)(n.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["Rule Name ",(0,q.jsx)("span",{className:"required",children:"*"})]}),(0,q.jsx)(C.Z,{className:"col-md-4",children:(0,q.jsx)(f.Z,{className:"col-12 input-box",name:"ruleName",value:$,placeholder:"Rule Name",variant:"outlined",autoComplete:"off",disabled:!0})})]}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,className:"row",sx:{mt:1},children:[(0,q.jsxs)(n.Z,{variant:"h4",className:"col-md-4 col-lg-3",sx:{mt:2},children:["No of Levels ",(0,q.jsx)("span",{className:"required",children:"*"})]}),(0,q.jsx)(C.Z,{className:"col-md-4",children:(0,q.jsx)(f.Z,{className:"col-12 input-box",name:"noOfLevels",value:me,placeholder:"No of Levels",variant:"outlined",autoComplete:"off",disabled:!0})})]})]}),(0,q.jsx)(C.Z,{sx:{mt:2,p:{xs:0,md:2}},children:(0,q.jsx)(j.Z,{className:"input-label",checked:U,onChange:e=>H(e.target.checked),control:(0,q.jsx)(g.Z,{size:"small"}),label:"Require Department Head Approval",labelPlacement:"start"})}),(0,q.jsx)(C.Z,{sx:{mt:2},children:(0,q.jsx)(s.Z,{autoHeight:!0,autoHideTimeout:4e3,autoHeightMin:b||200,autoHide:!0,hideTracksWhenNotNeeded:!0,id:"no-more-tables",children:(0,q.jsxs)(d.Z,{className:"table table-bordered",children:[(0,q.jsx)(r.Z,{className:"table-head",children:(0,q.jsxs)(c.Z,{children:[(0,q.jsx)(m.Z,{children:"Level"}),ie&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(m.Z,{children:"From Range"}),(0,q.jsx)(m.Z,{children:"To Range"})]}),(0,q.jsx)(m.Z,{children:"Approver's Name"})]})}),(0,q.jsx)(u.Z,{children:null===xe||void 0===xe?void 0:xe.map(((e,l)=>{let{level:o,from_value:a,to_value:s,approver_name:t}=e;return(0,q.jsxs)(c.Z,{children:[(0,q.jsx)(m.Z,{sx:{minWidth:"210px"},"data-title":"Level",children:(0,q.jsx)(f.Z,{className:"input-box col-12",placeholder:"Level",name:"level",value:"Level ".concat(l+1),autoComplete:"off",disabled:!0})}),ie&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(m.Z,{sx:{minWidth:"210px"},"data-title":"From Range",children:(0,q.jsx)(B._,{className:"input-box col-12",placeholder:"From Range",name:"from_value",value:a,onChange:(e,o)=>{ke(e,l)},autoComplete:"off"})}),(0,q.jsx)(m.Z,{sx:{minWidth:"210px"},"data-title":"To Range",children:(0,q.jsx)(B._,{className:"input-box col-12",placeholder:"To Range",name:"to_value",value:s,onChange:(e,o)=>{ke(e,l)},autoComplete:"off"})})]}),(0,q.jsx)(m.Z,{sx:{minWidth:"210px"},"data-title":"Approver Name",children:(0,q.jsx)(Z.Z,{className:"col-12",children:(0,q.jsx)(N.Z,{className:"search-select col-12",name:"approver_name",getOptionLabel:e=>"string"===typeof e?e:e&&"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName)?"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName):"",options:Ce(l),value:t||"",onChange:(e,o)=>((e,l,o)=>{const a=[...xe];if(o<0||o>=a.length)return;const s=(0,h.Z)({},a[o]),t=null===s||void 0===s?void 0:s.approver_name;s.approver_name=l?"".concat(null===l||void 0===l?void 0:l.Employee_FirstName," ").concat(null===l||void 0===l?void 0:l.Employee_LasttName):"",s.id=(null===l||void 0===l?void 0:l.id)||"",s.role=(null===l||void 0===l?void 0:l.Designation)||"",s.level="Level ".concat(o+1),a[o]=s,he(a);let n=null===a||void 0===a?void 0:a.map((e=>null===e||void 0===e?void 0:e.approver_name)).filter((e=>e&&""!==e));const i=l?"".concat(null===l||void 0===l?void 0:l.Employee_FirstName," ").concat(null===l||void 0===l?void 0:l.Employee_LasttName):"";var d;i&&!n.includes(i)&&n.push(i),t&&t!==i&&(n=null===(d=n)||void 0===d?void 0:d.filter((e=>e!==t))),pe(n)})(0,o,l),isOptionEqualToValue:(e,l)=>"".concat(null===e||void 0===e?void 0:e.Employee_FirstName," ").concat(null===e||void 0===e?void 0:e.Employee_LasttName)===l||""===l,renderInput:e=>(0,q.jsx)(f.Z,(0,h.Z)((0,h.Z)({},e),{},{placeholder:"Approver Name",variant:"outlined",autoComplete:"off"}))})})})]},l)}))})]})})})]}),(0,q.jsxs)(C.Z,{className:"buttons",sx:{mt:5},children:[(0,q.jsxs)(_.Z,{"aria-label":"split button",type:"submit",sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,q.jsx)(w.Z,{className:"plus-button",type:"submit",children:"Update"}),(0,q.jsx)(w.Z,{variant:"contained",type:"submit",className:"icon-button",children:(0,q.jsx)(I.TvB,{size:18})})]}),(0,q.jsxs)(_.Z,{"aria-label":"split button",onClick:()=>{o(!0),a(!1),X(Ne),oe(fe),ce(je),se(ge),ee(Ze),ue(_e),H(we),he(be)},sx:{mt:{xs:.5,lg:0},mr:{xs:0,md:1}},children:[(0,q.jsx)(w.Z,{className:"plus-button",children:"Cancel"}),(0,q.jsx)(w.Z,{variant:"contained",className:"icon-button",children:(0,q.jsx)(E.KZq,{size:24})})]})]})]})})]})};var H=o(63677),T=o(67807),z=o(27490),M=o(77573),V=o(3787),K=o(16030),Q=o(67965);const Y=e=>{let{scrollHeight:l}=e;const o=localStorage.getItem("accesstoken"),h={headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"}},N=(0,K.I0)(),{userRolePermissions:f,formPermissions:j,modulePermissions:g}=(0,K.v9)(Q.YT),[Z,_]=(0,v.useState)(!0),[w,b]=(0,v.useState)(!1),[k,y]=(0,v.useState)(!1),[S,C]=(0,v.useState)(!1),[W,F]=(0,v.useState)(""),[I,E]=(0,v.useState)(""),[A,O]=(0,v.useState)([]),[Y,G]=(0,v.useState)([]),[J,X]=(0,v.useState)(""),[$,ee]=(0,v.useState)(!1),[le,oe]=(0,v.useState)(1),[ae,se]=(0,v.useState)(0),[te,ne]=(0,v.useState)(10),[ie,de]=(0,v.useState)(le-1),re=ae,ce=Math.ceil(re/te);(0,T.Z)("down","md");const me=()=>{ee(!0),x.Z.listWorkflows(le,h).then((e=>{console.log(null===e||void 0===e?void 0:e.count),O(null===e||void 0===e?void 0:e.results),se(null===e||void 0===e?void 0:e.count),ee(!1)})).catch((e=>{console.log(e),ee(!1)}))};(0,v.useEffect)((()=>{me()}),[O]);return(0,v.useEffect)((()=>{N((0,Q.sr)(o))}),[]),(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(a.Z,{children:[(0,q.jsxs)(t.Z,{sx:{display:!0===Z?"block":"none"},children:[(0,q.jsxs)(n.Z,{variant:"h3",sx:{fontWeight:600},children:["Business Unit Workflow List - Count : ",ae||0]}),(0,q.jsx)(n.Z,{variant:"h4",sx:{fontWeight:500},children:"User shall use this form to apply the workflow to business unit for specific documents."}),(0,q.jsxs)(i.ZP,{container:!0,sx:{mt:2},children:[(0,q.jsx)(i.ZP,{item:!0,className:"filter",xs:12,md:1,lg:3,xl:5}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:5,sm:12,lg:4,xl:4,children:(0,q.jsx)(V.WS,{handleChange:e=>{var l=e.target.value;X(l),""!==l?(async e=>{await P().get("".concat(L._n,"/Erpapp/workflowsearch/?search=").concat(e),h).then((e=>{var l;console.log(null===e||void 0===e?void 0:e.data),O(null===e||void 0===e?void 0:e.data),se(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.length)})).catch((e=>{console.log("ds",e)}))})(l):me()},searchData:J})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:6,sm:12,lg:5,xl:3,sx:{display:"flex",justifyContent:"flex-end",mt:{xs:1,md:0}},children:Array.isArray(f)&&f.includes(217)&&(0,q.jsx)(V.pO,{handleClick:()=>{_(!1),b(!0)},name:"Create Workflow"})})]}),(0,q.jsx)(t.Z,{sx:{mt:1},children:(0,q.jsxs)(v.Fragment,{children:[(0,q.jsx)(s.Z,{autoHeight:!0,autoHideTimeout:4e3,autoHeightMin:l||360,autoHide:!0,hideTracksWhenNotNeeded:!0,id:"no-more-tables",children:(0,q.jsxs)(d.Z,{stickyHeader:!0,className:"table",children:[(0,q.jsx)(r.Z,{className:"table-head",children:(0,q.jsxs)(c.Z,{children:[(0,q.jsx)(m.Z,{children:"Date"}),(0,q.jsx)(m.Z,{children:"Business Unit"}),(0,q.jsx)(m.Z,{children:"Workflow Name"}),(0,q.jsx)(m.Z,{sx:{minWidth:"200px !important"},children:"Workflow Based On"}),(0,q.jsx)(m.Z,{sx:{minWidth:"200px !important"},children:"Document Name"}),(0,q.jsx)(m.Z,{children:"No Of Levels"}),(0,q.jsx)(m.Z,{children:"Action"})]})}),(0,q.jsx)(u.Z,{children:$?(0,q.jsx)(B.tv,{headCount:7,rowCount:10}):(null===A||void 0===A?void 0:A.length)>0?null===A||void 0===A?void 0:A.map((e=>{var l;return(0,q.jsxs)(c.Z,{hover:!0,sx:{fontSize:14},children:[(0,q.jsx)(m.Z,{"data-title":"Date",children:(0,q.jsx)(D.CN,{date:null===e||void 0===e?void 0:e.Created_Date})}),(0,q.jsx)(m.Z,{"data-title":"Business Unit",children:null===e||void 0===e||null===(l=e.Partner_Id)||void 0===l?void 0:l.Partner_Name}),(0,q.jsx)(m.Z,{"data-title":"Workflow Name",children:null===e||void 0===e?void 0:e.Workflow_Name}),(0,q.jsx)(m.Z,{"data-title":"Workflow Based On",children:null===e||void 0===e?void 0:e.Workflow_Basedon}),(0,q.jsx)(m.Z,{"data-title":"Document Name",children:null===e||void 0===e?void 0:e.Document_Name}),(0,q.jsx)(m.Z,{"data-title":"No Of Levels",children:null===e||void 0===e?void 0:e.Noof_Level}),(0,q.jsx)(m.Z,{"data-title":"Action",children:(0,q.jsx)(V.i8,{userRolePermissions:f,editPermissionId:218,deletePermissionId:219,onClickEdit:()=>(e=>{y(!0),_(!1),G(e)})(e),onClickDelete:()=>(e=>{C(!0),F(null===e||void 0===e?void 0:e.id),E(null===e||void 0===e?void 0:e.Workflow_Id),G(e)})(e),align:"left"})})]},null===e||void 0===e?void 0:e.id)})):(0,q.jsx)(c.Z,{children:(0,q.jsx)(m.Z,{colSpan:8,align:"center",children:"No Workflows"})})})]})}),(0,q.jsx)(t.Z,{sx:{display:"flex",flexWrap:"wrap"},children:(0,q.jsx)(z.Z,{totalPages:ce,page:le,handleChangePage:async(e,l)=>{oe(l),ee(!0);try{Boolean(J)&&Boolean((null===J||void 0===J?void 0:J.length)>0)?await P().get("".concat(L._n,"/Erpapp/workflowsearch/?search=").concat(J,"&page=").concat(l),h).then((e=>{var l;console.log(null===e||void 0===e?void 0:e.data),O(null===e||void 0===e?void 0:e.data),se(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.length)})).catch((e=>{console.log("ds",e)})):x.Z.listWorkflows(l,h).then((e=>{O(null===e||void 0===e?void 0:e.results),se(null===e||void 0===e?void 0:e.count),ee(!1)})).catch((e=>{console.log(e),ee(!1)}))}catch(o){console.log(o)}},rowsPerPageOptions:[10],rowsPerPage:te,handleChangeRowsPerPage:e=>{const l=parseInt(e.target.value,10),o=Math.floor((le-1)*te/l)+1;ne(l),oe(o)}})})]})}),(0,q.jsx)(M.e4,{flag:S,setFlag:C,handleClick:e=>{e.preventDefault(),x.Z.deleteWorkflow(I,h).then((e=>{p.Am.success("".concat(null===Y||void 0===Y?void 0:Y.Document_Name," is Deleted Successfully")),C(!1),me()})).catch((e=>{console.log(e)}))},content:"Are you sure you want to delete the workflow",id:null===Y||void 0===Y?void 0:Y.Document_Name})]}),(0,q.jsx)(t.Z,{sx:{display:!0===w?"block":"none"},children:(0,q.jsx)(R,{setCreateWorkflow:b,setListWorkflow:_,listOfWorkflows:me,workflows:A})}),(0,q.jsx)(t.Z,{sx:{display:!0===k?"block":"none"},children:(0,q.jsx)(U,{setEditWorkflow:y,setListWorkflow:_,listOfWorkflows:me,currentWorkflows:Y})}),(0,q.jsx)(H.Z,{Scrollheight:180})]})})}},27490:(e,l,o)=>{o.d(l,{Z:()=>c});var a=o(45820),s=o(61889),t=o(57246),n=o(67807),i=o(72791),d=o(80184);const r=e=>{let{totalPages:l,page:o=1,handleChangePage:i=(()=>{}),rowsPerPageOptions:r,rowsPerPage:c,handleChangeRowsPerPage:m=(()=>{})}=e,u=(0,n.Z)("down","md"),v=(0,n.Z)("down","lg");const{sidebarOptions:p,setSidebarOptions:x}=(0,a.bV)();return console.log("sidebarOptions from pagination",null===p||void 0===p?void 0:p.open),(0,d.jsxs)(s.ZP,{container:!0,spacing:1,sx:{mt:2,display:"flex",alignItems:"center"},children:[(0,d.jsx)(s.ZP,{item:!0,xs:12,md:0,lg:null!==p&&void 0!==p&&p.open?1.5:3,xl:4.5}),(0,d.jsx)(s.ZP,{item:!0,xs:12,md:null!==p&&void 0!==p&&p.open?5:4,lg:(null!==p&&void 0!==p&&p.open,4),xl:3.5,sx:{display:"flex",justifyContent:{xs:"center",md:"flex-end"},alignItems:"center",gap:"10px !important"}}),(0,d.jsx)(s.ZP,{item:!0,xs:12,md:null!==p&&void 0!==p&&p.open?7:8,lg:null!==p&&void 0!==p&&p.open?6.5:5,xl:4,sx:{display:"flex",justifyContent:{xs:"center",md:"flex-end"},alignItems:"center",gap:"10px !important"},children:(0,d.jsx)(t.Z,{color:"primary",count:l,page:o,onChange:(e,l)=>i(e,l),variant:"outlined",shape:"rounded",showFirstButton:!Boolean(u||v)||!Boolean((null===p||void 0===p?void 0:p.open)||u),showLastButton:!Boolean(u||v)||!Boolean((null===p||void 0===p?void 0:p.open)||u),siblingCount:0})})]})},c=(0,i.memo)(r)}}]);
//# sourceMappingURL=568.b8932b29.chunk.js.map